/*! For license information please see main.3dfc4fe5.js.LICENSE.txt */
(()=>{var e={27:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(43),l=(r=i)&&r.__esModule?r:{default:r},s=n(907),c=n(847);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return s.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,a=n.headers,o=n.separator,i=n.filename,l=n.enclosingCharacter,c=n.uFEFF,u=t&&"function"===typeof r?r():r,d=new Blob([c?"\ufeff":"",(0,s.toCSV)(u,a,o,l)]);return window.navigator.msSaveBlob(d,i),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()})}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,o=t.separator,i=t.filename,s=t.uFEFF,c=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),f="undefined"===typeof window?"":this.buildURI(n,s,r,o,u);return l.default.createElement("a",a({download:i},d,{ref:function(t){return e.link=t},target:"_self",href:f,onClick:this.handleClick()}),c)}}]),t}(l.default.Component);u.defaultProps=c.defaultProps,u.propTypes=c.propTypes,t.default=u},43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:l.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var x=b.prototype=new g;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var a,o={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!S.hasOwnProperty(a)&&(o[a]=t[a]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===o[a]&&(o[a]=s[a]);return{$$typeof:n,type:e,key:i,ref:l,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,o,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return i=i(s=e),e=""===o?"."+_(s,0):o,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(i,t,a,"",function(e){return e})):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+_(l=e[c],c);s+=P(l,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=P(l=l.value,t,a,u=o+_(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},A={transition:null},L={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];a.children=s}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>o(s,n))c<a&&0>o(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(y=!1,x(e),!m)if(null!==r(c))m=!0,A(j);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function j(e,n){m=!1,y&&(y=!1,g(E),E=-1),h=!0;var o=p;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!P());){var i=f.callback;if("function"===typeof i){f.callback=null,p=f.priorityLevel;var l=i(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===r(c)&&a(c),x(n)}else a(c);f=r(c)}if(null!==f)var s=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),s=!1}return s}finally{f=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,N=null,E=-1,C=5,_=-1;function P(){return!(t.unstable_now()-_<C)}function R(){if(null!==N){var e=t.unstable_now();_=e;var n=!0;try{n=N(!0,e)}finally{n?k():(S=!1,N=null)}}else S=!1}if("function"===typeof b)k=function(){b(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,T=O.port2;O.port1.onmessage=R,k=function(){T.postMessage(null)}}else k=function(){v(R,0)};function A(e){N=e,S||(S=!0,k())}function L(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,A(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(y?(g(E),E=-1):y=!0,L(w,o-i))):(e.sortIndex=l,n(c,e),m||h||(m=!0,A(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},378:(e,t,n)=>{e.exports=n(918)},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(43),i=(r=o)&&r.__esModule?r:{default:r},l=n(907),s=n(847);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return l.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,a=e.enclosingCharacter,o=e.uFEFF,i=e.target,l=e.specs,s=e.replace;this.state.page=window.open(this.buildURI(t,o,n,r,a),i,l,s)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(i.default.Component);c.defaultProps=Object.assign(s.defaultProps,{target:"_blank"}),c.propTypes=s.propTypes,t.default=c},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var I,D=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==o[l]){var s="\n"+a[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function M(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case N:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){G(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function oe(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Se=null;function Ne(e){if(e=ba(e)){if("function"!==typeof je)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function _e(e,t){return e(t)}function Pe(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return _e(e,t,n)}finally{Re=!1,(null!==ke||null!==Se)&&(Pe(),Ce())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ae=!1}function Fe(e,t,n,r,a,o,i,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,De=null,ze=!1,Ue=null,Be={onError:function(e){Ie=!0,De=e}};function Me(e,t,n,r,a,o,i,l,s){Ie=!1,De=null,Fe.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(We(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return $e(a),e;if(i===r)return $e(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ge=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~a;0!==l?r=dt(l):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,kt,St,Nt,Et=!1,Ct=[],_t=null,Pt=null,Rt=null,Ot=new Map,Tt=new Map,At=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=ga(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Nt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){zt(e)&&n.delete(t)}function Bt(){Et=!1,null!==_t&&zt(_t)&&(_t=null),null!==Pt&&zt(Pt)&&(Pt=null),null!==Rt&&zt(Rt)&&(Rt=null),Ot.forEach(Ut),Tt.forEach(Ut)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Mt(t,e)}if(0<Ct.length){Mt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Mt(_t,e),null!==Pt&&Mt(Pt,e),null!==Rt&&Mt(Rt,e),Ot.forEach(t),Tt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Dt(n),null===n.blockedOn&&At.shift()}var qt=x.ReactCurrentBatchConfig,$t=!0;function Vt(e,t,n,r){var a=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,qt.transition=o}}function Ht(e,t,n,r){var a=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,qt.transition=o}}function Kt(e,t,n,r){if($t){var a=Jt(e,t,n,r);if(null===a)$r(e,t,r,Yt,n),Ft(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _t=It(_t,e,t,n,r,a),!0;case"dragenter":return Pt=It(Pt,e,t,n,r,a),!0;case"mouseover":return Rt=It(Rt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ot.set(o,It(Ot.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Tt.set(o,It(Tt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&wt(o),null===(o=Jt(e,t,n,r))&&$r(e,t,r,Yt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Yt=null;function Jt(e,t,n,r){if(Yt=null,null!==(e=ga(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Gt?Gt.value:Gt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=D({},cn,{view:0,detail:0}),fn=an(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=an(pn),mn=an(D({},pn,{dataTransfer:0})),yn=an(D({},dn,{relatedTarget:0})),vn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),xn=an(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Nn(){return Sn}var En=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),_n=an(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Rn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(On),An=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var In=u&&"TextEvent"in window&&!Fn,Dn=u&&(!Ln||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Yn(e){zr(e,0)}function Jn(e){if(K(xa(e)))return e}function Qn(e,t){if("change"===e)return t}var Gn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Gn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Vn(t,Kn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function or(e,t){if("click"===e)return Jn(t)}function ir(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,gr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Y(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function Nr(e){if(kr[e])return kr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Er=Nr("animationend"),Cr=Nr("animationiteration"),_r=Nr("animationstart"),Pr=Nr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Rr.set(e,t),s(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Lr=Or[Ar];Tr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Tr(Er,"onAnimationEnd"),Tr(Cr,"onAnimationIteration"),Tr(_r,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,l,s,c){if(Me.apply(this,arguments),Ie){if(!Ie)throw Error(o(198));var u=De;Ie=!1,De=null,ze||(ze=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;Dr(a,l,c),o=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,c=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;Dr(a,l,c),o=s}}}if(ze)throw e=Ue,ze=!1,Ue=null,e}function Ur(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Mr]){e[Mr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var a=Vt;break;case 4:a=Ht;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=ga(l)))return;if(5===(s=i.tag)||6===s){r=o=i;continue e}l=l.parentNode}}r=r.return}Oe(function(){var r=o,a=we(n),i=[];e:{var l=Rr.get(e);if(void 0!==l){var s=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Er:case Cr:case _r:s=vn;break;case Pr:s=Rn;break;case"scroll":s=fn;break;case"wheel":s=Tn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_n}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Te(h,f))&&u.push(Vr(h,m,p)))),d)break;h=h.return}0<u.length&&(l=new s(l,c,null,n,a),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ga(c)&&!c[ha])&&(s||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ga(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==s?l:xa(s),p=null==c?l:xa(c),(l=new u(m,h+"leave",s,n,a)).target=d,l.relatedTarget=p,m=null,ga(a)===r&&((u=new u(f,h+"enter",c,n,a)).target=p,u.relatedTarget=d,m=u),d=m,s&&c)e:{for(f=c,h=0,p=u=s;p;p=Kr(p))h++;for(p=0,m=f;m;m=Kr(m))p++;for(;0<h-p;)u=Kr(u),h--;for(;0<p-h;)f=Kr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Kr(u),f=Kr(f)}u=null}else u=null;null!==s&&Yr(i,l,s,u,!1),null!==c&&null!==d&&Yr(i,d,c,u,!0)}if("select"===(s=(l=r?xa(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var y=Qn;else if($n(l))if(Gn)y=ir;else{y=ar;var v=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(y=or);switch(y&&(y=y(e,r))?Vn(i,y,n,a):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=r?xa(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(yr=v,vr=r,gr=null);break;case"focusout":gr=vr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(i,n,a)}var g;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(g=en()):(Xt="value"in(Gt=a)?Gt.value:Gt.textContent,Wn=!0)),0<(v=Hr(r,b)).length&&(b=new xn(b,e,null,n,a),i.push({event:b,listeners:v}),g?b.data=g:null!==(g=Mn(n))&&(b.data=g))),(g=In?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Un=!0,zn);case"textInput":return(e=t.data)===zn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Xt=Gt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=g))}zr(i,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Te(e,n))&&r.unshift(Vr(e,o,a)),null!=(o=Te(e,t))&&r.push(Vr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(s=Te(n,o))&&i.unshift(Vr(n,s,l)):a||null!=(s=Te(n,o))&&i.push(Vr(n,s,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(la)}:ra;function la(e){setTimeout(function(){throw e})}function sa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,ya="__reactListeners$"+da,va="__reactHandles$"+da;function ga(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[pa]||null}var ja=[],ka=-1;function Sa(e){return{current:e}}function Na(e){0>ka||(e.current=ja[ka],ja[ka]=null,ka--)}function Ea(e,t){ka++,ja[ka]=e.current,e.current=t}var Ca={},_a=Sa(Ca),Pa=Sa(!1),Ra=Ca;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Na(Pa),Na(_a)}function La(e,t,n){if(_a.current!==Ca)throw Error(o(168));Ea(_a,t),Ea(Pa,n)}function Fa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,q(e)||"Unknown",a));return D({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ra=_a.current,Ea(_a,e),Ea(Pa,Pa.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Fa(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Na(Pa),Na(_a),Ea(_a,e)):Na(Pa),Ea(Pa,n)}var za=null,Ua=!1,Ba=!1;function Ma(e){null===za?za=[e]:za.push(e)}function Wa(){if(!Ba&&null!==za){Ba=!0;var e=0,t=bt;try{var n=za;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ua=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ke(Ze,Wa),a}finally{bt=t,Ba=!1}}return null}var qa=[],$a=0,Va=null,Ha=0,Ka=[],Ya=0,Ja=null,Qa=1,Ga="";function Xa(e,t){qa[$a++]=Ha,qa[$a++]=Va,Va=e,Ha=t}function Za(e,t,n){Ka[Ya++]=Qa,Ka[Ya++]=Ga,Ka[Ya++]=Ja,Ja=e;var r=Qa;e=Ga;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Ga=o+e}else Qa=1<<o|n<<a|r,Ga=e}function eo(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function to(e){for(;e===Va;)Va=qa[--$a],qa[$a]=null,Ha=qa[--$a],qa[$a]=null;for(;e===Ja;)Ja=Ka[--Ya],Ka[Ya]=null,Ga=Ka[--Ya],Ka[Ya]=null,Qa=Ka[--Ya],Ka[Ya]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Qa,overflow:Ga}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!lo(e,t)){if(so(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&lo(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw po(),Error(o(418));for(;t;)io(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ca(e.nextSibling)}function ho(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var yo=x.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&bo(o)===t.type)?((r=a(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case j:return(t=zc(t,e.mode,n)).return=e,t;case T:return f(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;go(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case T:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:d(e,t,n,r,null);go(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,a,null);go(t,r)}return null}function m(a,o,l,s){for(var c=null,u=null,d=o,m=o=0,y=null;null!==d&&m<l.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var v=p(a,d,l[m],s);if(null===v){null===d&&(d=y);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===u?c=v:u.sibling=v,u=v,d=y}if(m===l.length)return n(a,d),ao&&Xa(a,m),c;if(null===d){for(;m<l.length;m++)null!==(d=f(a,l[m],s))&&(o=i(d,o,m),null===u?c=d:u.sibling=d,u=d);return ao&&Xa(a,m),c}for(d=r(a,d);m<l.length;m++)null!==(y=h(d,a,m,l[m],s))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),o=i(y,o,m),null===u?c=y:u.sibling=y,u=y);return e&&d.forEach(function(e){return t(a,e)}),ao&&Xa(a,m),c}function y(a,l,s,c){var u=F(s);if("function"!==typeof u)throw Error(o(150));if(null==(s=u.call(s)))throw Error(o(151));for(var d=u=null,m=l,y=l=0,v=null,g=s.next();null!==m&&!g.done;y++,g=s.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=p(a,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),l=i(b,l,y),null===d?u=b:d.sibling=b,d=b,m=v}if(g.done)return n(a,m),ao&&Xa(a,y),u;if(null===m){for(;!g.done;y++,g=s.next())null!==(g=f(a,g.value,c))&&(l=i(g,l,y),null===d?u=g:d.sibling=g,d=g);return ao&&Xa(a,y),u}for(m=r(a,m);!g.done;y++,g=s.next())null!==(g=h(m,a,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),l=i(g,l,y),null===d?u=g:d.sibling=g,d=g);return e&&m.forEach(function(e){return t(a,e)}),ao&&Xa(a,y),u}return function e(r,o,i,s){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=o;null!==u;){if(u.key===c){if((c=i.type)===k){if(7===u.tag){n(r,u.sibling),(o=a(u,i.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&bo(c)===u.type){n(r,u.sibling),(o=a(u,i.props)).ref=vo(r,u,i),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===k?((o=Fc(i.props.children,r.mode,s,i.key)).return=r,r=o):((s=Lc(i.type,i.key,i.props,null,r.mode,s)).ref=vo(r,o,i),s.return=r,r=s)}return l(r);case j:e:{for(u=i.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(i,r.mode,s)).return=r,r=o}return l(r);case T:return e(r,o,(u=i._init)(i._payload),s)}if(te(i))return m(r,o,i,s);if(F(i))return y(r,o,i,s);go(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Dc(i,r.mode,s)).return=r,r=o),l(r)):n(r,o)}}var wo=xo(!0),jo=xo(!1),ko=Sa(null),So=null,No=null,Eo=null;function Co(){Eo=No=So=null}function _o(e){var t=ko.current;Na(ko),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){So=e,Eo=No=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===No){if(null===So)throw Error(o(308));No=e,So.dependencies={lanes:0,firstContext:e}}else No=No.next=e;return t}var To=null;function Ao(e){null===To?To=[e]:To.push(e)}function Lo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ao(t)):(n.next=a.next,a.next=n),t.interleaved=n,Fo(e,r)}function Fo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_s)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Fo(e,n)}return null===(a=r.interleaved)?(t.next=t,Ao(r)):(t.next=a.next,a.next=t),r.interleaved=t,Fo(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var a=e.updateQueue;Io=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var s=l,c=s.next;s.next=null,null===i?o=c:i.next=c,i=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(null!==o){var d=a.baseState;for(i=0,u=c=s=null,l=o;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=D({},d,f);break e;case 2:Io=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,s=d):u=u.next=p,i|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Is|=i,e.lanes=i,e.memoizedState=d}}function $o(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Vo={},Ho=Sa(Vo),Ko=Sa(Vo),Yo=Sa(Vo);function Jo(e){if(e===Vo)throw Error(o(174));return e}function Qo(e,t){switch(Ea(Yo,t),Ea(Ko,e),Ea(Ho,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Na(Ho),Ea(Ho,t)}function Go(){Na(Ho),Na(Ko),Na(Yo)}function Xo(e){Jo(Yo.current);var t=Jo(Ho.current),n=se(t,e.type);t!==n&&(Ea(Ko,e),Ea(Ho,n))}function Zo(e){Ko.current===e&&(Na(Ho),Na(Ko))}var ei=Sa(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=x.ReactCurrentDispatcher,oi=x.ReactCurrentBatchConfig,ii=0,li=null,si=null,ci=null,ui=!1,di=!1,fi=0,pi=0;function hi(){throw Error(o(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function yi(e,t,n,r,a,i){if(ii=i,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:el,e=n(r,a),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(o(301));i+=1,ci=si=null,t.updateQueue=null,ai.current=tl,e=n(r,a)}while(di)}if(ai.current=Xi,t=null!==si&&null!==si.next,ii=0,ci=si=li=null,ui=!1,t)throw Error(o(300));return e}function vi(){var e=0!==fi;return fi=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?li.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===si){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=si.next;var t=null===ci?li.memoizedState:ci.next;if(null!==t)ci=t,si=e;else{if(null===e)throw Error(o(310));e={memoizedState:(si=e).memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},null===ci?li.memoizedState=ci=e:ci=ci.next=e}return ci}function xi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=si,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var s=l=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(s=c=f,l=r):c=c.next=f,li.lanes|=d,Is|=d}u=u.next}while(null!==u&&u!==i);null===c?l=r:c.next=s,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,li.lanes|=i,Is|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);lr(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ki(){}function Si(e,t){var n=li,r=bi(),a=t(),i=!lr(r.memoizedState,a);if(i&&(r.memoizedState=a,bl=!0),r=r.queue,Ii(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Oi(9,Ei.bind(null,n,r,a,t),void 0,null),null===Ps)throw Error(o(349));0!==(30&ii)||Ni(n,t,a)}return a}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ei(e,t,n,r){t.value=n,t.getSnapshot=r,_i(t)&&Pi(e)}function Ci(e,t,n){return n(function(){_i(t)&&Pi(e)})}function _i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Pi(e){var t=Fo(e,1);null!==t&&nc(t,e,1,-1)}function Ri(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,li,e),[t.memoizedState,e]}function Oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ti(){return bi().memoizedState}function Ai(e,t,n,r){var a=gi();li.flags|=e,a.memoizedState=Oi(1|t,n,void 0,void 0===r?null:r)}function Li(e,t,n,r){var a=bi();r=void 0===r?null:r;var o=void 0;if(null!==si){var i=si.memoizedState;if(o=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Oi(t,n,o,r))}li.flags|=e,a.memoizedState=Oi(1|t,n,o,r)}function Fi(e,t){return Ai(8390656,8,e,t)}function Ii(e,t){return Li(2048,8,e,t)}function Di(e,t){return Li(4,2,e,t)}function zi(e,t){return Li(4,4,e,t)}function Ui(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4,4,Ui.bind(null,t,e),n)}function Mi(){}function Wi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $i(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),li.lanes|=n,Is|=n,e.baseState=!0),t)}function Vi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{bt=n,oi.transition=r}}function Hi(){return bi().memoizedState}function Ki(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e))Qi(t,n);else if(null!==(n=Lo(e,t,n,r))){nc(n,e,r,ec()),Gi(n,t,r)}}function Yi(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Qi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var s=t.interleaved;return null===s?(a.next=a,Ao(t)):(a.next=s.next,s.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Lo(e,t,a,r))&&(nc(n,e,r,a=ec()),Gi(n,t,r))}}function Ji(e){var t=e.alternate;return e===li||null!==t&&t===li}function Qi(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Xi={readContext:Oo,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:Oo,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Fi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ai(4194308,4,Ui.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,li,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Ri,useDebugValue:Mi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Ri(!1),t=e[0];return e=Vi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=li,a=gi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ps)throw Error(o(349));0!==(30&ii)||Ni(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Fi(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Oi(9,Ei.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Ps.identifierPrefix;if(ao){var n=Ga;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Oo,useCallback:Wi,useContext:Oo,useEffect:Ii,useImperativeHandle:Bi,useInsertionEffect:Di,useLayoutEffect:zi,useMemo:qi,useReducer:wi,useRef:Ti,useState:function(){return wi(xi)},useDebugValue:Mi,useDeferredValue:function(e){return $i(bi(),si.memoizedState,e)},useTransition:function(){return[wi(xi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Si,useId:Hi,unstable_isNewReconciler:!1},tl={readContext:Oo,useCallback:Wi,useContext:Oo,useEffect:Ii,useImperativeHandle:Bi,useInsertionEffect:Di,useLayoutEffect:zi,useMemo:qi,useReducer:ji,useRef:Ti,useState:function(){return ji(xi)},useDebugValue:Mi,useDeferredValue:function(e){var t=bi();return null===si?t.memoizedState=e:$i(t,si.memoizedState,e)},useTransition:function(){return[ji(xi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Si,useId:Hi,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Uo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,a))&&(nc(t,e,a,r),Mo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Uo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,a))&&(nc(t,e,a,r),Mo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Uo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bo(e,a,r))&&(nc(t,e,r,n),Mo(t,e,r))}};function ol(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(a,o))}function il(e,t,n){var r=!1,a=Ca,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(a=Ta(t)?Ra:_a.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ca),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ll(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function sl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Do(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Oo(o):(o=Ta(t)?Ra:_a.current,a.context=Oa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rl(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&al.enqueueReplaceState(a,a.state,null),qo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do{n+=M(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Vs=r),dl(0,t)},n}function hl(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){dl(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var gl=x.ReactCurrentOwner,bl=!1;function xl(e,t,n,r){t.child=null===e?jo(t,null,n,r):wo(t,e.child,n,r)}function wl(e,t,n,r,a){n=n.render;var o=t.ref;return Ro(t,a),r=yi(e,t,n,r,o,a),n=vi(),null===e||bl?(ao&&n&&eo(t),t.flags|=1,xl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$l(e,t,a))}function jl(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Tc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,kl(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)return $l(e,t,a)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,$l(e,t,a);0!==(131072&e.flags)&&(bl=!0)}}return El(e,t,n,r,a)}function Sl(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(As,Ts),Ts|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(As,Ts),Ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ea(As,Ts),Ts|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ea(As,Ts),Ts|=r;return xl(e,t,a,n),t.child}function Nl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,a){var o=Ta(n)?Ra:_a.current;return o=Oa(t,o),Ro(t,a),n=yi(e,t,n,r,o,a),r=vi(),null===e||bl?(ao&&r&&eo(t),t.flags|=1,xl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$l(e,t,a))}function Cl(e,t,n,r,a){if(Ta(n)){var o=!0;Ia(t)}else o=!1;if(Ro(t,a),null===t.stateNode)ql(e,t),il(t,n,r),sl(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oo(c):c=Oa(t,c=Ta(n)?Ra:_a.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||s!==c)&&ll(t,i,r,c),Io=!1;var f=t.memoizedState;i.state=f,qo(t,r,i,a),s=t.memoizedState,l!==r||f!==s||Pa.current||Io?("function"===typeof u&&(rl(t,n,u,r),s=t.memoizedState),(l=Io||ol(t,n,l,r,f,s,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=c,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,zo(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:nl(t.type,l),i.props=c,d=t.pendingProps,f=i.context,"object"===typeof(s=n.contextType)&&null!==s?s=Oo(s):s=Oa(t,s=Ta(n)?Ra:_a.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||f!==s)&&ll(t,i,r,s),Io=!1,f=t.memoizedState,i.state=f,qo(t,r,i,a);var h=t.memoizedState;l!==d||f!==h||Pa.current||Io?("function"===typeof p&&(rl(t,n,p,r),h=t.memoizedState),(c=Io||ol(t,n,c,r,f,h,s)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=s,r=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return _l(e,t,n,r,o,a)}function _l(e,t,n,r,a,o){Nl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Da(t,n,!1),$l(e,t,o);r=t.stateNode,gl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,l,o)):xl(e,t,l,o),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function Pl(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Qo(e,t.containerInfo)}function Rl(e,t,n,r,a){return ho(),mo(a),t.flags|=256,xl(e,t,n,r),t.child}var Ol,Tl,Al,Ll,Fl={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dl(e,t,n){var r,a=t.pendingProps,i=ei.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ea(ei,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=a.children,e=a.fallback,l?(a=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Ic(s,a,0,null),e=Fc(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Il(n),t.memoizedState=Fl,e):zl(t,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,l){if(n)return 256&t.flags?(t.flags&=-257,Ul(e,t,l,r=ul(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ic({mode:"visible",children:r.children},a,0,null),(i=Fc(i,a,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,l),t.child.memoizedState=Il(l),t.memoizedState=Fl,i);if(0===(1&t.mode))return Ul(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var s=r.dgst;return r=s,Ul(e,t,l,r=ul(i=Error(o(419)),r,void 0))}if(s=0!==(l&e.childLanes),bl||s){if(null!==(r=Ps)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Fo(e,a),nc(r,e,a,-1))}return mc(),Ul(e,t,l,r=ul(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[Ya++]=Qa,Ka[Ya++]=Ga,Ka[Ya++]=Ja,Qa=e.id,Ga=e.overflow,Ja=t),t=zl(t,r.children),t.flags|=4096,t)}(e,t,s,a,r,i,n);if(l){l=a.fallback,s=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&s)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Ac(r,l):(l=Fc(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,s=null===(s=e.child.memoizedState)?Il(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Fl,a}return e=(l=e.child).sibling,a=Ac(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zl(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ul(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function Ml(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Wl(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(xl(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ml(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ml(t,!0,n,null,o);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $l(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hl(t),null;case 1:case 17:return Ta(t.type)&&Aa(),Hl(t),null;case 3:return r=t.stateNode,Go(),Na(Pa),Na(_a),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ic(oo),oo=null))),Tl(e,t),Hl(t),null;case 5:Zo(t);var a=Jo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Al(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hl(t),null}if(e=Jo(Ho.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[pa]=i,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ur(Fr[a],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,i),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ur("invalid",r);break;case"textarea":ae(r,i),Ur("invalid",r)}for(var s in ge(n,i),a=null,i)if(i.hasOwnProperty(s)){var c=i[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,i,!0);break;case"textarea":H(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fa]=t,e[pa]=r,Ol(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),a=r;break;case"iframe":case"object":case"embed":Ur("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ur(Fr[a],e);a=r;break;case"source":Ur("error",e),a=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),a=r;break;case"details":Ur("toggle",e),a=r;break;case"input":Q(e,r),a=J(e,r),Ur("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Ur("invalid",e)}for(i in ge(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ye(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Ur("scroll",e):null!=u&&b(e,i,u,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hl(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Yo.current),Jo(Ho.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Hl(t),null;case 13:if(Na(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),ho(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hl(t),i=!1}else null!==oo&&(ic(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hl(t),null);case 4:return Go(),Tl(e,t),null===e&&Wr(t.stateNode.containerInfo),Hl(t),null;case 10:return _o(t.type._context),Hl(t),null;case 19:if(Na(ei),null===(i=t.memoizedState))return Hl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Vl(i,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ti(e))){for(t.flags|=128,Vl(i,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>Ws&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!ao)return Hl(t),null}else 2*Ge()-i.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=ei.current,Ea(ei,r?1&n|2:1&n),t):(Hl(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ts)&&(Hl(t),6&t.subtreeFlags&&(t.flags|=8192)):Hl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Yl(e,t){switch(to(t),t.tag){case 1:return Ta(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Go(),Na(Pa),Na(_a),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Na(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Na(ei),null;case 4:return Go(),null;case 10:return _o(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ol=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Tl=function(){},Al=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Jo(Ho.current);var o,i=null;switch(n){case"input":a=J(e,a),r=J(e,r),i=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ge(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(s=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),i||s===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jl=!1,Ql=!1,Gl="function"===typeof WeakSet?WeakSet:Set,Xl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&es(t,n,o)}a=a.next}while(a!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ma],delete t[ya],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function is(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||is(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var us=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(l){}switch(n.tag){case 5:Ql||Zl(n,t);case 6:var r=us,a=ds;us=null,fs(e,t,n),ds=a,null!==(us=r)&&(ds?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ds?(e=us,n=n.stateNode,8===e.nodeType?sa(e.parentNode,n):1===e.nodeType&&sa(e,n),Wt(e)):sa(us,n.stateNode));break;case 4:r=us,a=ds,us=n.stateNode.containerInfo,ds=!0,fs(e,t,n),us=r,ds=a;break;case 0:case 11:case 14:case 15:if(!Ql&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&es(n,t,i),a=a.next}while(a!==r)}fs(e,t,n);break;case 1:if(!Ql&&(Zl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Sc(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Ql=(r=Ql)||null!==n.memoizedState,fs(e,t,n),Ql=r):fs(e,t,n);break;default:fs(e,t,n)}}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gl),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ds=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===us)throw Error(o(160));ps(i,l,a),us=null,ds=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),vs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Sc(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:ms(t,e),vs(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(ms(t,e),vs(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===i.type&&null!=i.name&&G(a,i),be(s,l);var u=be(s,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?ye(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,u)}switch(s){case"input":X(a,i);break;case"textarea":oe(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(y){Sc(e,e.return,y)}}break;case 6:if(ms(t,e),vs(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){Sc(e,e.return,y)}}break;case 3:if(ms(t,e),vs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:ms(t,e),vs(e);break;case 13:ms(t,e),vs(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Ms=Ge())),4&r&&hs(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ql=(u=Ql)||d,ms(t,e),Ql=u):ms(t,e),vs(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xl=e,d=e.child;null!==d;){for(f=Xl=d;null!==Xl;){switch(h=(p=Xl).child,p.tag){case 0:case 11:case 14:case 15:ns(4,p,p.return);break;case 1:Zl(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Zl(p,p.return);break;case 22:if(null!==p.memoizedState){ws(f);continue}}null!==h?(h.return=p,Xl=h):ws(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=f.stateNode,l=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=me("display",l))}catch(y){Sc(e,e.return,y)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(t,e),vs(e),4&r&&hs(e);case 21:}}function vs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(is(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),cs(e,ls(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ss(e,ls(e),i);break;default:throw Error(o(161))}}catch(l){Sc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xl=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Xl;){var a=Xl,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Jl;if(!i){var l=a.alternate,s=null!==l&&null!==l.memoizedState||Ql;l=Jl;var c=Ql;if(Jl=i,(Ql=s)&&!c)for(Xl=a;null!==Xl;)s=(i=Xl).child,22===i.tag&&null!==i.memoizedState?js(a):null!==s?(s.return=i,Xl=s):js(a);for(;null!==o;)Xl=o,bs(o,t,n),o=o.sibling;Xl=a,Jl=l,Ql=c}xs(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Xl=o):xs(e)}}function xs(e){for(;null!==Xl;){var t=Xl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ql||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ql)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&$o(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$o(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(o(163))}Ql||512&t.flags&&as(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Xl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xl=n;break}Xl=t.return}}function ws(e){for(;null!==Xl;){var t=Xl;if(t===e){Xl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xl=n;break}Xl=t.return}}function js(e){for(;null!==Xl;){var t=Xl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(s){Sc(t,a,s)}}var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}break;case 5:var i=t.return;try{as(t)}catch(s){Sc(t,i,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Xl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Xl=l;break}Xl=t.return}}var ks,Ss=Math.ceil,Ns=x.ReactCurrentDispatcher,Es=x.ReactCurrentOwner,Cs=x.ReactCurrentBatchConfig,_s=0,Ps=null,Rs=null,Os=0,Ts=0,As=Sa(0),Ls=0,Fs=null,Is=0,Ds=0,zs=0,Us=null,Bs=null,Ms=0,Ws=1/0,qs=null,$s=!1,Vs=null,Hs=null,Ks=!1,Ys=null,Js=0,Qs=0,Gs=null,Xs=-1,Zs=0;function ec(){return 0!==(6&_s)?Ge():-1!==Xs?Xs:Xs=Ge()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_s)&&0!==Os?Os&-Os:null!==yo.transition?(0===Zs&&(Zs=mt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qs)throw Qs=0,Gs=null,Error(o(185));vt(e,n,r),0!==(2&_s)&&e===Ps||(e===Ps&&(0===(2&_s)&&(Ds|=n),4===Ls&&lc(e,Os)),rc(e,r),1===n&&0===_s&&0===(1&t.mode)&&(Ws=Ge()+500,Ua&&Wa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),l=1<<i,s=a[i];-1===s?0!==(l&n)&&0===(l&r)||(a[i]=pt(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=ft(e,e===Ps?Os:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ua=!0,Ma(e)}(sc.bind(null,e)):Ma(sc.bind(null,e)),ia(function(){0===(6&_s)&&Wa()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xs=-1,Zs=0,0!==(6&_s))throw Error(o(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ps?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var a=_s;_s|=2;var i=hc();for(Ps===e&&Os===t||(qs=null,Ws=Ge()+500,fc(e,t));;)try{gc();break}catch(s){pc(e,s)}Co(),Ns.current=i,_s=a,null!==Rs?t=0:(Ps=null,Os=0,t=Ls)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=oc(e,a))),1===t)throw n=Fs,fc(e,0),lc(e,r),rc(e,Ge()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!lr(o(),a))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yc(e,r))&&(0!==(i=ht(e))&&(r=i,t=oc(e,i))),1===t))throw n=Fs,fc(e,0),lc(e,r),rc(e,Ge()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Bs,qs);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ms+500-Ge())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Bs,qs),t);break}wc(e,Bs,qs);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>a&&(a=l),r&=~i}if(r=a,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Bs,qs),r);break}wc(e,Bs,qs);break;default:throw Error(o(329))}}}return rc(e,Ge()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&ic(t)),e}function ic(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function lc(e,t){for(t&=~zs,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&_s))throw Error(o(327));jc();var t=ft(e,0);if(0===(1&t))return rc(e,Ge()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Fs,fc(e,0),lc(e,t),rc(e,Ge()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bs,qs),rc(e,Ge()),null}function cc(e,t){var n=_s;_s|=1;try{return e(t)}finally{0===(_s=n)&&(Ws=Ge()+500,Ua&&Wa())}}function uc(e){null!==Ys&&0===Ys.tag&&0===(6&_s)&&jc();var t=_s;_s|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(_s=t))&&Wa()}}function dc(){Ts=As.current,Na(As)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:Go(),Na(Pa),Na(_a),ri();break;case 5:Zo(r);break;case 4:Go();break;case 13:case 19:Na(ei);break;case 10:_o(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ps=e,Rs=e=Ac(e.current,null),Os=Ts=t,Ls=0,Fs=null,zs=Ds=Is=0,Bs=Us=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(Co(),ai.current=Xi,ui){for(var r=li.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ui=!1}if(ii=0,ci=si=li=null,di=!1,fi=0,Es.current=null,null===n||null===n.return){Ls=1,Fs=t,Rs=null;break}e:{var i=e,l=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=yl(l);if(null!==h){h.flags&=-257,vl(h,l,s,0,t),1&h.mode&&ml(i,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}if(0===(1&t)){ml(i,u,t),mc();break e}c=Error(o(426))}else if(ao&&1&s.mode){var v=yl(l);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vl(v,l,s,0,t),mo(cl(c,s));break e}}i=c=cl(c,s),4!==Ls&&(Ls=2),null===Us?Us=[i]:Us.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,pl(0,c,t));break e;case 1:s=c;var g=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,hl(i,s,t));break e}}i=i.return}while(null!==i)}xc(n)}catch(x){t=x,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function hc(){var e=Ns.current;return Ns.current=Xi,null===e?Xi:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ps||0===(268435455&Is)&&0===(268435455&Ds)||lc(Ps,Os)}function yc(e,t){var n=_s;_s|=2;var r=hc();for(Ps===e&&Os===t||(qs=null,fc(e,t));;)try{vc();break}catch(a){pc(e,a)}if(Co(),_s=n,Ns.current=r,null!==Rs)throw Error(o(261));return Ps=null,Os=0,Ls}function vc(){for(;null!==Rs;)bc(Rs)}function gc(){for(;null!==Rs&&!Je();)bc(Rs)}function bc(e){var t=ks(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,null===t?xc(e):Rs=t,Es.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Kl(n,t,Ts)))return void(Rs=n)}else{if(null!==(n=Yl(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function wc(e,t,n){var r=bt,a=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{jc()}while(null!==Ys);if(0!==(6&_s))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Ps&&(Rs=Ps=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Pc(tt,function(){return jc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cs.transition,Cs.transition=null;var l=bt;bt=1;var s=_s;_s|=4,Es.current=null,function(e,t){if(ea=$t,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(s=l+a),f!==i||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=l),p===i&&++d===r&&(c=l),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},$t=!1,Xl=t;null!==Xl;)if(e=(t=Xl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xl=e;else for(;null!==Xl;){t=Xl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,v=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:nl(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xl=e;break}Xl=t.return}m=ts,ts=!1}(e,n),ys(n,e),hr(ta),$t=!!ea,ta=ea=null,e.current=n,gs(n,e,a),Qe(),_s=s,bt=l,Cs.transition=i}else e.current=n;if(Ks&&(Ks=!1,Ys=e,Js=a),i=e.pendingLanes,0===i&&(Hs=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if($s)throw $s=!1,e=Vs,Vs=null,e;0!==(1&Js)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Gs?Qs++:(Qs=0,Gs=e):Qs=0,Wa()}(e,t,n,r)}finally{Cs.transition=a,bt=r}return null}function jc(){if(null!==Ys){var e=xt(Js),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Js=0,0!==(6&_s))throw Error(o(331));var a=_s;for(_s|=4,Xl=e.current;null!==Xl;){var i=Xl,l=i.child;if(0!==(16&Xl.flags)){var s=i.deletions;if(null!==s){for(var c=0;c<s.length;c++){var u=s[c];for(Xl=u;null!==Xl;){var d=Xl;switch(d.tag){case 0:case 11:case 15:ns(8,d,i)}var f=d.child;if(null!==f)f.return=d,Xl=f;else for(;null!==Xl;){var p=(d=Xl).sibling,h=d.return;if(os(d),d===u){Xl=null;break}if(null!==p){p.return=h,Xl=p;break}Xl=h}}}var m=i.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(null!==y)}}Xl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Xl=l;else e:for(;null!==Xl;){if(0!==(2048&(i=Xl).flags))switch(i.tag){case 0:case 11:case 15:ns(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,Xl=g;break e}Xl=i.return}}var b=e.current;for(Xl=b;null!==Xl;){var x=(l=Xl).child;if(0!==(2064&l.subtreeFlags)&&null!==x)x.return=l,Xl=x;else e:for(l=b;null!==Xl;){if(0!==(2048&(s=Xl).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(j){Sc(s,s.return,j)}if(s===l){Xl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xl=w;break e}Xl=s.return}}if(_s=a,Wa(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function kc(e,t,n){e=Bo(e,t=pl(0,t=cl(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Bo(t,e=hl(t,e=cl(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Os&n)===n&&(4===Ls||3===Ls&&(130023424&Os)===Os&&500>Ge()-Ms?fc(e,0):zs|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Fo(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Pc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,a,i){var l=2;if(r=e,"function"===typeof e)Tc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case k:return Fc(n.children,a,i,t);case S:l=8,a|=8;break;case N:return(e=Oc(12,n,t,2|a)).elementType=N,e.lanes=i,e;case P:return(e=Oc(13,n,t,a)).elementType=P,e.lanes=i,e;case R:return(e=Oc(19,n,t,a)).elementType=R,e.lanes=i,e;case A:return Ic(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:l=10;break e;case C:l=9;break e;case _:l=11;break e;case O:l=14;break e;case T:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Fc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,o,i,l,s){return e=new Uc(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Mc(e){if(!e)return Ca;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Fa(e,n,t)}return t}function Wc(e,t,n,r,a,o,i,l,s){return(e=Bc(n,r,!0,e,0,o,0,l,s)).context=Mc(null),n=e.current,(o=Uo(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,a),e.current.lanes=a,vt(e,a,r),rc(e,r),e}function qc(e,t,n,r){var a=t.current,o=ec(),i=tc(a);return n=Mc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(a,t,i))&&(nc(e,a,i,o),Mo(e,a,i)),i}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:Pl(t),ho();break;case 5:Xo(t);break;case 1:Ta(t.type)&&Ia(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(ko,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Dl(e,t,n):(Ea(ei,1&ei.current),null!==(e=$l(e,t,n))?e.sibling:null);Ea(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,n)}return $l(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,ao&&0!==(1048576&t.flags)&&Za(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var a=Oa(t,_a.current);Ro(t,n),a=yi(null,t,r,e,a,n);var i=vi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(i=!0,Ia(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Do(t),a.updater=al,t.stateNode=a,a._reactInternals=t,sl(t,r,e,n),t=_l(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),xl(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===O)return 14}return 2}(r),e=nl(r,e),a){case 0:t=El(null,t,r,e,n);break e;case 1:t=Cl(null,t,r,e,n);break e;case 11:t=wl(null,t,r,e,n);break e;case 14:t=jl(null,t,r,nl(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,El(e,t,r,a=t.elementType===r?a:nl(r,a),n);case 1:return r=t.type,a=t.pendingProps,Cl(e,t,r,a=t.elementType===r?a:nl(r,a),n);case 3:e:{if(Pl(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,zo(e,t),qo(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rl(e,t,r,n,a=cl(Error(o(423)),t));break e}if(r!==a){t=Rl(e,t,r,n,a=cl(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===a){t=$l(e,t,n);break e}xl(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,na(r,a)?l=null:null!==i&&na(r,i)&&(t.flags|=32),Nl(e,t),xl(e,t,l,n),t.child;case 6:return null===e&&co(t),null;case 13:return Dl(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):xl(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wl(e,t,r,a=t.elementType===r?a:nl(r,a),n);case 7:return xl(e,t,t.pendingProps,n),t.child;case 8:case 12:return xl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Ea(ko,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===a.children&&!Pa.current){t=$l(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Uo(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Po(i.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Po(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}xl(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ro(t,n),r=r(a=Oo(a)),t.flags|=1,xl(e,t,r,n),t.child;case 14:return a=nl(r=t.type,t.pendingProps),jl(e,t,r,a=nl(r.type,a),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:nl(r,a),ql(e,t),t.tag=1,Ta(r)?(e=!0,Ia(t)):e=!1,Ro(t,n),il(t,r,a),sl(t,r,a,n),_l(null,t,r,!0,e,n);case 19:return Wl(e,t,n);case 22:return Sl(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var l=a;a=function(){var e=$c(i);l.call(e)}}qc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=$c(i);o.call(e)}}var i=Wc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ha]=i.current,Wr(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var l=r;r=function(){var e=$c(s);l.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[ha]=s.current,Wr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,s,n,r)}),s}(n,t,e,a,r);return $c(i)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[ha]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ge()),0===(6&_s)&&(Ws=Ge()+500,Wa()))}break;case 13:uc(function(){var t=Fo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Hc(e,1)}},jt=function(e){if(13===e.tag){var t=Fo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Fo(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));K(r),X(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[ba,xa,wa,Ee,Ce,cc]},tu={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Gc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,i,l),e[ha]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Gc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ha]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,a=n(43),o=((r=a)&&r.__esModule,n(173));t.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},853:(e,t,n)=>{"use strict";e.exports=n(234)},907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},o=t.isJsons=function(e){return Array.isArray(e)&&e.every(function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)})},i=t.isArrays=function(e){return Array.isArray(e)&&e.every(function(e){return Array.isArray(e)})},l=t.jsonsHeaders=function(e){return Array.from(e.map(function(e){return Object.keys(e)}).reduce(function(e,t){return new Set([].concat(r(e),r(t)))},[]))},s=t.jsons2arrays=function(e,t){var n=t=t||l(e),a=t;o(t)&&(n=t.map(function(e){return e.label}),a=t.map(function(e){return e.key}));var i=e.map(function(e){return a.map(function(t){return c(t,e)})});return[n].concat(r(i))},c=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(e,t,n,r){var a=e[t];if(void 0!==a&&null!==a)return a;r.splice(1)},t);return void 0===n?e in t?t[e]:"":n},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},d=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter(function(e){return e}).map(function(e){return e.map(function(e){return u(e)}).map(function(e){return""+n+e+n}).join(t)}).join("\n")},f=t.arrays2csv=function(e,t,n,a){return d(t?[t].concat(r(e)):e,n,a)},p=t.jsons2csv=function(e,t,n,r){return d(s(e,t),n,r)},h=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},m=t.toCSV=function(e,t,n,r){if(o(e))return p(e,t,n,r);if(i(e))return f(e,t,n,r);if("string"===typeof e)return h(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,o){var i=m(e,n,r,o),l=a()?"application/csv":"text/csv",s=new Blob([t?"\ufeff":"",i],{type:l}),c="data:"+l+";charset=utf-8,"+(t?"\ufeff":"")+i,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?c:u.createObjectURL(s)}},918:(e,t,n)=>{"use strict";t.CSVLink=void 0;var r=o(n(483)),a=o(n(27));function o(e){return e&&e.__esModule?e:{default:e}}r.default,t.CSVLink=a.default},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>or,hasStandardBrowserEnv:()=>lr,hasStandardBrowserWebWorkerEnv:()=>sr,navigator:()=>ir,origin:()=>cr});var t,r=n(43),a=n.t(r,2),o=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(e,n,r,a){void 0===a&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,p=o.history,h=t.Pop,m=null,y=v();function v(){return(p.state||{idx:null}).idx}function g(){h=t.Pop;let e=v(),n=null==e?null:e-y;y=e,m&&m({action:h,location:x.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==y&&(y=0,p.replaceState(i({},p.state,{idx:y}),""));let x={get action(){return h},get location(){return e(o,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,g),m=e,()=>{o.removeEventListener(l,g),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let a=d(x.location,e,n);r&&r(a,e),y=v()+1;let i=u(a,y),l=x.createHref(a);try{p.pushState(i,"",l)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(l)}c&&m&&m({action:h,location:x.location,delta:1})},replace:function(e,n){h=t.Replace;let a=d(x.location,e,n);r&&r(a,e),y=v();let o=u(a,y),i=x.createHref(a);p.replaceState(o,"",i),c&&m&&m({action:h,location:x.location,delta:0})},go:e=>p.go(e)};return x}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=O(("string"===typeof t?p(t):t).pathname||"/",n);if(null==a)return null;let o=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let l=0;null==i&&l<o.length;++l){let e=R(a);i=_(o[l],e,r)}return i}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(s(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=I([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))a(e,t,r);else a(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=b(r.join("/")),l=[];return l.push(...i.map(e=>""===e?o:[o,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,w=3,j=2,k=1,S=10,N=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=N),t&&(r+=j),n.filter(e=>!E(e)).reduce((e,t)=>e+(x.test(t)?w:""===t?k:S),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],s=l===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c),d=e.route;if(!u&&s&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:I([o,u.pathname]),pathnameBase:D(I([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=I([o,u.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[n];return e[r]=a&&!s?void 0:(s||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:i,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function T(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function A(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=A(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=p(e):(a=i({},e),s(!a.pathname||!a.pathname.includes("?"),T("?","pathname","search",a)),s(!a.pathname||!a.pathname.includes("#"),T("#","pathname","hash",a)),s(!a.search||!a.search.includes("#"),T("#","search","hash",a)));let o,l=""===e||""===a.pathname,c=l?"/":a.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:z(r),hash:U(a)}}(a,o),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const I=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const M=["post","put","patch","delete"],W=(new Set(M),["get",...M]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const $=r.createContext(null);const V=r.createContext(null);const H=r.createContext(null);const K=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function Q(){return null!=r.useContext(K)}function G(){return Q()||s(!1),r.useContext(K).location}function X(e){r.useContext(H).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=pe(ue.UseNavigateStable),n=r.useRef(!1);return X(()=>{n.current=!0}),r.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},a)))},[e,t])}():function(){Q()||s(!1);let e=r.useContext($),{basename:t,future:n,navigator:a}=r.useContext(H),{matches:o}=r.useContext(Y),{pathname:i}=G(),l=JSON.stringify(L(o,n.v7_relativeSplatPath)),c=r.useRef(!1);return X(()=>{c.current=!0}),r.useCallback(function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void a.go(n);let o=F(n,JSON.parse(l),i,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:I([t,o.pathname])),(r.replace?a.replace:a.push)(o,r.state,r)},[t,a,l,i,e])}()}const ee=r.createContext(null);function te(){let{matches:e}=r.useContext(Y),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=r.useContext(H),{matches:o}=r.useContext(Y),{pathname:i}=G(),l=JSON.stringify(L(o,a.v7_relativeSplatPath));return r.useMemo(()=>F(e,JSON.parse(l),i,"path"===n),[e,l,i,n])}function re(e,n,a,o){Q()||s(!1);let{navigator:i}=r.useContext(H),{matches:l}=r.useContext(Y),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,h=G();if(n){var m;let e="string"===typeof n?p(n):n;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||s(!1),f=e}else f=h;let v=f.pathname||"/",g=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:g});let x=se(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:I([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:I([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,a,o);return n&&x?r.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},x):x}function ae(){let e=function(){var e;let t=r.useContext(J),n=fe(ue.UseRouteError),a=pe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const oe=r.createElement(ae,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:a}=e,o=r.useContext($);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},a)}function se(e,t,n,a){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||s(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<l.length;r++){let e=l[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,a,o)=>{let i,s=!1,f=null,p=null;var h;n&&(i=c&&a.route.id?c[a.route.id]:void 0,f=a.route.errorElement||oe,u&&(d<0&&0===o?(h="route-fallback",!1||he[h]||(he[h]=!0),s=!0,p=null):d===o&&(s=!0,p=a.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,o+1)),y=()=>{let t;return t=i?f:s?p:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(le,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:f,error:i,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=r.useContext($);return t||s(!1),t}function fe(e){let t=r.useContext(V);return t||s(!1),t}function pe(e){let t=function(){let e=r.useContext(Y);return e||s(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||s(!1),n.route.id}const he={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ye(e){let{to:t,replace:n,state:a,relative:o}=e;Q()||s(!1);let{future:i,static:l}=r.useContext(H),{matches:c}=r.useContext(Y),{pathname:u}=G(),d=Z(),f=F(t,L(c,i.v7_relativeSplatPath),u,"path"===o),p=JSON.stringify(f);return r.useEffect(()=>d(JSON.parse(p),{replace:n,state:a,relative:o}),[d,p,o,n,a]),null}function ve(e){return function(e){let t=r.useContext(Y).outlet;return t?r.createElement(ee.Provider,{value:e},t):t}(e.context)}function ge(e){s(!1)}function be(e){let{basename:n="/",children:a=null,location:o,navigationType:i=t.Pop,navigator:l,static:c=!1,future:u}=e;Q()&&s(!1);let d=n.replace(/^\/*/,"/"),f=r.useMemo(()=>({basename:d,navigator:l,static:c,future:q({v7_relativeSplatPath:!1},u)}),[d,u,l,c]);"string"===typeof o&&(o=p(o));let{pathname:h="/",search:m="",hash:y="",state:v=null,key:g="default"}=o,b=r.useMemo(()=>{let e=O(h,d);return null==e?null:{location:{pathname:e,search:m,hash:y,state:v,key:g},navigationType:i}},[d,h,m,y,v,g,i]);return null==b?null:r.createElement(H.Provider,{value:f},r.createElement(K.Provider,{children:a,value:b}))}function xe(e){let{children:t,location:n}=e;return re(we(t),n)}new Promise(()=>{});r.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let o=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,we(e.props.children,o));e.type!==ge&&s(!1),e.props.index&&e.props.children&&s(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=we(e.props.children,o)),n.push(i)}),n}var je=n(173);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach(function(t){Ee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ne(e){return Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=function(e,t,n){var a=!!n,o=r.useRef(n);r.useEffect(function(){o.current=n},[n]),r.useEffect(function(){if(!a||!e)return function(){};var n=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,n),function(){e.off(t,n)}},[a,t,e,o])},Oe=function(e){var t=r.useRef(e);return r.useEffect(function(){t.current=e},[e]),t.current},Te=function(e){return null!==e&&"object"===Ne(e)},Ae="[object Object]",Le=function e(t,n){if(!Te(t)||!Te(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===Ae;if(a!==(Object.prototype.toString.call(n)===Ae))return!1;if(!a&&!r)return t===n;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var l={},s=0;s<o.length;s+=1)l[o[s]]=!0;for(var c=0;c<i.length;c+=1)l[i[c]]=!0;var u=Object.keys(l);if(u.length!==o.length)return!1;var d=t,f=n;return u.every(function(t){return e(d[t],f[t])})},Fe=function(e,t,n){return Te(e)?Object.keys(e).reduce(function(r,a){var o=!Te(t)||!Le(e[a],t[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),r):o?Se(Se({},r||{}),{},Ee({},a,e[a])):r},null):null},Ie="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",De=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;if(null===e||Te(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(n)},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;if(function(e){return Te(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return De(e,t)})};var n=De(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},Ue=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.0"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},Be=r.createContext(null);Be.displayName="ElementsContext";var Me=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},We=function(e){var t=e.stripe,n=e.options,a=e.children,o=r.useMemo(function(){return ze(t)},[t]),i=_e(r.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(n):null}}),2),l=i[0],s=i[1];r.useEffect(function(){var e=!0,t=function(e){s(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return"async"!==o.tag||l.stripe?"sync"!==o.tag||l.stripe||t(o.stripe):o.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[o,l,n]);var c=Oe(t);r.useEffect(function(){null!==c&&c!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,t]);var u=Oe(n);return r.useEffect(function(){if(l.elements){var e=Fe(n,u,["clientSecret","fonts"]);e&&l.elements.update(e)}},[n,u,l.elements]),r.useEffect(function(){Ue(l.stripe)},[l.stripe]),r.createElement(Be.Provider,{value:l},a)};We.propTypes={stripe:je.any,options:je.object};var qe=function(e){var t=r.useContext(Be);return Me(t,e)};je.func.isRequired;var $e=r.createContext(null);$e.displayName="CheckoutContext",je.any,je.shape({fetchClientSecret:je.func.isRequired,elementsOptions:je.object}).isRequired;var Ve=function(e){var t=r.useContext($e),n=r.useContext(Be);if(t){if(n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}return Me(n,e)},He=["mode"],Ke=function(e,t){var n,a="".concat((n=e).charAt(0).toUpperCase()+n.slice(1),"Element"),o=t?function(e){Ve("mounts <".concat(a,">"));var t=e.id,n=e.className;return r.createElement("div",{id:t,className:n})}:function(t){var n,o=t.id,i=t.className,l=t.options,s=void 0===l?{}:l,c=t.onBlur,u=t.onFocus,d=t.onReady,f=t.onChange,p=t.onEscape,h=t.onClick,m=t.onLoadError,y=t.onLoaderStart,v=t.onNetworksChange,g=t.onConfirm,b=t.onCancel,x=t.onShippingAddressChange,w=t.onShippingRateChange,j=t.onSavedPaymentMethodRemove,k=t.onSavedPaymentMethodUpdate,S=Ve("mounts <".concat(a,">")),N="elements"in S?S.elements:null,E="checkoutState"in S?S.checkoutState:null,C="success"===(null===E||void 0===E?void 0:E.type)?E.checkout:null,_=_e(r.useState(null),2),P=_[0],R=_[1],O=r.useRef(null),T=r.useRef(null);Re(P,"blur",c),Re(P,"focus",u),Re(P,"escape",p),Re(P,"click",h),Re(P,"loaderror",m),Re(P,"loaderstart",y),Re(P,"networkschange",v),Re(P,"confirm",g),Re(P,"cancel",b),Re(P,"shippingaddresschange",x),Re(P,"shippingratechange",w),Re(P,"savedpaymentmethodremove",j),Re(P,"savedpaymentmethodupdate",k),Re(P,"change",f),d&&(n="expressCheckout"===e?d:function(){d(P)}),Re(P,"ready",n),r.useLayoutEffect(function(){if(null===O.current&&null!==T.current&&(N||C)){var t=null;if(C)switch(e){case"payment":t=C.createPaymentElement(s);break;case"address":if(!("mode"in s))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=s.mode,r=Ce(s,He);if("shipping"===n)t=C.createShippingAddressElement(r);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=C.createBillingAddressElement(r)}break;case"expressCheckout":t=C.createExpressCheckoutElement(s);break;case"currencySelector":t=C.createCurrencySelectorElement();break;case"taxId":t=C.createTaxIdElement(s);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else N&&(t=N.create(e,s));O.current=t,R(t),t&&t.mount(T.current)}},[N,C,s]);var A=Oe(s);return r.useEffect(function(){if(O.current){var e=Fe(s,A,["paymentRequest"]);e&&"update"in O.current&&O.current.update(e)}},[s,A]),r.useLayoutEffect(function(){return function(){if(O.current&&"function"===typeof O.current.destroy)try{O.current.destroy(),O.current=null}catch(e){}}},[]),r.createElement("div",{id:o,className:i,ref:T})};return o.propTypes={id:je.string,className:je.string,onChange:je.func,onBlur:je.func,onFocus:je.func,onReady:je.func,onEscape:je.func,onClick:je.func,onLoadError:je.func,onLoaderStart:je.func,onNetworksChange:je.func,onConfirm:je.func,onCancel:je.func,onShippingAddressChange:je.func,onShippingRateChange:je.func,onSavedPaymentMethodRemove:je.func,onSavedPaymentMethodUpdate:je.func,options:je.object},o.displayName=a,o.__elementType=e,o},Ye="undefined"===typeof window,Je=r.createContext(null);Je.displayName="EmbeddedCheckoutProviderContext";var Qe,Ge=function(){return Ve("calls useStripe()").stripe},Xe=(Ke("auBankAccount",Ye),Ke("card",Ye)),Ze=(Ke("cardNumber",Ye),Ke("cardExpiry",Ye),Ke("cardCvc",Ye),Ke("fpxBank",Ye),Ke("iban",Ye),Ke("idealBank",Ye),Ke("p24Bank",Ye),Ke("epsBank",Ye),Ke("payment",Ye),Ke("expressCheckout",Ye),Ke("paymentRequestButton",Ye),Ke("linkAuthentication",Ye),Ke("address",Ye),Ke("shippingAddress",Ye),Ke("paymentMethodMessaging",Ye),Ke("affirmMessage",Ye),Ke("afterpayClearpayMessage",Ye),Ke("taxId",Ye),"basil"),et="https://js.stripe.com",tt="".concat(et,"/").concat(Ze,"/stripe.js"),nt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,rt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,at="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ot=function(e){return nt.test(e)||rt.test(e)},it=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(tt).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},lt=null,st=null,ct=null,ut=function(e){return null!==lt?lt:(lt=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(at),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(et,'"]')),t=0;t<e.length;t++){var n=e[t];if(ot(n.src))return n}return null}();if(r&&e)console.warn(at);else if(r){if(r&&null!==ct&&null!==st){var a;r.removeEventListener("load",ct),r.removeEventListener("error",st),null===(a=r.parentNode)||void 0===a||a.removeChild(r),r=it(e)}}else r=it(e);ct=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),st=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",ct),r.addEventListener("error",st)}catch(o){return void n(o)}else t(null)})).catch(function(e){return lt=null,Promise.reject(e)})},dt=!1,ft=function(){return Qe||(Qe=ut(null).catch(function(e){return Qe=null,Promise.reject(e)}))};Promise.resolve().then(function(){return ft()}).catch(function(e){dt||console.warn(e)});var pt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];dt=!0;var r=Date.now();return ft().then(function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),a=function(e){return 3===e?"v3":e}(e.version),o=Ze;r&&a!==o&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(i,n),i}(e,t,r)})};function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function mt(e){var t=function(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ht(t)?t:t+""}function yt(e,t,n){return(t=mt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach(function(t){yt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bt=n(579);const xt=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(0),[o,i]=(0,r.useState)(!1),l=Z();(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/notifications",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Failed to fetch notifications");const n=await e.json();t(n),a(n.filter(e=>!e.read).length)}catch(e){console.error("\ud83d\udd14 Error loading notifications:",e)}})()},[]);const s=e=>{switch(e){case"message":return"\ud83d\udcac";case"offer":return"\ud83d\udcb0";case"contract":return"\ud83d\udcc4";default:return"\ud83d\udd14"}};return(0,bt.jsxs)("div",{style:{position:"relative"},children:[(0,bt.jsxs)("button",{onClick:()=>{i(!o)},style:{fontSize:"1.25rem",position:"relative"},children:["\ud83d\udd14",n>0&&(0,bt.jsx)("span",{style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"0.75rem",fontWeight:"bold"},children:n})]}),o&&(0,bt.jsxs)("div",{style:{position:"absolute",right:0,top:"2.5rem",background:"#fff",border:"1px solid #ccc",borderRadius:"4px",width:"320px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",zIndex:1e3},children:[(0,bt.jsxs)("div",{style:{padding:"0.5rem",borderBottom:"1px solid #eee"},children:[(0,bt.jsx)("strong",{children:"Notifications"}),(0,bt.jsx)("button",{onClick:async()=>{try{await fetch("/api/notifications/mark-all-read",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t(e=>e.map(e=>gt(gt({},e),{},{read:!0}))),a(0)}catch(e){console.error("Failed to mark notifications as read",e)}},style:{float:"right",fontSize:"0.75rem"},children:"Mark all as read"})]}),0===e.length?(0,bt.jsx)("div",{style:{padding:"1rem"},children:"No notifications"}):e.map((e,t)=>{return(0,bt.jsxs)("div",{style:{padding:"0.75rem 1rem",backgroundColor:e.read?"#f9f9f9":"#e6f7ff",borderBottom:"1px solid #eee",cursor:"pointer"},onClick:()=>l("/loan/".concat(e.loanId)),children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("span",{style:{marginRight:"0.5rem"},children:s(e.type)}),e.message]}),(0,bt.jsx)("div",{style:{fontSize:"0.75rem",color:"#666"},children:(n=e.createdAt,new Date(n).toLocaleString())})]},t);var n})]})]})};function wt(){const e=localStorage.getItem("token");return e?{Authorization:"Bearer ".concat(e)}:{}}async function jt(){const e=await fetch("/api/wallet/me",{headers:gt({"Content-Type":"application/json"},wt())});if(!e.ok){const t=await e.text();throw new Error(t||"Failed to fetch wallet")}return e.json()}function kt(){const[e,t]=(0,r.useState)(0),[n,a]=(0,r.useState)(!1),o=async()=>{try{a(!0);const e=await jt();t(e.availableCents||0)}catch(e){console.warn("Failed to refresh wallet",e)}finally{a(!1)}};(0,r.useEffect)(()=>{o()},[]);const i=(e/100).toLocaleString(void 0,{style:"currency",currency:"USD"});return(0,bt.jsxs)("button",{className:"balance-pill",onClick:o,children:[(0,bt.jsx)("span",{className:"pill-label",children:"Balance"}),(0,bt.jsx)("span",{className:"pill-amount",children:n?" ...":i})]})}const St=()=>{const e=Z();(0,r.useEffect)(()=>{document.body.getAttribute("data-sidebar")||document.body.setAttribute("data-sidebar","closed")},[]);return(0,bt.jsxs)("header",{className:"navbar",children:[(0,bt.jsx)("div",{className:"nav-left",children:(0,bt.jsxs)("button",{className:"navbar__toggle","aria-label":"Toggle sidebar",onClick:()=>{const e=document.body.getAttribute("data-sidebar");document.body.setAttribute("data-sidebar","open"===e?"closed":"open")},children:[(0,bt.jsx)("span",{className:"navbar__toggle-bar"}),(0,bt.jsx)("span",{className:"navbar__toggle-bar"}),(0,bt.jsx)("span",{className:"navbar__toggle-bar"})]})}),(0,bt.jsx)("div",{className:"nav-center",children:(0,bt.jsx)("h3",{className:"navbar__brand",onClick:()=>e("/dashboard"),children:"PeerFund"})}),(0,bt.jsxs)("div",{className:"nav-right",children:[(0,bt.jsx)("div",{className:"navbar__bell",children:(0,bt.jsx)(xt,{})}),(0,bt.jsx)("div",{className:"navbar__wallet",children:(0,bt.jsx)(kt,{})}),(0,bt.jsx)("button",{className:"navbar__btn",onClick:()=>{localStorage.removeItem("token"),e("/login")},children:"Logout"})]})]})},Nt=e=>{let{user:t,userLoading:n}=e;const a=Z(),{pathname:o}=G(),i=[{label:"Dashboard",to:"/dashboard"},{label:"Open Loans to Invest In",to:"/loan-marketplace"},{label:"Loan Request Form",to:"/create-loan"},{label:"My Money Summary",to:"/money-summary"},{label:"Wallet",to:"/wallet"},{label:"Payment Method",to:"/payment-method"},{label:"Transaction History",to:"/history"},{label:"Edit Profile",to:"/profile"}],l=r.useMemo(()=>{const e=[...i];return t&&"ADMIN"===t.role&&e.push({label:"Admin",to:"/admin"}),e},[t]),s=()=>{document.body.setAttribute("data-sidebar","closed")};return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)("div",{className:"sidebar__backdrop",onClick:s,"aria-hidden":"true"}),(0,bt.jsxs)("aside",{className:"sidebar",children:[(0,bt.jsx)("div",{className:"sidebar__brand",children:"PeerFund"}),(0,bt.jsx)("ul",{className:"sidebar__nav",role:"navigation","aria-label":"Primary",children:l.map(e=>{const t=o===e.to;return(0,bt.jsx)("li",{children:(0,bt.jsx)("button",{className:"sidebar__btn ".concat(t?"is-active":""),onClick:()=>{a(e.to),s()},"aria-current":t?"page":void 0,children:e.label})},e.to)})})]})]})},Et=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{const e=localStorage.getItem("token");if(!e)return void a(!1);(async()=>{try{const n=await fetch("/api/users/profile",{headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok)throw new Error("Failed to load profile");const r=await n.json();t(r)}catch(n){console.error("Layout: failed to load user profile",n)}finally{a(!1)}})()},[]),(0,bt.jsxs)("div",{children:[(0,bt.jsx)(St,{user:e}),(0,bt.jsxs)("div",{style:{display:"flex"},children:[(0,bt.jsx)(Nt,{user:e,userLoading:n}),(0,bt.jsx)("main",{style:{flexGrow:1,padding:"1rem"},children:(0,bt.jsx)(ve,{})})]})]})};function Ct(){const e=Z();return(0,bt.jsxs)("div",{className:"home",children:[(0,bt.jsxs)("header",{className:"hero",role:"banner",children:[(0,bt.jsx)("span",{className:"hero__glow hero__glow--a","aria-hidden":!0}),(0,bt.jsx)("span",{className:"hero__glow hero__glow--b","aria-hidden":!0}),(0,bt.jsxs)("nav",{className:"container hero__nav","aria-label":"Primary",children:[(0,bt.jsxs)("div",{className:"hero__brand",children:[(0,bt.jsx)("div",{className:"logo-dot","aria-hidden":!0}),(0,bt.jsx)("button",{className:"btn btn--ghost hero__brand-btn",onClick:()=>e("/"),"aria-label":"PeerFund home",children:"PeerFund"})]}),(0,bt.jsxs)("div",{className:"hero__links hide-sm",children:[(0,bt.jsx)("button",{className:"btn btn--ghost",onClick:()=>e("/about"),children:"About"}),(0,bt.jsx)("button",{className:"btn btn--ghost",onClick:()=>e("/how-it-works"),children:"How it works"}),(0,bt.jsx)("button",{className:"btn btn--ghost",onClick:()=>e("/contact"),children:"Contact"})]}),(0,bt.jsxs)("div",{className:"hero__auth",children:[(0,bt.jsx)("button",{className:"btn btn--ghost",onClick:()=>e("/login"),children:"Log in"}),(0,bt.jsx)("button",{className:"btn btn--primary",onClick:()=>e("/signup"),children:"Sign up"})]})]}),(0,bt.jsxs)("div",{className:"container hero__copy",children:[(0,bt.jsx)("div",{className:"hero__kicker",children:"Community lending"}),(0,bt.jsx)("h1",{className:"hero__title",children:"Built for people \u2014 not payday profits"}),(0,bt.jsx)("section",{className:"container story",children:(0,bt.jsxs)("div",{className:"card story__card",children:[(0,bt.jsx)("div",{className:"kicker",children:"Why PeerFund"}),(0,bt.jsx)("p",{className:"text-muted",children:"We\u2019ve lived the paycheck-to-paycheck grind. PeerFund connects people to people\u2014 not to predatory lenders\u2014so help and fair returns stay in the community."})]})}),(0,bt.jsxs)("div",{className:"hero__ctas",role:"group","aria-label":"Get started",children:[(0,bt.jsx)("button",{className:"btn btn--primary btn--lg",onClick:()=>e("/signup"),children:"Get started"}),(0,bt.jsx)("button",{className:"btn btn--ghost btn--lg",onClick:()=>e("/login"),children:"I already have an account"})]}),(0,bt.jsx)("p",{className:"hero__meta",children:"No \u201cborrower\u201d or \u201clender\u201d role lock-in \u2014 you\u2019re simply a user."})]}),(0,bt.jsxs)("div",{className:"container hero__cards",children:[(0,bt.jsxs)("div",{className:"hero__card",children:[(0,bt.jsx)("div",{className:"kicker",children:"Live snapshot"}),(0,bt.jsxs)("div",{className:"grid sm-cols-2 gap-10",children:[(0,bt.jsxs)("div",{className:"stat",children:[(0,bt.jsx)("div",{className:"stat__num",children:"28"}),(0,bt.jsx)("div",{className:"stat__label",children:"Active requests"})]}),(0,bt.jsxs)("div",{className:"stat",children:[(0,bt.jsx)("div",{className:"stat__num",children:"92%"}),(0,bt.jsx)("div",{className:"stat__label",children:"On-time repayments"})]})]})]}),(0,bt.jsxs)("div",{className:"hero__card",children:[(0,bt.jsx)("div",{className:"kicker",children:"Why it works"}),(0,bt.jsx)("p",{className:"text-muted hero__why",children:"Transparent offers, lightweight contracts, and a clean repayment tracker."})]})]}),(0,bt.jsx)("div",{className:"container trust",children:(0,bt.jsxs)("div",{className:"trust__row","aria-label":"Trust statements",children:[(0,bt.jsx)("div",{className:"trust__item",children:"\ud83d\udd12 Bank-grade payments via Stripe"}),(0,bt.jsx)("div",{className:"trust__item",children:"\ud83d\udcc4 Contracts saved to your account"}),(0,bt.jsx)("div",{className:"trust__item",children:"\ud83d\udcac Built-in messaging"})]})})]}),(0,bt.jsx)("section",{className:"features","aria-labelledby":"features-heading",children:(0,bt.jsxs)("div",{className:"container",children:[(0,bt.jsxs)("div",{className:"section-head",children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"kicker",children:"How it works"}),(0,bt.jsx)("h2",{id:"features-heading",className:"h1",children:"Simple, transparent, flexible"})]}),(0,bt.jsx)("button",{className:"btn btn--soft",onClick:()=>e("/how-it-works"),children:"Learn more"})]}),(0,bt.jsxs)("div",{className:"features__grid",children:[(0,bt.jsxs)("article",{className:"feature",children:[(0,bt.jsx)("div",{className:"feature__icon","aria-hidden":!0,children:"\ud83d\udcdd"}),(0,bt.jsx)("h3",{className:"feature__title",children:"Create a request"}),(0,bt.jsx)("p",{className:"feature__desc",children:"Tell the community what you need, why, and for how long. No predatory fees."})]}),(0,bt.jsxs)("article",{className:"feature",children:[(0,bt.jsx)("div",{className:"feature__icon","aria-hidden":!0,children:"\ud83e\udd1d"}),(0,bt.jsx)("h3",{className:"feature__title",children:"Receive offers"}),(0,bt.jsx)("p",{className:"feature__desc",children:"Users propose terms. You choose the best offer; everything is saved to a contract."})]}),(0,bt.jsxs)("article",{className:"feature",children:[(0,bt.jsx)("div",{className:"feature__icon","aria-hidden":!0,children:"\ud83d\udcc8"}),(0,bt.jsx)("h3",{className:"feature__title",children:"Repay over time"}),(0,bt.jsx)("p",{className:"feature__desc",children:"Clear schedules, reminders, and a running history of payments and messages."})]})]})]})}),(0,bt.jsx)("section",{className:"container story",children:(0,bt.jsxs)("div",{className:"card story__card",children:[(0,bt.jsx)("div",{className:"kicker",children:"Why PeerFund"}),(0,bt.jsx)("p",{className:"text-muted",children:"We\u2019ve lived the paycheck-to-paycheck grind. PeerFund connects people to people\u2014 not to predatory lenders\u2014so help and fair returns stay in the community."})]})}),(0,bt.jsx)("section",{className:"cta","aria-labelledby":"cta-heading",children:(0,bt.jsx)("div",{className:"container cta__inner",children:(0,bt.jsxs)("div",{className:"cta__row",children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("h2",{id:"cta-heading",className:"cta__title",children:"Ready to join the community?"}),(0,bt.jsx)("p",{className:"cta__desc",children:"Create your account and explore open requests in minutes."})]}),(0,bt.jsxs)("div",{className:"flex gap-10",children:[(0,bt.jsx)("button",{className:"btn btn--primary btn--lg",onClick:()=>e("/signup"),children:"Sign up"}),(0,bt.jsx)("button",{className:"btn btn--ghost btn--lg",onClick:()=>e("/login"),children:"Log in"})]})]})})}),(0,bt.jsx)("section",{className:"faq","aria-labelledby":"faq-heading",children:(0,bt.jsxs)("div",{className:"container",children:[(0,bt.jsx)("div",{className:"section-head",children:(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"kicker",children:"FAQ"}),(0,bt.jsx)("h2",{id:"faq-heading",className:"h1",children:"Common questions"})]})}),(0,bt.jsxs)("div",{className:"faq__list",children:[(0,bt.jsxs)("details",{className:"faq__item",children:[(0,bt.jsx)("summary",{className:"faq__q",children:"Do I need to pick a \u201cBorrower\u201d or \u201cLender\u201d role?"}),(0,bt.jsx)("p",{className:"faq__a",children:"No. There\u2019s just one user type. You can request or offer on any loan."})]}),(0,bt.jsxs)("details",{className:"faq__item",children:[(0,bt.jsx)("summary",{className:"faq__q",children:"How do payments work?"}),(0,bt.jsx)("p",{className:"faq__a",children:"Payments and payouts run through Stripe. You can link a bank, deposit to your wallet, and repay on a schedule."})]}),(0,bt.jsxs)("details",{className:"faq__item",children:[(0,bt.jsx)("summary",{className:"faq__q",children:"Are there platform fees?"}),(0,bt.jsx)("p",{className:"faq__a",children:"Superusers avoid the PeerFund fee. Banking/Stripe processing fees still apply."})]})]})]})}),(0,bt.jsx)("footer",{className:"home-footer",role:"contentinfo",children:(0,bt.jsxs)("div",{className:"container flex items-center justify-between",children:[(0,bt.jsxs)("div",{className:"text-muted",children:["\xa9 ",(new Date).getFullYear()," PeerFund. All rights reserved."]}),(0,bt.jsxs)("div",{className:"flex items-center gap-10 text-muted",children:[(0,bt.jsx)("button",{className:"link-ghost",onClick:()=>e("/terms"),children:"Terms"}),(0,bt.jsx)("button",{className:"link-ghost",onClick:()=>e("/privacy"),children:"Privacy"})]})]})})]})}var _t=n(950),Pt=n.t(_t,2);function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rt.apply(this,arguments)}function Ot(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Tt(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const At=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Fo){}new Map;const Lt=a.startTransition;Pt.flushSync,a.useId;function Ft(e){let{basename:t,children:n,future:a,window:o}=e,i=r.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:o,v5Compat:!0})&&(l={}),h(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return d("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,l)));let s=i.current,[c,u]=r.useState({action:s.action,location:s.location}),{v7_startTransition:p}=a||{},m=r.useCallback(e=>{p&&Lt?Lt(()=>u(e)):u(e)},[u,p]);return r.useLayoutEffect(()=>s.listen(m),[s,m]),r.useEffect(()=>me(a),[a]),r.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s,future:a})}const It="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=r.forwardRef(function(e,t){let n,{onClick:a,relative:o,reloadDocument:i,replace:l,state:c,target:u,to:d,preventScrollReset:p,viewTransition:h}=e,m=Ot(e,At),{basename:y}=r.useContext(H),v=!1;if("string"===typeof d&&Dt.test(d)&&(n=d,It))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,y);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Fo){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||s(!1);let{basename:a,navigator:o}=r.useContext(H),{hash:i,pathname:l,search:c}=ne(e,{relative:n}),u=l;return"/"!==a&&(u="/"===l?a:I([a,l])),o.createHref({pathname:u,search:c,hash:i})}(d,{relative:o}),b=function(e,t){let{target:n,replace:a,state:o,preventScrollReset:i,relative:l,viewTransition:s}=void 0===t?{}:t,c=Z(),u=G(),d=ne(e,{relative:l});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:f(u)===f(d);c(e,{replace:n,state:o,preventScrollReset:i,relative:l,viewTransition:s})}},[u,c,d,a,o,n,e,i,l,s])}(d,{replace:l,state:c,target:u,preventScrollReset:p,relative:o,viewTransition:h});return r.createElement("a",Rt({},m,{href:n||g,onClick:v||i?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:t,target:u}))});var Ut,Bt;function Mt(e){let t=r.useRef(Tt(e)),n=r.useRef(!1),a=G(),o=r.useMemo(()=>function(e,t){let n=Tt(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(a.search,n.current?null:t.current),[a.search]),i=Z(),l=r.useCallback((e,t)=>{const r=Tt("function"===typeof e?e(o):e);n.current=!0,i("?"+r,t)},[i,o]);return[o,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ut||(Ut={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Bt||(Bt={}));function Wt(e){return(e||"").trim().toLowerCase()}function qt(){const[e,t]=(0,r.useState)({name:"",email:"",phone:"",password:""}),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(""),l=Z(),s=e=>{const{name:n,value:r}=e.target;t(e=>gt(gt({},e),{},{[n]:r}))};return(0,bt.jsx)("div",{className:"auth-wrap",children:(0,bt.jsxs)("form",{className:"auth-card",onSubmit:async t=>{if(t.preventDefault(),n)return;i("");const r={name:e.name.trim(),email:Wt(e.email),phone:(s=e.phone,(s||"").replace(/\D+/g,"").slice(0,15)),password:e.password};var s;if(r.name&&r.email&&r.phone&&r.password)if(r.password.length<6)i("Password must be at least 6 characters.");else if(r.phone.length<10)i("Please enter a valid phone number.");else try{var c;a(!0);const e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.text();let n=null;try{n=t?JSON.parse(t):null}catch(o){}if(!e.ok){var u,d;const r=(null===(u=n)||void 0===u?void 0:u.error)||(null===(d=n)||void 0===d?void 0:d.message)||t||"";if(409===e.status)throw new Error(function(){const e=String((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"").toLowerCase();return e.includes("email")&&e.includes("already")?"That email is already registered.":e.includes("phone")&&e.includes("already")?"That phone number is already registered.":e.includes("p2002")?"An account already exists with these details.":"Account already exists with these details."}(r));throw new Error(r||"Registration failed.")}const i=null===(c=n)||void 0===c?void 0:c.token;i&&localStorage.setItem("token",i),l("/dashboard")}catch(t){console.error("Registration error:",t),i(t.message||"Registration failed.")}finally{a(!1)}else i("Please fill out all fields.")},noValidate:!0,children:[(0,bt.jsxs)("div",{className:"auth-header",children:[(0,bt.jsx)("div",{className:"auth-logo",children:"PF"}),(0,bt.jsx)("div",{className:"auth-title",children:"Create Your Account"})]}),(0,bt.jsx)("div",{className:"auth-sub",children:"Join PeerFund and start lending or borrowing with your community."}),(0,bt.jsxs)("div",{className:"auth-field",children:[(0,bt.jsx)("label",{className:"auth-label",htmlFor:"name",children:"Name"}),(0,bt.jsx)("input",{id:"name",name:"name",className:"auth-input",type:"text",autoComplete:"name",value:e.name,onChange:s,required:!0})]}),(0,bt.jsxs)("div",{className:"auth-field",children:[(0,bt.jsx)("label",{className:"auth-label",htmlFor:"email",children:"Email"}),(0,bt.jsx)("input",{id:"email",name:"email",className:"auth-input",type:"email",autoComplete:"email",value:e.email,onChange:s,required:!0})]}),(0,bt.jsxs)("div",{className:"auth-field",children:[(0,bt.jsx)("label",{className:"auth-label",htmlFor:"phone",children:"Phone"}),(0,bt.jsx)("input",{id:"phone",name:"phone",className:"auth-input",type:"tel",autoComplete:"tel",value:e.phone,onChange:s,required:!0})]}),(0,bt.jsxs)("div",{className:"auth-field",children:[(0,bt.jsx)("label",{className:"auth-label",htmlFor:"password",children:"Password"}),(0,bt.jsx)("input",{id:"password",name:"password",className:"auth-input",type:"password",autoComplete:"new-password",value:e.password,onChange:s,required:!0,minLength:6})]}),o&&(0,bt.jsx)("div",{className:"auth-error",children:o}),(0,bt.jsxs)("div",{className:"auth-actions",children:[(0,bt.jsx)("button",{className:"auth-btn primary",type:"submit",disabled:n,children:n?"Registering\u2026":"Sign Up"}),(0,bt.jsx)(zt,{className:"auth-btn ghost",to:"/login",children:"Already have an account?"})]}),(0,bt.jsx)("div",{className:"auth-footer",children:(0,bt.jsx)("button",{type:"button",className:"auth-link",onClick:()=>l("/"),children:"\u2190 Back to Home"})})]})})}const $t=()=>{const[e,t]=(0,r.useState)({phone:"",password:""}),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(""),l=Z(),s=n=>{t(gt(gt({},e),{},{[n.target.name]:n.target.value}))};return(0,bt.jsx)("div",{className:"auth-wrap",children:(0,bt.jsxs)("form",{className:"auth-card",onSubmit:async t=>{t.preventDefault(),i("");try{a(!0);const t=await fetch("http://localhost:5050/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();t.ok&&n.token?(localStorage.setItem("token",n.token),l("/dashboard")):i(n.error||"Login failed")}catch(n){console.error("Login error:",n),i("An error occurred during login")}finally{a(!1)}},children:[(0,bt.jsxs)("div",{className:"auth-header",children:[(0,bt.jsx)("div",{className:"auth-logo",children:"PF"}),(0,bt.jsx)("div",{className:"auth-title",children:"Welcome Back"})]}),(0,bt.jsx)("div",{className:"auth-sub",children:"Sign in to continue to your PeerFund account."}),(0,bt.jsxs)("div",{className:"auth-field",children:[(0,bt.jsx)("label",{className:"auth-label",htmlFor:"phone",children:"Phone"}),(0,bt.jsx)("input",{id:"phone",name:"phone",className:"auth-input",type:"tel",autoComplete:"tel",value:e.phone,onChange:s})]}),(0,bt.jsxs)("div",{className:"auth-field",children:[(0,bt.jsx)("label",{className:"auth-label",htmlFor:"password",children:"Password"}),(0,bt.jsx)("input",{id:"password",name:"password",className:"auth-input",type:"password",autoComplete:"current-password",value:e.password,onChange:s,required:!0})]}),o&&(0,bt.jsx)("div",{className:"auth-error",children:o}),(0,bt.jsxs)("div",{className:"auth-actions",children:[(0,bt.jsx)("button",{className:"auth-btn primary",type:"submit",disabled:n,children:n?"Signing in\u2026":"Login"}),(0,bt.jsx)(zt,{className:"auth-btn ghost",to:"/signup",children:"Create account"})]}),(0,bt.jsxs)("div",{className:"auth-footer",children:[(0,bt.jsx)("button",{type:"button",className:"auth-link",onClick:()=>l("/"),children:"\u2190 Back to Home"}),(0,bt.jsx)(zt,{to:"/reset-password",className:"auth-link",children:"Forgot Password?"})]})]})})},Vt=e=>{let{children:t}=e;const n=localStorage.getItem("token"),r=G();return n?t:(0,bt.jsx)(ye,{to:"/login",replace:!0,state:{from:r}})},Ht=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)("amount"),o=localStorage.getItem("token");return(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/leaderboard/top-lenders?sort=".concat(n),{headers:{Authorization:"Bearer ".concat(o)}});if(!e.ok){const t=await e.text();throw new Error("Server error ".concat(e.status,": ").concat(t))}const r=await e.json();if(!Array.isArray(r))throw new Error("Expected an array from API, got: "+JSON.stringify(r));t(r)}catch(e){console.error("Error fetching top lenders:",e.message),t([])}})()},[n]),(0,bt.jsxs)("div",{className:"top-lenders-section",children:[(0,bt.jsx)("h3",{className:"subheading",children:"\ud83c\udfc6 Top 10 Lenders"}),(0,bt.jsx)("div",{style:{marginBottom:"1rem"}}),Array.isArray(e)?0===e.length?(0,bt.jsx)("p",{children:"No lenders found."}):(0,bt.jsxs)("table",{className:"leaderboard-table",children:[(0,bt.jsx)("thead",{children:(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("th",{children:"Rank"}),(0,bt.jsx)("th",{children:"Lender"}),(0,bt.jsx)("th",{children:"Total Lent ($)"}),(0,bt.jsx)("th",{children:"Loans Given"})]})}),(0,bt.jsx)("tbody",{children:e.map((e,t)=>(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("td",{children:t+1}),(0,bt.jsx)("td",{children:e.name||"Anonymous"}),(0,bt.jsxs)("td",{children:["$",e.totalAmount.toFixed(2)]}),(0,bt.jsx)("td",{children:e.totalLoans})]},e.userId||t))})]}):(0,bt.jsx)("p",{children:"Loading leaderboard..."})]})};const Kt=void 0||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51RqO4fGsm03jYeOaDiZbyYpH4q71OjW1lzwBkiujATF7mJ6KG79KKajvjUDB4zckyLEkjI0DRAAOjdkKZztXDxEc009u803ENm"}.REACT_APP_API_URL||"http://localhost:5000",Yt=e=>{var t,n;let{user:a,onRequestLoan:o,hideActions:i=!1}=e;const l=Z(),[s,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(1),[f,p]=(0,r.useState)(!1),h=null!==(t=null===a||void 0===a||null===(n=a.stats)||void 0===n?void 0:n.loansGivenCount)&&void 0!==t?t:Array.isArray(null===a||void 0===a?void 0:a.loansAsLender)?a.loansAsLender.length:0,m=((null===a||void 0===a?void 0:a.name)||"").split(" ").map(e=>e[0]).filter(Boolean).join("").slice(0,2).toUpperCase()||"U",y=(0,r.useMemo)(()=>{const e=(null===a||void 0===a?void 0:a.lendingTerms)||{},t=Object.entries(e).filter(e=>{let[,t]=e;return t&&t.enabled}).map(e=>{let[t,n]=e;return{amount:Number(t),rate:Number(n.rate)}}).filter(e=>Number.isFinite(e.amount)&&e.amount>0&&Number.isFinite(e.rate));return t.sort((e,t)=>e.amount-t.amount),t},[null===a||void 0===a?void 0:a.lendingTerms]),v=null!==a&&void 0!==a&&a.signupDate||null!==a&&void 0!==a&&a.createdAt?new Date(a.signupDate||a.createdAt).toLocaleDateString():"\u2014";return(0,bt.jsxs)("div",{className:"user-card",role:"region","aria-label":"".concat((null===a||void 0===a?void 0:a.name)||"User"," profile"),children:[(0,bt.jsxs)("div",{className:"user-card__header",children:[(0,bt.jsx)("div",{className:"user-card__avatar","aria-hidden":"true",children:m}),(0,bt.jsxs)("div",{className:"user-card__meta",children:[(0,bt.jsxs)("h2",{className:"user-card__name",children:[(null===a||void 0===a?void 0:a.name)||"Unknown",(null===a||void 0===a?void 0:a.isSuperUser)&&(0,bt.jsx)("span",{className:"user-card__badge",title:"SuperUser",children:"SuperUser"})]}),(0,bt.jsxs)("div",{className:"user-card__sub",children:[null!==a&&void 0!==a&&a.location?(0,bt.jsxs)("span",{children:[a.location," \u2022 "]}):null,"Member since: ",v,(0,bt.jsx)("div",{style:{marginTop:4},children:(0,bt.jsxs)("span",{className:"user-card__stat-label",children:["Loans Given: ",h]})})]})]})]}),(0,bt.jsxs)("div",{className:"user-card__section",children:[(0,bt.jsx)("div",{className:"user-card__section-title",children:"Available Terms"}),y.length?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)("div",{className:"user-card__terms",role:"list",children:y.map(e=>{let{amount:t,rate:n}=e;const r="".concat(t,"-").concat(n),a=s&&s.amount===t&&s.rate===n;return(0,bt.jsxs)("button",{type:"button",className:"user-card__term ".concat(a?"is-selected":""),onClick:()=>c({amount:t,rate:n}),title:"Request $".concat(t," at ").concat(n,"% APR"),"aria-pressed":a,role:"listitem",children:[(0,bt.jsxs)("div",{className:"user-card__term-amt",children:["$",Number.isInteger(t)?t:t.toFixed(2)]}),(0,bt.jsxs)("div",{className:"user-card__term-rate",children:[n,"% Interest"]})]},r)})}),(0,bt.jsxs)("div",{className:"user-card__picker",children:[(0,bt.jsx)("label",{htmlFor:"months",children:"Choose repayment term"}),(0,bt.jsx)("span",{className:"select-wrapper",children:(0,bt.jsx)("select",{id:"months",className:"select",value:u,onChange:e=>d(Number(e.target.value)),"aria-label":"Repayment months",children:[1,2,3,4,5,6,9,12].map(e=>(0,bt.jsxs)("option",{value:e,children:[e," ",1===e?"month":"months"]},e))})})]}),!i&&(0,bt.jsxs)("div",{className:"btn-row",children:[(0,bt.jsx)("button",{type:"button",className:"btn btn--ghost",onClick:()=>{c(null),d(1)},children:"Cancel"}),(0,bt.jsx)("button",{type:"button",className:"btn btn--primary",onClick:async()=>{if(!s||f)return;const e={lenderId:null===a||void 0===a?void 0:a.id,amount:Number(s.amount),months:Number(u),apr:Number(s.rate),notes:""};if("function"!==typeof o)try{var t;const a=function(){let e=localStorage.getItem("token")||"";return e=e.replace(/^"|"$/g,""),e.toLowerCase().startsWith("bearer ")&&(e=e.slice(7)),e||null}();if(!a)return alert("Your session has expired. Please sign in again."),void l("/login");p(!0);const o=await fetch("".concat(Kt,"/api/direct-requests"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},credentials:"include",body:JSON.stringify(e)});let s=null;const u=await o.text();try{s=u?JSON.parse(u):null}catch(i){}if(!o.ok){var n,r;const e=(null===(n=s)||void 0===n?void 0:n.message)||(null===(r=s)||void 0===r?void 0:r.error)||"".concat(o.status," ").concat(o.statusText);if(401===o.status)return alert("Your session expired or token is invalid. Please sign in again."),void l("/login");throw new Error(e||"Failed to create request")}c(null),d(1);const f=null===(t=s)||void 0===t?void 0:t.id;l(f?"/requests/".concat(f):"/requests")}catch(Fo){alert(Fo.message||"Failed to create request")}finally{p(!1)}else o(e)},disabled:!s||f,"aria-disabled":!s||f,children:f?"Sending\u2026":"Continue"})]})]}):(0,bt.jsx)("div",{className:"user-card__muted",children:"No preset terms shared."})]})]})},Jt=()=>{const e=Z(),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(""),[i,l]=(0,r.useState)("User"),[s,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!0),[f,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[g,b]=(0,r.useState)(null),[x,w]=(0,r.useState)(!1),j=(0,r.useRef)(null),k=(0,r.useRef)(null),S=()=>w(!1);(0,r.useEffect)(()=>{if(!x)return;const e=e=>{var t,n;null!==(t=k.current)&&void 0!==t&&t.contains(e.target)||null!==(n=j.current)&&void 0!==n&&n.contains(e.target)||S()},t=e=>{"Escape"===e.key&&S()};return window.addEventListener("click",e),window.addEventListener("keydown",t),()=>{window.removeEventListener("click",e),window.removeEventListener("keydown",t)}},[x]),(0,r.useEffect)(()=>{(async()=>{const t=localStorage.getItem("token");if(!t)return e("/login");try{const e=await fetch("/api/users/profile",{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok)throw new Error("Failed to fetch user");const n=await e.json();l(n.name||"User"),c(!!n.isSuperUser)}catch(n){console.error("Failed to fetch user profile:",n),e("/login")}finally{d(!1)}N()})()},[]);const N=async()=>{try{const e=await fetch("/api/posts",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Failed to load posts");const t=await e.json();n(t)}catch(e){console.error("Error fetching posts:",e)}},E=async()=>{try{const t=localStorage.getItem("token");if(!t)return void e("/login");const n=await fetch("/api/billing/has-loan-payment-method",{headers:{Authorization:"Bearer ".concat(t)}});let r=!1;if(n.ok){const e=await n.json().catch(()=>({}));r=!(null===e||void 0===e||!e.hasLoanPaymentMethod)}if(!r){return void(window.confirm("To upgrade to SuperUser, please save a funding card in your Wallet first.\n\nGo to Wallet now?")&&e("/wallet"))}const a=await fetch("/api/users/superuser/upgrade",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!a.ok){const e=await a.text().catch(()=>"");throw new Error(e||"Upgrade failed")}await a.json().catch(()=>({})),c(!0),alert("\ud83c\udf89 You\u2019re now a SuperUser! Your monthly $1 fee will use your saved funding card.")}catch(t){console.error("Upgrade error:",t),alert("Failed to upgrade:\n".concat(t.message||t))}},C=()=>{p(!1),b(null),v("")};return u?(0,bt.jsx)("div",{className:"db-shell center",children:(0,bt.jsx)("div",{className:"db-loader",children:"Loading your dashboard\u2026"})}):(0,bt.jsxs)("div",{className:"db-shell",children:[(0,bt.jsxs)("header",{className:"db-hero card-glass",children:[(0,bt.jsxs)("div",{className:"db-hero-text",children:[(0,bt.jsxs)("h2",{className:"db-title",children:["Hey ",i,", Happy ",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()],"!"]}),s&&(0,bt.jsx)("p",{className:"db-subtitle",children:"You\u2019re a SuperUser \u2013 platform fees are waived on your repayments. \ud83c\udf89"})]}),!s&&(0,bt.jsxs)("div",{className:"db-cta",children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("button",{ref:j,type:"button",className:"chip chip--clickable",onClick:()=>w(e=>!e),"aria-haspopup":"dialog","aria-expanded":x,"aria-controls":"sup-popover",title:"Learn about Superuser",children:"Become a Superuser"}),(0,bt.jsxs)("div",{className:"db-cta-text",children:[(0,bt.jsxs)("h3",{children:["Skip platform fee for ",(0,bt.jsx)("strong",{children:"$1/mo"})]}),(0,bt.jsx)("p",{children:"Support PeerFund and unlock a few nice perks."})]})]}),(0,bt.jsx)("button",{className:"action-btn primary",onClick:E,children:"Upgrade now"}),x&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)("div",{className:"sup-popover",id:"sup-popover",role:"dialog","aria-modal":"false",ref:k,children:[(0,bt.jsx)("div",{className:"sup-popover__head",children:(0,bt.jsx)("div",{className:"sup-popover__title",children:"Superuser benefits"})}),(0,bt.jsxs)("ul",{className:"sup-popover__list",children:[(0,bt.jsxs)("li",{children:[(0,bt.jsx)("strong",{children:"Skip the 3% platform fee"})," on repayments."]}),(0,bt.jsxs)("li",{children:[(0,bt.jsx)("strong",{children:"SuperUser badge"})," on your profile and posts."]}),(0,bt.jsxs)("li",{children:[(0,bt.jsx)("strong",{children:"Priority support"})," & early access to new features."]})]}),(0,bt.jsxs)("div",{className:"sup-popover__actions",children:[(0,bt.jsx)("button",{className:"btn",onClick:S,children:"Maybe later"}),(0,bt.jsx)("button",{className:"btn-primary",onClick:E,children:"Upgrade for $1/mo"})]})]}),(0,bt.jsx)("div",{className:"sup-popover__overlay"})]})]})]}),(0,bt.jsxs)("div",{className:"db-grid",children:[(0,bt.jsxs)("section",{className:"card-panel",children:[(0,bt.jsx)("div",{className:"panel-head",children:(0,bt.jsx)("h3",{children:"Share with the community"})}),(0,bt.jsxs)("div",{className:"composer",children:[(0,bt.jsx)("input",{type:"text",placeholder:"What\u2019s on your mind?",value:a,onChange:e=>o(e.target.value)}),(0,bt.jsx)("button",{className:"btn",onClick:async()=>{if(a.trim())try{if(!(await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({content:a})})).ok)throw new Error("Failed to create post");o(""),N()}catch(e){console.error("Error posting:",e),alert("Failed to post.")}},children:"Post"})]}),(0,bt.jsx)("h4",{className:"section-label",children:"\ud83d\udce2 PeerFeed"}),(0,bt.jsx)("div",{className:"feed",children:0===t.length?(0,bt.jsx)("div",{className:"empty",children:"No posts yet. Be the first to say hi!"}):t.map(e=>{var t,n;const r=(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)||(null===e||void 0===e?void 0:e.userId),a=(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name)||"Unknown";return(0,bt.jsxs)("article",{className:"feed-item",children:[(0,bt.jsxs)("div",{className:"feed-top",children:[(0,bt.jsx)("button",{className:"link",onClick:()=>(async e=>{if(e){p(!0),m(!0),v(""),b(null);try{const t=localStorage.getItem("token")||"",n=await fetch("/api/users/".concat(e,"/profile"),{headers:t?{Authorization:"Bearer ".concat(t)}:{}});if(!n.ok)throw new Error(await n.text());const r=await n.json();b(r)}catch(Fo){console.error(Fo),v("Failed to load profile.")}finally{m(!1)}}})(r),disabled:!r,title:r?"View profile":void 0,children:a}),(0,bt.jsx)("time",{className:"time",children:new Date(e.createdAt).toLocaleString()})]}),(0,bt.jsx)("p",{className:"content",children:e.content})]},e.id||e._id)})})]}),(0,bt.jsxs)("aside",{className:"card-panel side",children:[(0,bt.jsx)("div",{className:"panel-head",children:(0,bt.jsx)("h3",{children:"Top 10 Lenders"})}),(0,bt.jsx)("div",{className:"side-card",children:(0,bt.jsx)(Ht,{})})]})]}),f&&(0,bt.jsx)("div",{className:"pfm-backdrop",onClick:C,children:(0,bt.jsxs)("div",{className:"pfm-modal",onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:[(0,bt.jsx)("button",{className:"pfm-close",onClick:C,"aria-label":"Close",children:"\u2715"}),h?(0,bt.jsx)("div",{className:"pfm-body pfm-center",children:(0,bt.jsx)("div",{className:"pfm-spinner"})}):y?(0,bt.jsx)("div",{className:"pfm-body pfm-error",children:y}):(0,bt.jsx)("div",{className:"pfm-body",children:(0,bt.jsx)(Yt,{user:g,onMessage:()=>e("/messages?to=".concat(null===g||void 0===g?void 0:g.id)),onRequest:t=>{let{amount:n,rate:r,lenderId:a}=t;if(!n||!r){const e=window.prompt("Amount (50, 100, 150, 200, 250):"),t=parseInt(e,10);if(![50,100,150,200,250].includes(t))return;const a=window.prompt("APR (%) offered by this lender:"),o=Number(a);if(!Number.isFinite(o))return;n=t,r=o}const o=window.prompt("How many months for $".concat(n," at ").concat(r,"% APR? (1\u201324)")),i=Math.max(1,Math.min(24,parseInt(o||"0",10)));if(!i)return;window.confirm("Send request for $".concat(n," at ").concat(r,"% APR over ").concat(i," months?"))&&e("/direct-request/".concat(a,"?amount=").concat(n,"&rate=").concat(r,"&months=").concat(i))}})})]})})]})},Qt={marginRight:"1rem",padding:"0.5rem 1rem",fontSize:"1rem",backgroundColor:"#f5f5f5",border:"1px solid #ccc",cursor:"pointer"},Gt={padding:"0.75rem 1.5rem",fontSize:"1rem",backgroundColor:"#e0f7fa",border:"1px solid #0097a7",borderRadius:"4px",cursor:"pointer"},Xt=()=>{const e=Z(),[t,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{fetch("/api/documents",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(e=>e.json()).then(e=>{Array.isArray(e)?n(e):Array.isArray(e.documents)?n(e.documents):(console.error("Unexpected document format:",e),n([]))}).catch(e=>console.error("Error loading documents:",e))},[]),(0,bt.jsxs)("div",{style:{padding:"2rem"},children:[(0,bt.jsxs)("nav",{style:{marginBottom:"2rem",borderBottom:"1px solid #ccc",paddingBottom:"1rem"},children:[(0,bt.jsx)("button",{onClick:()=>e("/"),style:Qt,children:"Home"}),(0,bt.jsx)("button",{onClick:()=>e("/dashboard"),style:Qt,children:"Dashboard"}),(0,bt.jsx)("button",{onClick:()=>e("/create-loan"),style:Qt,children:"Request a Loan"}),(0,bt.jsx)("button",{onClick:()=>e("/loan-marketplace"),style:Qt,children:"Open Loans"}),(0,bt.jsx)("button",{onClick:()=>e("/messages"),style:Qt,children:"Messages"}),(0,bt.jsx)("button",{onClick:()=>e("/profile"),style:Qt,children:"Profile"})]}),(0,bt.jsx)("h2",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"My Documents"}),(0,bt.jsx)("p",{style:{marginBottom:"2rem"},children:"This section will contain all your loan agreements and received documents."}),(0,bt.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,bt.jsx)("button",{onClick:()=>e("/money-summary"),style:Gt,children:"My Money Summary"}),(0,bt.jsx)("button",{onClick:()=>e("/history"),style:Gt,children:"Loan History"}),(0,bt.jsx)("button",{onClick:()=>e("/payment-method"),style:Gt,children:"My Payment Method"}),(0,bt.jsx)("button",{onClick:()=>e("/documents"),style:Gt,children:"My Documents"})]}),0===t.length?(0,bt.jsx)("p",{style:{marginTop:"2rem"},children:"No documents yet."}):(0,bt.jsx)("ul",{style:{marginTop:"2rem"},children:t.map(e=>(0,bt.jsxs)("li",{style:{marginBottom:"1rem"},children:[(0,bt.jsx)("strong",{children:e.title})," (",e.type,") \u2014"," ",(0,bt.jsx)("button",{onClick:async()=>{try{const t=await fetch("/api/documents/".concat(e.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to fetch document");const n=await t.blob(),r=window.URL.createObjectURL(n);window.open(r,"_blank"),setTimeout(()=>URL.revokeObjectURL(r),1e3)}catch(t){console.error("Error opening document:",t),alert("Unable to open contract document.")}},style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:"View Contract"})]},e.id))})]})};function Zt(e,t){return function(){return e.apply(t,arguments)}}const{toString:en}=Object.prototype,{getPrototypeOf:tn}=Object,{iterator:nn,toStringTag:rn}=Symbol,an=(on=Object.create(null),e=>{const t=en.call(e);return on[t]||(on[t]=t.slice(8,-1).toLowerCase())});var on;const ln=e=>(e=e.toLowerCase(),t=>an(t)===e),sn=e=>t=>typeof t===e,{isArray:cn}=Array,un=sn("undefined");function dn(e){return null!==e&&!un(e)&&null!==e.constructor&&!un(e.constructor)&&hn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fn=ln("ArrayBuffer");const pn=sn("string"),hn=sn("function"),mn=sn("number"),yn=e=>null!==e&&"object"===typeof e,vn=e=>{if("object"!==an(e))return!1;const t=tn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(rn in e)&&!(nn in e)},gn=ln("Date"),bn=ln("File"),xn=ln("Blob"),wn=ln("FileList"),jn=ln("URLSearchParams"),[kn,Sn,Nn,En]=["ReadableStream","Request","Response","Headers"].map(ln);function Cn(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),cn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(dn(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(n=0;n<o;n++)i=r[n],t.call(null,e[i],i,e)}}function _n(e,t){if(dn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Pn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Rn=e=>!un(e)&&e!==Pn;const On=(Tn="undefined"!==typeof Uint8Array&&tn(Uint8Array),e=>Tn&&e instanceof Tn);var Tn;const An=ln("HTMLFormElement"),Ln=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Fn=ln("RegExp"),In=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Cn(n,(n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)}),Object.defineProperties(e,r)};const Dn=ln("AsyncFunction"),zn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Pn.addEventListener("message",e=>{let{source:t,data:a}=e;t===Pn&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Pn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,hn(Pn.postMessage)),Un="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Pn):"undefined"!==typeof process&&process.nextTick||zn,Bn={isArray:cn,isArrayBuffer:fn,isBuffer:dn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||hn(e.append)&&("formdata"===(t=an(e))||"object"===t&&hn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&fn(e.buffer),t},isString:pn,isNumber:mn,isBoolean:e=>!0===e||!1===e,isObject:yn,isPlainObject:vn,isEmptyObject:e=>{if(!yn(e)||dn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Fo){return!1}},isReadableStream:kn,isRequest:Sn,isResponse:Nn,isHeaders:En,isUndefined:un,isDate:gn,isFile:bn,isBlob:xn,isRegExp:Fn,isFunction:hn,isStream:e=>yn(e)&&hn(e.pipe),isURLSearchParams:jn,isTypedArray:On,isFileList:wn,forEach:Cn,merge:function e(){const{caseless:t}=Rn(this)&&this||{},n={},r=(r,a)=>{const o=t&&_n(n,a)||a;vn(n[o])&&vn(r)?n[o]=e(n[o],r):vn(r)?n[o]=e({},r):cn(r)?n[o]=r.slice():n[o]=r};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Cn(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Cn(t,(t,r)=>{n&&hn(t)?e[r]=Zt(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,o,i;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],r&&!r(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&tn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:an,kindOfTest:ln,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(cn(e))return e;let t=e.length;if(!mn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[nn]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:An,hasOwnProperty:Ln,hasOwnProp:Ln,reduceDescriptors:In,freezeMethods:e=>{In(e,(t,n)=>{if(hn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];hn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return cn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:_n,global:Pn,isContextDefined:Rn,isSpecCompliantForm:function(e){return!!(e&&hn(e.append)&&"FormData"===e[rn]&&e[nn])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(yn(e)){if(t.indexOf(e)>=0)return;if(dn(e))return e;if(!("toJSON"in e)){t[r]=e;const a=cn(e)?[]:{};return Cn(e,(e,t)=>{const o=n(e,r+1);!un(o)&&(a[t]=o)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Dn,isThenable:e=>e&&(yn(e)||hn(e))&&hn(e.then)&&hn(e.catch),setImmediate:zn,asap:Un,isIterable:e=>null!=e&&hn(e[nn])};function Mn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Bn.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bn.toJSONObject(this.config),code:this.code,status:this.status}}});const Wn=Mn.prototype,qn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qn[e]={value:e}}),Object.defineProperties(Mn,qn),Object.defineProperty(Wn,"isAxiosError",{value:!0}),Mn.from=(e,t,n,r,a,o)=>{const i=Object.create(Wn);return Bn.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Mn.call(i,e.message,t,n,r,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const $n=Mn;function Vn(e){return Bn.isPlainObject(e)||Bn.isArray(e)}function Hn(e){return Bn.endsWith(e,"[]")?e.slice(0,-2):e}function Kn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Hn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Yn=Bn.toFlatObject(Bn,{},null,function(e){return/^is[A-Z]/.test(e)});const Jn=function(e,t,n){if(!Bn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Bn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Bn.isUndefined(t[e])})).metaTokens,a=n.visitor||c,o=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Bn.isSpecCompliantForm(t);if(!Bn.isFunction(a))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(Bn.isDate(e))return e.toISOString();if(Bn.isBoolean(e))return e.toString();if(!l&&Bn.isBlob(e))throw new $n("Blob is not supported. Use a Buffer instead.");return Bn.isArrayBuffer(e)||Bn.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let l=e;if(e&&!a&&"object"===typeof e)if(Bn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Bn.isArray(e)&&function(e){return Bn.isArray(e)&&!e.some(Vn)}(e)||(Bn.isFileList(e)||Bn.endsWith(n,"[]"))&&(l=Bn.toArray(e)))return n=Hn(n),l.forEach(function(e,r){!Bn.isUndefined(e)&&null!==e&&t.append(!0===i?Kn([n],r,o):null===i?n:n+"[]",s(e))}),!1;return!!Vn(e)||(t.append(Kn(a,n,o),s(e)),!1)}const u=[],d=Object.assign(Yn,{defaultVisitor:c,convertValue:s,isVisitable:Vn});if(!Bn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Bn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Bn.forEach(n,function(n,o){!0===(!(Bn.isUndefined(n)||null===n)&&a.call(t,n,Bn.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])}),u.pop()}}(e),t};function Qn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Gn(e,t){this._pairs=[],e&&Jn(e,this,t)}const Xn=Gn.prototype;Xn.append=function(e,t){this._pairs.push([e,t])},Xn.toString=function(e){const t=e?function(t){return e.call(this,t,Qn)}:Qn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Zn=Gn;function er(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tr(e,t,n){if(!t)return e;const r=n&&n.encode||er;Bn.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(o=a?a(t,n):Bn.isURLSearchParams(t)?t.toString():new Zn(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const nr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Bn.forEach(this.handlers,function(t){null!==t&&e(t)})}},rr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ar={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Zn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},or="undefined"!==typeof window&&"undefined"!==typeof document,ir="object"===typeof navigator&&navigator||void 0,lr=or&&(!ir||["ReactNative","NativeScript","NS"].indexOf(ir.product)<0),sr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,cr=or&&window.location.href||"http://localhost",ur=gt(gt({},e),ar);const dr=function(e){function t(e,n,r,a){let o=e[a++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),l=a>=e.length;if(o=!o&&Bn.isArray(r)?r.length:o,l)return Bn.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i;r[o]&&Bn.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],a)&&Bn.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}(r[o])),!i}if(Bn.isFormData(e)&&Bn.isFunction(e.entries)){const n={};return Bn.forEachEntry(e,(e,r)=>{t(function(e){return Bn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const fr={transitional:rr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Bn.isObject(e);a&&Bn.isHTMLForm(e)&&(e=new FormData(e));if(Bn.isFormData(e))return r?JSON.stringify(dr(e)):e;if(Bn.isArrayBuffer(e)||Bn.isBuffer(e)||Bn.isStream(e)||Bn.isFile(e)||Bn.isBlob(e)||Bn.isReadableStream(e))return e;if(Bn.isArrayBufferView(e))return e.buffer;if(Bn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Jn(e,new ur.classes.URLSearchParams,gt({visitor:function(e,t,n,r){return ur.isNode&&Bn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Bn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Jn(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Bn.isString(e))try{return(t||JSON.parse)(e),Bn.trim(e)}catch(Fo){if("SyntaxError"!==Fo.name)throw Fo}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||fr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Bn.isResponse(e)||Bn.isReadableStream(e))return e;if(e&&Bn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Fo){if(n){if("SyntaxError"===Fo.name)throw $n.from(Fo,$n.ERR_BAD_RESPONSE,this,null,this.response);throw Fo}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bn.forEach(["delete","get","head","post","put","patch"],e=>{fr.headers[e]={}});const pr=fr,hr=Bn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mr=Symbol("internals");function yr(e){return e&&String(e).trim().toLowerCase()}function vr(e){return!1===e||null==e?e:Bn.isArray(e)?e.map(vr):String(e)}function gr(e,t,n,r,a){return Bn.isFunction(r)?r.call(this,t,n):(a&&(t=n),Bn.isString(t)?Bn.isString(r)?-1!==t.indexOf(r):Bn.isRegExp(r)?r.test(t):void 0:void 0)}class br{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=yr(t);if(!a)throw new Error("header name must be a non-empty string");const o=Bn.findKey(r,a);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=vr(e))}const o=(e,t)=>Bn.forEach(e,(e,n)=>a(e,n,t));if(Bn.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Bn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&hr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Bn.isObject(e)&&Bn.isIterable(e)){let n,r,a={};for(const t of e){if(!Bn.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Bn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=yr(e)){const n=Bn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Bn.isFunction(t))return t.call(this,e,n);if(Bn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yr(e)){const n=Bn.findKey(this,e);return!(!n||void 0===this[n]||t&&!gr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=yr(e)){const a=Bn.findKey(n,e);!a||t&&!gr(0,n[a],a,t)||(delete n[a],r=!0)}}return Bn.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!gr(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Bn.forEach(this,(r,a)=>{const o=Bn.findKey(n,a);if(o)return t[o]=vr(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=vr(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Bn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Bn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[mr]=this[mr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=yr(e);t[r]||(!function(e,t){const n=Bn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Bn.isArray(e)?e.forEach(r):r(e),this}}br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Bn.reduceDescriptors(br.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Bn.freezeMethods(br);const xr=br;function wr(e,t){const n=this||pr,r=t||n,a=xr.from(r.headers);let o=r.data;return Bn.forEach(e,function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function jr(e){return!(!e||!e.__CANCEL__)}function kr(e,t,n){$n.call(this,null==e?"canceled":e,$n.ERR_CANCELED,t,n),this.name="CanceledError"}Bn.inherits(kr,$n,{__CANCEL__:!0});const Sr=kr;function Nr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new $n("Request failed with status code "+n.status,[$n.ERR_BAD_REQUEST,$n.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Er=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,o=0,i=0;return t=void 0!==t?t:1e3,function(l){const s=Date.now(),c=r[i];a||(a=s),n[o]=l,r[o]=s;let u=i,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),s-a<t)return;const f=c&&s-c;return f?Math.round(1e3*d/f):void 0}};const Cr=function(e,t){let n,r,a=0,o=1e3/t;const i=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=o,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];t>=o?i(s,e):(n=s,r||(r=setTimeout(()=>{r=null,i(n)},o-t)))},()=>n&&i(n)]},_r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Er(50,250);return Cr(n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,l=o-r,s=a(l);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:l,rate:s||void 0,estimated:s&&i&&o<=i?(i-o)/s:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Pr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Rr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bn.asap(()=>e(...n))},Or=ur.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ur.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,Tr=ur.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const i=[e+"="+encodeURIComponent(t)];Bn.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Bn.isString(r)&&i.push("path="+r),Bn.isString(a)&&i.push("domain="+a),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ar(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Lr=e=>e instanceof xr?gt({},e):e;function Fr(e,t){t=t||{};const n={};function r(e,t,n,r){return Bn.isPlainObject(e)&&Bn.isPlainObject(t)?Bn.merge.call({caseless:r},e,t):Bn.isPlainObject(t)?Bn.merge({},t):Bn.isArray(t)?t.slice():t}function a(e,t,n,a){return Bn.isUndefined(t)?Bn.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function o(e,t){if(!Bn.isUndefined(t))return r(void 0,t)}function i(e,t){return Bn.isUndefined(t)?Bn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}const s={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,n)=>a(Lr(e),Lr(t),0,!0)};return Bn.forEach(Object.keys(gt(gt({},e),t)),function(r){const o=s[r]||a,i=o(e[r],t[r],r);Bn.isUndefined(i)&&o!==l||(n[r]=i)}),n}const Ir=e=>{const t=Fr({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:i,headers:l,auth:s}=t;if(t.headers=l=xr.from(l),t.url=tr(Ar(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&l.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Bn.isFormData(r))if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(n=l.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(ur.hasStandardBrowserEnv&&(a&&Bn.isFunction(a)&&(a=a(t)),a||!1!==a&&Or(t.url))){const e=o&&i&&Tr.read(i);e&&l.set(o,e)}return t},Dr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Ir(e);let a=r.data;const o=xr.from(r.headers).normalize();let i,l,s,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function y(){if(!m)return;const r=xr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Nr(function(e){t(e),h()},function(e){n(e),h()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(n(new $n("Request aborted",$n.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new $n("Network Error",$n.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||rr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new $n(t,a.clarifyTimeoutError?$n.ETIMEDOUT:$n.ECONNABORTED,e,m)),m=null},void 0===a&&o.setContentType(null),"setRequestHeader"in m&&Bn.forEach(o.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Bn.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([s,u]=_r(p,!0),m.addEventListener("progress",s)),f&&m.upload&&([l,c]=_r(f),m.upload.addEventListener("progress",l),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new Sr(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===ur.protocols.indexOf(v)?n(new $n("Unsupported protocol "+v+":",$n.ERR_BAD_REQUEST,e)):m.send(a||null)})},zr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof $n?t:new Sr(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,a(new $n("timeout ".concat(t," of ms exceeded"),$n.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>Bn.asap(i),l}};function Ur(e,t){this.v=e,this.k=t}function Br(e){return function(){return new Mr(e.apply(this,arguments))}}function Mr(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,l=i instanceof Ur;Promise.resolve(l?i.v:i).then(function(n){if(l){var s="return"===t?"return":"next";if(!i.k||n.done)return r(s,n);n=e[s](n).value}a(o.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(o,i){var l={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=l:(t=n=l,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Wr(e){return new Ur(e,0)}function qr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Ur(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function $r(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Vr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Vr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Vr=function(e){this.s=e,this.n=e.next},Vr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Vr(e)}Mr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Mr.prototype.next=function(e){return this._invoke("next",e)},Mr.prototype.throw=function(e){return this._invoke("throw",e)},Mr.prototype.return=function(e){return this._invoke("return",e)};const Hr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Kr=function(){var e=Br(function*(e,t){var n,r=!1,a=!1;try{for(var o,i=$r(Yr(e));r=!(o=yield Wr(i.next())).done;r=!1){const e=o.value;yield*qr($r(Hr(e,t)))}}catch(l){a=!0,n=l}finally{try{r&&null!=i.return&&(yield Wr(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Yr=function(){var e=Br(function*(e){if(e[Symbol.asyncIterator])return void(yield*qr($r(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Wr(t.read());if(e)break;yield n}}finally{yield Wr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Jr=(e,t,n,r)=>{const a=Kr(e,t);let o,i=0,l=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return l(),void e.close();let o=r.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},Qr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Gr=Qr&&"function"===typeof ReadableStream,Xr=Qr&&("function"===typeof TextEncoder?(Zr=new TextEncoder,e=>Zr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Zr;const ea=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Fo){return!1}},ta=Gr&&ea(()=>{let e=!1;const t=new Request(ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),na=Gr&&ea(()=>Bn.isReadableStream(new Response("").body)),ra={stream:na&&(e=>e.body)};var aa;Qr&&(aa=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ra[e]&&(ra[e]=Bn.isFunction(aa[e])?t=>t[e]():(t,n)=>{throw new $n("Response type '".concat(e,"' is not supported"),$n.ERR_NOT_SUPPORT,n)})}));const oa=async(e,t)=>{const n=Bn.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Bn.isBlob(e))return e.size;if(Bn.isSpecCompliantForm(e)){const t=new Request(ur.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Bn.isArrayBufferView(e)||Bn.isArrayBuffer(e)?e.byteLength:(Bn.isURLSearchParams(e)&&(e+=""),Bn.isString(e)?(await Xr(e)).byteLength:void 0)})(t):n},ia=Qr&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:s,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Ir(e);c=c?(c+"").toLowerCase():"text";let p,h=zr([a,o&&o.toAbortSignal()],i);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(s&&ta&&"get"!==n&&"head"!==n&&0!==(y=await oa(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Bn.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Pr(y,_r(Rr(s)));r=Jr(n.body,65536,e,t)}}Bn.isString(d)||(d=d?"include":"omit");const a="credentials"in Request.prototype;p=new Request(t,gt(gt({},f),{},{signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:a?d:void 0}));let o=await fetch(p,f);const i=na&&("stream"===c||"response"===c);if(na&&(l||i&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=Bn.toFiniteNumber(o.headers.get("content-length")),[n,r]=l&&Pr(t,_r(Rr(l),!0))||[];o=new Response(Jr(o.body,65536,n,()=>{r&&r(),m&&m()}),e)}c=c||"text";let v=await ra[Bn.findKey(ra,c)||"text"](o,e);return!i&&m&&m(),await new Promise((t,n)=>{Nr(t,n,{data:v,headers:xr.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})})}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new $n("Network Error",$n.ERR_NETWORK,e,p),{cause:v.cause||v});throw $n.from(v,v&&v.code,e,p)}}),la={http:null,xhr:Dr,fetch:ia};Bn.forEach(la,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Fo){}Object.defineProperty(e,"adapterName",{value:t})}});const sa=e=>"- ".concat(e),ca=e=>Bn.isFunction(e)||null===e||!1===e,ua=e=>{e=Bn.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!ca(n)&&(r=la[(t=String(n)).toLowerCase()],void 0===r))throw new $n("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+o]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(sa).join("\n"):" "+sa(e[0]):"as no adapter specified";throw new $n("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function da(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sr(null,e)}function fa(e){da(e),e.headers=xr.from(e.headers),e.data=wr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ua(e.adapter||pr.adapter)(e).then(function(t){return da(e),t.data=wr.call(e,e.transformResponse,t),t.headers=xr.from(t.headers),t},function(t){return jr(t)||(da(e),t&&t.response&&(t.response.data=wr.call(e,e.transformResponse,t.response),t.response.headers=xr.from(t.response.headers))),Promise.reject(t)})}const pa="1.11.0",ha={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ha[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ma={};ha.transitional=function(e,t,n){function r(e,t){return"[Axios v"+pa+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new $n(r(a," has been removed"+(t?" in "+t:"")),$n.ERR_DEPRECATED);return t&&!ma[a]&&(ma[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},ha.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ya={assertOptions:function(e,t,n){if("object"!==typeof e)throw new $n("options must be an object",$n.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new $n("option "+o+" must be "+n,$n.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new $n("Unknown option "+o,$n.ERR_BAD_OPTION)}},validators:ha},va=ya.validators;class ga{constructor(e){this.defaults=e||{},this.interceptors={request:new nr,response:new nr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Fo){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Fr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&ya.assertOptions(n,{silentJSONParsing:va.transitional(va.boolean),forcedJSONParsing:va.transitional(va.boolean),clarifyTimeoutError:va.transitional(va.boolean)},!1),null!=r&&(Bn.isFunction(r)?t.paramsSerializer={serialize:r}:ya.assertOptions(r,{encode:va.function,serialize:va.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ya.assertOptions(t,{baseUrl:va.spelling("baseURL"),withXsrfToken:va.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&Bn.merge(a.common,a[t.method]);a&&Bn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=xr.concat(o,a);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const s=[];let c;this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)});let u,d=0;if(!l){const e=[fa.bind(this),void 0];for(e.unshift(...i),e.push(...s),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let f=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{f=e(f)}catch(p){t.call(this,p);break}}try{c=fa.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,u=s.length;d<u;)c=c.then(s[d++],s[d++]);return c}getUri(e){return tr(Ar((e=Fr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Bn.forEach(["delete","get","head","options"],function(e){ga.prototype[e]=function(t,n){return this.request(Fr(n||{},{method:e,url:t,data:(n||{}).data}))}}),Bn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Fr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ga.prototype[e]=t(),ga.prototype[e+"Form"]=t(!0)});const ba=ga;class xa{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Sr(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xa(function(t){e=t}),cancel:e}}}const wa=xa;const ja={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ja).forEach(e=>{let[t,n]=e;ja[n]=t});const ka=ja;const Sa=function e(t){const n=new ba(t),r=Zt(ba.prototype.request,n);return Bn.extend(r,ba.prototype,n,{allOwnKeys:!0}),Bn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Fr(t,n))},r}(pr);Sa.Axios=ba,Sa.CanceledError=Sr,Sa.CancelToken=wa,Sa.isCancel=jr,Sa.VERSION=pa,Sa.toFormData=Jn,Sa.AxiosError=$n,Sa.Cancel=Sa.CanceledError,Sa.all=function(e){return Promise.all(e)},Sa.spread=function(e){return function(t){return e.apply(null,t)}},Sa.isAxiosError=function(e){return Bn.isObject(e)&&!0===e.isAxiosError},Sa.mergeConfig=Fr,Sa.AxiosHeaders=xr,Sa.formToJSON=e=>dr(Bn.isHTMLForm(e)?new FormData(e):e),Sa.getAdapter=ua,Sa.HttpStatusCode=ka,Sa.default=Sa;const Na=Sa;var Ea=n(378);const Ca=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)({sent:0,received:0,net:0}),[o,i]=(0,r.useState)(!0),[l,s]=(0,r.useState)(""),c=(Z(),e=>"number"===typeof e.amountCents?e.amountCents:"number"===typeof e.amount?Math.round(100*e.amount):0),u=e=>(e/100).toFixed(2),d=e=>{const t=e.createdAt||e.timestamp||e.date;return t?new Date(t).toLocaleString():""},f=e=>{switch((e.type||"").toUpperCase()){case"DEPOSIT":return"Deposit to wallet";case"WITHDRAWAL":return"Withdrawal";case"REPAYMENT":return"Loan repayment";case"DISBURSEMENT":return"Loan disbursement";case"SUPERUSER_FEE":case"FEE":return"SuperUser fee";case"BANK_FEE":return"Bank fee";case"PLATFORM_FEE":return"Platform fee";default:return e.type||"Other"}},p=e=>{var t,n;const r=(e.type||"").toUpperCase(),a=(null===(t=(n=e.direction||"").toUpperCase)||void 0===t?void 0:t.call(n))||"";return"DEBIT"===a?"sent":"CREDIT"===a?"received":["DISBURSEMENT","WITHDRAWAL","SUPERUSER_FEE","FEE","BANK_FEE","PLATFORM_FEE"].includes(r)?"sent":["DEPOSIT","REPAYMENT"].includes(r)?"received":null};(0,r.useEffect)(()=>{(async()=>{try{s(""),i(!0);const e=await Na.get("/api/transactions",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),n=Array.isArray(e.data)?e.data:[];t(n);let r=0,o=0;n.forEach(e=>{const t=c(e),n=p(e);"sent"===n&&(r+=t),"received"===n&&(o+=t)}),a({sent:r,received:o,net:o-r})}catch(e){console.error("Failed to fetch transactions:",e),s("Failed to fetch transactions. Please try again later."),t([]),a({sent:0,received:0,net:0})}finally{i(!1)}})()},[]);const h=e.map(e=>{var t,n;return{date:d(e),type:f(e),amount:u(c(e)),loanId:e.loanId||"",from:(null===(t=e.fromUser)||void 0===t?void 0:t.name)||e.fromName||"",to:(null===(n=e.toUser)||void 0===n?void 0:n.name)||e.toName||""}});return(0,bt.jsxs)("div",{style:{padding:"2rem"},children:[(0,bt.jsx)("h2",{style:{marginBottom:"1rem"},children:"Transaction History"}),l&&(0,bt.jsx)("div",{style:{marginBottom:"1rem",background:"#fee2e2",border:"1px solid #fecaca",color:"#991b1b",padding:"0.75rem 1rem",borderRadius:8},children:l}),(0,bt.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",marginBottom:"1.25rem"},children:[(0,bt.jsxs)("div",{style:{flex:"1 1 180px",minWidth:180,borderRadius:12,border:"1px solid #e2e8f0",padding:"0.75rem 1rem",background:"#f8fafc"},children:[(0,bt.jsx)("div",{style:{fontSize:13,color:"#64748b"},children:"Total Sent"}),(0,bt.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:"#b91c1c"},children:["$",u(n.sent)]})]}),(0,bt.jsxs)("div",{style:{flex:"1 1 180px",minWidth:180,borderRadius:12,border:"1px solid #e2e8f0",padding:"0.75rem 1rem",background:"#f8fafc"},children:[(0,bt.jsx)("div",{style:{fontSize:13,color:"#64748b"},children:"Total Received"}),(0,bt.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:"#166534"},children:["$",u(n.received)]})]}),(0,bt.jsxs)("div",{style:{flex:"1 1 180px",minWidth:180,borderRadius:12,border:"1px solid #e2e8f0",padding:"0.75rem 1rem",background:"#f8fafc"},children:[(0,bt.jsx)("div",{style:{fontSize:13,color:"#64748b"},children:"Net"}),(0,bt.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:n.net>=0?"#166534":"#b91c1c"},children:["$",u(n.net)]})]}),(0,bt.jsx)("div",{style:{flex:"0 0 auto",alignSelf:"flex-end"},children:(0,bt.jsx)(Ea.CSVLink,{data:h,headers:[{label:"Date",key:"date"},{label:"Type",key:"type"},{label:"Amount (USD)",key:"amount"},{label:"Loan ID",key:"loanId"},{label:"From",key:"from"},{label:"To",key:"to"}],filename:"transactions.csv",style:{textDecoration:"none"},children:(0,bt.jsx)("button",{style:{padding:"0.5rem 0.9rem",borderRadius:999,border:"1px solid #0f172a",background:"#0f172a",color:"#f9fafb",fontWeight:600,cursor:"pointer"},children:"\u2b07\ufe0f Download CSV"})})})]}),(0,bt.jsx)("div",{style:{borderRadius:12,border:"1px solid #e2e8f0",overflow:"hidden",background:"#ffffff"},children:(0,bt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[(0,bt.jsx)("thead",{style:{background:"#f1f5f9",textAlign:"left"},children:(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("th",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e2e8f0"},children:"Date"}),(0,bt.jsx)("th",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e2e8f0"},children:"Type"}),(0,bt.jsx)("th",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e2e8f0"},children:"Amount"}),(0,bt.jsx)("th",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e2e8f0"},children:"Loan"}),(0,bt.jsx)("th",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e2e8f0"},children:"From"}),(0,bt.jsx)("th",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e2e8f0"},children:"To"})]})}),(0,bt.jsx)("tbody",{children:o?(0,bt.jsx)("tr",{children:(0,bt.jsx)("td",{colSpan:6,style:{padding:"1rem",textAlign:"center",color:"#64748b"},children:"Loading transactions\u2026"})}):0===e.length?(0,bt.jsx)("tr",{children:(0,bt.jsx)("td",{colSpan:6,style:{padding:"1rem",textAlign:"center",color:"#64748b"},children:"No transactions yet. Deposits, repayments, withdrawals, and fees will appear here."})}):e.map(e=>{var t,n;const r=c(e),a=p(e),o="sent"===a?"#b91c1c":"received"===a?"#166534":"#0f172a",i=(e=>{if(!e.loanId)return"";const t=String(e.loanId).slice(-6);return"Loan \u2026".concat(t)})(e);return(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("td",{style:{padding:"0.6rem 1rem",borderBottom:"1px solid #e2e8f0"},children:d(e)}),(0,bt.jsx)("td",{style:{padding:"0.6rem 1rem",borderBottom:"1px solid #e2e8f0"},children:f(e)}),(0,bt.jsxs)("td",{style:{padding:"0.6rem 1rem",borderBottom:"1px solid #e2e8f0",fontWeight:600,color:o},children:["$",u(r)]}),(0,bt.jsx)("td",{style:{padding:"0.6rem 1rem",borderBottom:"1px solid #e2e8f0"},children:e.loanId?(0,bt.jsx)("button",{type:"button",style:{padding:"2px 8px",borderRadius:999,border:"1px solid #e2e8f0",background:"#f8fafc",fontSize:12,cursor:"pointer",pointerEvents:"none"},children:i}):"\u2014"}),(0,bt.jsx)("td",{style:{padding:"0.6rem 1rem",borderBottom:"1px solid #e2e8f0"},children:(null===(t=e.fromUser)||void 0===t?void 0:t.name)||e.fromName||"\u2014"}),(0,bt.jsx)("td",{style:{padding:"0.6rem 1rem",borderBottom:"1px solid #e2e8f0"},children:(null===(n=e.toUser)||void 0===n?void 0:n.name)||e.toName||"\u2014"})]},e.id)})})]})})]})};function _a(e){let{loanId:t,onClose:n}=e;const[a,o]=(0,r.useState)([]),[i,l]=(0,r.useState)(""),[s,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),f=(0,r.useRef)(null),p=localStorage.getItem("token")||"",h=async()=>{try{c(!0);const e=await fetch("/api/loans/".concat(t,"/messages"),{headers:p?{Authorization:"Bearer ".concat(p)}:{}});if(!e.ok)throw new Error("Failed to load messages");const n=await e.json();o(Array.isArray(n)?n:[])}catch(e){console.error("Error fetching messages:",e)}finally{c(!1),setTimeout(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},0)}};return(0,r.useEffect)(()=>{t&&h()},[t]),t?(0,bt.jsx)("div",{className:"pf-modal-backdrop",onClick:n,children:(0,bt.jsxs)("div",{className:"pf-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:720},children:[(0,bt.jsxs)("div",{className:"pf-modal-header",children:[(0,bt.jsx)("div",{className:"pf-modal-title",children:"\ud83d\udcac Loan Conversation"}),(0,bt.jsx)("button",{className:"pf-modal-close",onClick:n,"aria-label":"Close",children:"\u2715"})]}),(0,bt.jsx)("div",{className:"pf-modal-body",children:s?(0,bt.jsx)("div",{className:"ltm-loading",children:"Loading messages\u2026"}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)("div",{className:"ltm-list",ref:f,children:0===a.length?(0,bt.jsx)("div",{className:"ltm-empty",children:"No messages yet. Start the conversation!"}):a.map(e=>{var t,n;const r=(null===(t=e.user)||void 0===t?void 0:t.name)||(null===(n=e.sender)||void 0===n?void 0:n.name)||"User",a=e.createdAt?new Date(e.createdAt).toLocaleString():"";return(0,bt.jsxs)("div",{className:"ltm-item",children:[(0,bt.jsxs)("div",{className:"ltm-item-head",children:[(0,bt.jsx)("span",{className:"ltm-name",children:r}),(0,bt.jsx)("span",{className:"ltm-when",children:a})]}),(0,bt.jsx)("div",{className:"ltm-text",children:e.content})]},e.id)})}),(0,bt.jsxs)("div",{className:"ltm-composer",children:[(0,bt.jsx)("textarea",{rows:3,placeholder:"Type your message\u2026",value:i,onChange:e=>l(e.target.value)}),(0,bt.jsx)("div",{className:"ltm-actions",children:(0,bt.jsx)("button",{className:"action-btn primary",onClick:async()=>{const e=i.trim();if(e)try{d(!0);if(!(await fetch("/api/loans/".concat(t,"/messages"),{method:"POST",headers:gt({"Content-Type":"application/json"},p?{Authorization:"Bearer ".concat(p)}:{}),body:JSON.stringify({content:e})})).ok)throw new Error("Failed to send message");l(""),await h(),setTimeout(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},0)}catch(n){console.error("Error sending message:",n),alert("Could not send message.")}finally{d(!1)}},disabled:u||!i.trim(),title:"Send message",children:u?"Sending\u2026":"Send"})})]})]})})]})}):null}function Pa(){return localStorage.getItem("token")||""}function Ra(e){let{threadId:t,limit:n=5,pollMs:a=5e3}=e;const[o,i]=(0,r.useState)([]),[l,s]=(0,r.useState)(""),[c,u]=(0,r.useState)(!0),[d,f]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),m=(0,r.useRef)(null),y=(0,r.useMemo)(()=>function(){const e=Pa();if(!e)return null;try{var t;const n=JSON.parse(atob(e.split(".")[1]||""));return null!==(t=null===n||void 0===n?void 0:n.userId)&&void 0!==t?t:null}catch(n){return null}}(),[]),v="/api/loans/".concat(t,"/_messages"),g=()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},b=async()=>{try{h("");const e=Pa(),t=e?{Authorization:"Bearer ".concat(e)}:{},n=await fetch(v,{headers:t});if(!n.ok)throw new Error(await n.text());const r=await n.json(),a=(Array.isArray(r)?r:[]).map(e=>{var t;return gt(gt({},e),{},{_displayName:(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name)||"User"})});i(a)}catch(Fo){console.error(Fo),h("Failed to load thread.")}finally{u(!1),setTimeout(g,0)}};(0,r.useEffect)(()=>{b();const e=setInterval(b,a);return()=>clearInterval(e)},[t]);const x=o.slice(-n);return(0,bt.jsxs)("div",{className:"lm-thread",children:[(0,bt.jsx)("div",{className:"lm-thread-header",children:"Public Discussion"}),p&&(0,bt.jsx)("div",{className:"lm-thread-error",children:p}),c?(0,bt.jsx)("div",{className:"lm-thread-loading",children:"Loading\u2026"}):(0,bt.jsxs)(bt.Fragment,{children:[0===x.length?(0,bt.jsx)("div",{className:"lm-thread-empty",children:"No messages yet. Start the conversation!"}):(0,bt.jsxs)("div",{className:"lm-thread-list",children:[x.map(e=>{var t;const n=e.userId&&y&&e.userId===y||(null===(t=e.user)||void 0===t?void 0:t.id)&&y&&e.user.id===y;return(0,bt.jsxs)("div",{className:"lm-msg ".concat(n?"mine":""),children:[(0,bt.jsx)("div",{className:"lm-msg-name",children:e._displayName}),(0,bt.jsx)("div",{className:"lm-msg-body",children:e.content}),(0,bt.jsx)("div",{className:"lm-msg-time",children:e.createdAt?new Date(e.createdAt).toLocaleString():""})]},e.id)}),(0,bt.jsx)("div",{ref:m})]}),(0,bt.jsxs)("div",{className:"lm-thread-input",children:[(0,bt.jsx)("textarea",{rows:2,placeholder:"Write your message\u2026",value:l,onChange:e=>s(e.target.value)}),(0,bt.jsx)("button",{className:"action-btn primary",onClick:async()=>{const e=l.trim();if(e)try{const t=Pa();if(!t)return void alert("Please log in to post.");f(!0);const n=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({content:e})});if(!n.ok)throw new Error(await n.text());const r=await n.json();i(e=>{var t;return[...e,gt(gt({},r),{},{_displayName:(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.name)||"You"})]}),s(""),setTimeout(g,0)}catch(Fo){console.error(Fo),alert("Failed to send message.")}finally{f(!1)}},disabled:d,children:d?"Sending\u2026":"Send"})]})]})]})}const Oa=e=>"number"!==typeof e||Number.isNaN(e)?"\u2014":"$".concat(e.toFixed(2));function Ta(){return localStorage.getItem("token")||""}function Aa(e){var t,n,a;let{loanId:o,onClose:i}=e;const[l,s]=(0,r.useState)(!0),[c,u]=(0,r.useState)(""),[d,f]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[m,y]=(0,r.useState)({amount:"",duration:"",interestRate:"",message:""}),v=Ta(),g=(0,r.useMemo)(()=>function(){const e=Ta();if(!e)return null;try{var t;const n=JSON.parse(atob(e.split(".")[1]||""));return null!==(t=null===n||void 0===n?void 0:n.userId)&&void 0!==t?t:null}catch(n){return null}}(),[]),b=(null===d||void 0===d||null===(t=d.borrower)||void 0===t?void 0:t.id)&&d.borrower.id===g;(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{s(!0),u("");const t=await fetch("/api/loans/".concat(o),{headers:v?{Authorization:"Bearer ".concat(v)}:{}});if(!t.ok)throw new Error(await t.text());const n=await t.json();e&&f(n)}catch(Fo){e&&u("Failed to load loan/offers."),console.error(Fo)}finally{e&&s(!1)}})(),()=>{e=!1}},[o,v]);const x=e=>y(t=>gt(gt({},t),{},{[e.target.name]:e.target.value}));return o?(0,bt.jsx)("div",{className:"ofm-backdrop",onClick:i,children:(0,bt.jsxs)("div",{className:"ofm-modal",onClick:e=>e.stopPropagation(),children:[(0,bt.jsxs)("div",{className:"ofm-header",children:[(0,bt.jsx)("div",{className:"ofm-title",children:"Offers for this request"}),(0,bt.jsx)("button",{className:"ofm-close",onClick:i,children:"\u2715"})]}),(0,bt.jsx)("div",{className:"ofm-body",children:l?(0,bt.jsx)("div",{children:"Loading\u2026"}):c?(0,bt.jsx)("div",{className:"pf-error",children:c}):d?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)("div",{className:"ofm-stats",children:[(0,bt.jsxs)("div",{className:"ofm-stat",children:[(0,bt.jsx)("div",{className:"ofm-stat-label",children:"Amount"}),(0,bt.jsx)("div",{className:"ofm-stat-value",children:Oa(Number(d.amount))})]}),(0,bt.jsxs)("div",{className:"ofm-stat",children:[(0,bt.jsx)("div",{className:"ofm-stat-label",children:"Duration"}),(0,bt.jsxs)("div",{className:"ofm-stat-value",children:[d.duration," months"]})]}),(0,bt.jsxs)("div",{className:"ofm-stat",children:[(0,bt.jsx)("div",{className:"ofm-stat-label",children:"Interest"}),(0,bt.jsxs)("div",{className:"ofm-stat-value",children:[d.interestRate,"%"]})]})]}),(0,bt.jsxs)("div",{style:{marginBottom:12},children:[(0,bt.jsxs)("div",{className:"ofm-section-title",style:{fontWeight:700,marginBottom:6},children:["Current Offers (",(null===(n=d.loanOffers)||void 0===n?void 0:n.length)||0,")"]}),null!==(a=d.loanOffers)&&void 0!==a&&a.length?d.loanOffers.map(e=>{var t;return(0,bt.jsxs)("div",{className:"ofm-offer-card",children:[(0,bt.jsxs)("div",{className:"ofm-offer-header",children:[(0,bt.jsxs)("div",{className:"ofm-offer-title",children:[(0,bt.jsx)("span",{style:{width:8,height:8,borderRadius:999,background:"#6366f1",display:"inline-block"}}),(0,bt.jsx)("span",{children:(null===(t=e.lender)||void 0===t?void 0:t.name)||"Lender"})]}),(0,bt.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",color:"#334155",fontSize:14},children:[(0,bt.jsx)("span",{children:Oa(Number(e.amount))}),(0,bt.jsxs)("span",{children:[e.interestRate,"%"]}),(0,bt.jsxs)("span",{children:[e.duration," mo"]}),(0,bt.jsx)("span",{className:"ofm-offer-badge",style:{background:"FUNDED"===d.status?"#dcfce7":"#fef3c7",color:"FUNDED"===d.status?"#166534":"#92400e",borderColor:"FUNDED"===d.status?"#86efac":"#fde68a"},children:"FUNDED"===d.status?"Accepted":"Pending"})]})]}),(0,bt.jsxs)("div",{className:"ofm-offer-body",children:[e.message&&(0,bt.jsxs)("div",{style:{marginBottom:8,color:"#334155"},children:[(0,bt.jsx)("strong",{children:"Message:"})," ",e.message]}),"OPEN"===d.status&&b&&(0,bt.jsx)("button",{className:"action-btn primary",onClick:()=>(async e=>{if(window.confirm("Accept this offer and create the loan contract?"))try{const t=await fetch("/api/loans/offers/".concat(e,"/accept"),{method:"POST",headers:gt({"Content-Type":"application/json"},v?{Authorization:"Bearer ".concat(v)}:{})});if(!t.ok)throw new Error(await t.text());await t.json(),alert("Offer accepted. Contract created!"),null===i||void 0===i||i()}catch(Fo){console.error(Fo),alert("Failed to accept offer.")}})(e.id),style:{background:"#4f46e5",color:"#fff",border:"1px solid #4f46e5",borderRadius:10,padding:"6px 10px",fontWeight:700,cursor:"pointer"},children:"Accept"})]})]},e.id)}):(0,bt.jsx)("div",{style:{color:"#64748b"},children:"No offers yet\u2014be the first!"})]}),(0,bt.jsx)("div",{className:"lm-details-grid"}),(0,bt.jsx)(Ra,{threadId:d.id,limit:5,compact:!0,showHeader:!1}),"OPEN"===d.status&&!b&&(0,bt.jsxs)("div",{className:"ofm-offer-form",children:[(0,bt.jsx)("div",{className:"ofm-section-title",style:{fontWeight:700,marginBottom:8},children:"Submit an Offer"}),(0,bt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,minmax(0,1fr))",gap:10},children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("label",{children:"Amount ($)"}),(0,bt.jsx)("input",{type:"number",name:"amount",value:m.amount,onChange:x})]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("label",{children:"Duration (months)"}),(0,bt.jsx)("input",{type:"number",name:"duration",value:m.duration,onChange:x})]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("label",{children:"Interest Rate (%)"}),(0,bt.jsx)("input",{type:"number",step:"0.01",name:"interestRate",value:m.interestRate,onChange:x})]})]}),(0,bt.jsxs)("div",{style:{marginTop:8},children:[(0,bt.jsx)("label",{children:"Message (optional)"}),(0,bt.jsx)("textarea",{name:"message",rows:3,value:m.message,onChange:x,style:{resize:"vertical"}})]}),(0,bt.jsx)("div",{style:{marginTop:10},children:(0,bt.jsx)("button",{disabled:p,onClick:async()=>{if(m.amount&&m.duration&&m.interestRate)try{h(!0);const e=await fetch("/api/loans/".concat(o,"/offers"),{method:"POST",headers:gt({"Content-Type":"application/json"},v?{Authorization:"Bearer ".concat(v)}:{}),body:JSON.stringify(m)});if(!e.ok)throw new Error(await e.text());const t=await e.json();f(e=>e?gt(gt({},e),{},{loanOffers:[t,...e.loanOffers||[]]}):e),y({amount:"",duration:"",interestRate:"",message:""})}catch(Fo){console.error(Fo),alert("Could not submit offer.")}finally{h(!1)}else alert("Please fill amount, duration, and interest rate.")},children:p?"Submitting\u2026":"Submit Offer"})})]})]}):(0,bt.jsx)("div",{className:"pf-error",children:"Not found."})})]})}):null}function La(){let e=localStorage.getItem("token")||"";return e=e.replace(/^"|"$/g,""),e?{Authorization:"Bearer ".concat(e)}:{}}function Fa(e){let{loanId:t,amount:n,onPaid:a}=e;const[o,i]=(0,r.useState)("wallet"),[l,s]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,f]=(0,r.useState)("");return(0,bt.jsxs)("div",{style:{marginTop:12},children:[(0,bt.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:12,alignItems:"center",marginBottom:8,fontSize:13,color:"#475569"},children:[(0,bt.jsx)("span",{style:{fontWeight:600},children:"Pay from:"}),(0,bt.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[(0,bt.jsx)("input",{type:"radio",name:"pay-source-".concat(t),value:"wallet",checked:"wallet"===o,onChange:()=>i("wallet")}),"PeerFund wallet balance"]}),(0,bt.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[(0,bt.jsx)("input",{type:"radio",name:"pay-source-".concat(t),value:"bank",checked:"bank"===o,onChange:()=>i("bank")}),"Linked bank (payment method)"]})]}),(0,bt.jsx)("button",{onClick:async()=>{s(!0),u(""),f("");try{await Na.post("/api/loans/".concat(t,"/pay-next"),{source:o},{headers:gt({"Content-Type":"application/json"},La()),withCredentials:!0});f("Payment submitted successfully."),"function"===typeof a&&await a()}catch(r){var e,n;console.error("payNextInstallment error",r);const t=(null===r||void 0===r||null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||(null===r||void 0===r?void 0:r.message)||"Payment failed";u(t)}finally{s(!1)}},disabled:l,style:{background:"#4f46e5",color:"#fff",border:"1px solid #4f46e5",padding:"10px 16px",borderRadius:999,fontWeight:800,cursor:l?"not-allowed":"pointer"},children:l?"Processing\u2026":"Pay next installment"}),c&&(0,bt.jsx)("div",{style:{marginTop:6,fontSize:12,color:"#b91c1c",background:"#fee2e2",borderRadius:8,padding:"4px 8px"},children:c}),d&&(0,bt.jsx)("div",{style:{marginTop:6,fontSize:12,color:"#166534",background:"#dcfce7",borderRadius:8,padding:"4px 8px"},children:d})]})}function Ia(){const e=localStorage.getItem("token");if(!e)return null;try{var t;const n=JSON.parse(atob(e.split(".")[1]||""));return null!==(t=null===n||void 0===n?void 0:n.userId)&&void 0!==t?t:null}catch(n){return null}}const Da=e=>"number"!==typeof e||Number.isNaN(e)?"\u2014":"$".concat(e.toFixed(2)),za={display:"grid",gridTemplateColumns:"minmax(140px,1fr) 120px 140px auto auto",alignItems:"center",gap:10};async function Ua(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=localStorage.getItem("token"),r=gt(gt({},t.headers||{}),n?{Authorization:"Bearer ".concat(n)}:{}),a=await fetch(e,gt(gt({},t),{},{headers:r,credentials:"include"}));if(401===a.status){try{console.warn("401 on",e,await a.text())}catch(o){}throw window.location.assign("/login"),new Error("Unauthorized")}return a}function Ba(e){const t=(e.status||"").toUpperCase();if(["PAID_OFF","COMPLETED","CLOSED"].includes(t))return!0;if("number"===typeof e.remainingPrincipal&&e.remainingPrincipal<=0)return!0;if("number"===typeof e.remainingPrincipalCents&&e.remainingPrincipalCents<=0)return!0;const n=!!e.nextDueDate,r="number"===typeof e.installmentAmount?e.installmentAmount:null;return!n&&(null===r||r<=0)}function Ma(e){return[...e].sort((e,t)=>{const n=Ba(e);return n===Ba(t)?0:n?1:-1})}function Wa(e){let{open:t,onClose:n}=e;return t?(0,bt.jsx)("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"center",padding:16,zIndex:1e3},onClick:n,children:(0,bt.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:520,background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.12)",padding:20},children:[(0,bt.jsx)("h3",{style:{margin:0},children:"Add a bank to receive funds"}),(0,bt.jsx)("p",{style:{color:"#334155",marginTop:8},children:"Before you can accept an offer, please link a bank account for loan disbursement on the Payment Method page."}),(0,bt.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:14},children:[(0,bt.jsx)("button",{className:"action-btn sm",onClick:n,children:"Close"}),(0,bt.jsx)("button",{className:"action-btn sm primary",onClick:()=>{window.location.assign("/payment-method")},children:"Go to Payment Method"})]})]})}):null}function qa(e){var t;let{req:n,isExpanded:r,onToggle:a,actionLoading:o,offersContent:i,onMakeOffer:l,onAcceptDirect:s,onDeclineDirect:c}=e;const u="market"===n.type,d="Borrowing"===n.role;return(0,bt.jsxs)("div",{className:"ms-card",children:[(0,bt.jsxs)("div",{className:"ms-card-row",style:za,children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"ms-label",children:"Counterparty"}),(0,bt.jsxs)("div",{className:"ms-value-strong",children:[n.counterpartyName||"Unknown",(0,bt.jsxs)("span",{style:{marginLeft:8,color:"#64748b",fontWeight:600},children:["\u2022 ",n.role]})]})]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"ms-label",children:"Amount"}),(0,bt.jsx)("div",{className:"ms-value-strong",children:Da(n.amount)})]}),(0,bt.jsx)("div",{style:{justifySelf:"end"},children:(0,bt.jsx)("span",{className:"ms-badge ms-badge--warn",children:"Open"})}),(0,bt.jsx)("div",{style:{justifySelf:"end",display:"flex",gap:8},children:(0,bt.jsx)("button",{className:"action-btn sm",onClick:a,title:"View request",children:r?"\ud83d\udd3d Hide":"\ud83d\udcc4 View"})})]}),r&&(0,bt.jsxs)("div",{className:"ms-details",children:[(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Status:"})," ",null!==(t=n.status)&&void 0!==t?t:"OPEN"]}),(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Interest Rate:"})," ",Number.isFinite(n.interestRate)?"".concat(n.interestRate,"%"):"\u2014"]}),(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Duration:"})," ",Number.isFinite(n.duration)?"".concat(n.duration," months"):"\u2014"]}),n.purpose?(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Reason:"})," ",n.purpose]}):null,u&&d&&i,u&&!d&&(0,bt.jsx)("div",{className:"mt-8",style:{display:"flex",justifyContent:"flex-end"},children:(0,bt.jsx)("button",{className:"action-btn sm primary",onClick:l,children:"\ud83d\udcb5 Make Offer"})}),!u&&(0,bt.jsxs)("div",{className:"mt-8",style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[(0,bt.jsx)("button",{className:"action-btn sm primary",onClick:s,disabled:!!o[n.id],children:o[n.id]?"Working\u2026":"Accept"}),(0,bt.jsx)("button",{className:"action-btn sm",onClick:c,disabled:!!o[n.id],children:o[n.id]?"Working\u2026":"Decline"})]})]})]},n.id)}function $a(){const[e,t]=(0,r.useState)({loansGiven:[],loansReceived:[],myOpenRequests:[]}),[n,a]=(0,r.useState)(!0),[o,i]=(0,r.useState)({}),[l,s]=(0,r.useState)({open:!0,given:!0,received:!0}),[c,u]=(0,r.useState)({}),[d,f]=(0,r.useState)(null),[p,h]=(0,r.useState)({}),[m,y]=(0,r.useState)({}),[v,g]=(0,r.useState)({}),[b,x]=(0,r.useState)(null),[w,j]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),N=(0,r.useCallback)(async()=>{if(null!==w)return w;try{const e=await Ua("/api/stripe/has-loan-payment-method");if(!e.ok)throw new Error("has-loan-payment-method failed");const t=await e.json(),n=!(null===t||void 0===t||!t.hasLoanPaymentMethod);return j(n),n}catch(e){return j(!1),!1}},[w]),E=(0,r.useCallback)(async()=>{const e=Ia();if(!e)return[];const t=[];try{const e=await Ua("/api/loans/offers/mine");if(e.ok){const l=await e.json(),s=Array.isArray(null===l||void 0===l?void 0:l.items)?l.items:Array.isArray(l)?l:[];for(const e of s){var n,r,a,o,i;t.push({type:"market",id:e.id,amount:Number(e.amount),duration:Number(e.duration),interestRate:Number(null!==(n=null===(r=e.myOffer)||void 0===r?void 0:r.interestRate)&&void 0!==n?n:e.interestRate),purpose:e.purpose||"",createdAt:e.createdAt||null,borrowerId:null===(a=e.borrower)||void 0===a?void 0:a.id,borrowerName:(null===(o=e.borrower)||void 0===o?void 0:o.name)||"Borrower",counterpartyName:(null===(i=e.borrower)||void 0===i?void 0:i.name)||"Borrower",role:"Lending",status:e.status||"OPEN",myOffer:e.myOffer?{id:e.myOffer.id,amount:Number(e.myOffer.amount),duration:Number(e.myOffer.duration),interestRate:Number(e.myOffer.interestRate),createdAt:e.myOffer.createdAt}:null})}}}catch(v){}let l=[];try{const t=await Ua("/api/loans/open");if(t.ok){const n=await t.json();l=(Array.isArray(n)?n:(null===n||void 0===n?void 0:n.items)||[]).filter(t=>{var n;return"OPEN"===(t.status||"OPEN").toUpperCase()&&String(t.borrowerId||(null===t||void 0===t||null===(n=t.borrower)||void 0===n?void 0:n.id))===String(e)})}}catch(v){}const s=[],c=[];for(const h of l){var u;const e=Array.isArray(h.loanOffers)?h.loanOffers:[];("number"===typeof(null===h||void 0===h||null===(u=h._count)||void 0===u?void 0:u.loanOffers)?h._count.loanOffers:e.length)>0?s.push(h):c.push(h)}if(c.length){const e=await Promise.all(c.map(async e=>{try{const t=await Ua("/api/loans/".concat(e.id,"/offers")),n=t.ok?await t.json():[];if(Array.isArray(n)&&n.length>0)return h(t=>gt(gt({},t),{},{[e.id]:n})),e}catch(v){}return null}));s.push(...e.filter(Boolean))}for(const h of s){var d,f,p,m;const n=h.borrowerId||(null===h||void 0===h||null===(d=h.borrower)||void 0===d?void 0:d.id)||e;t.push({type:"market",id:h.id,amount:Number(h.amount),duration:Number(null!==(f=h.duration)&&void 0!==f?f:h.months),interestRate:Number(null!==(p=h.interestRate)&&void 0!==p?p:h.apr),purpose:h.purpose||"",createdAt:h.createdAt||null,borrowerId:n,borrowerName:(null===h||void 0===h||null===(m=h.borrower)||void 0===m?void 0:m.name)||"You",counterpartyName:"\u2014 Borrowing",role:"Borrowing",status:h.status||"OPEN"})}const y=new Set;return t.filter(e=>!y.has(e.id)&&(y.add(e.id),!0))},[]),C=(0,r.useCallback)(async()=>{const e=Ia();if(!e)return[];try{const t=await Ua("/api/direct-requests/open/mine");if(!t.ok)return[];const n=await t.json();return(Array.isArray(n)?n:[]).map(t=>{var n,r,a,o,i,l,s,c;const u=t.borrowerId||(null===t||void 0===t||null===(n=t.borrower)||void 0===n?void 0:n.id),d=t.lenderId||(null===t||void 0===t||null===(r=t.lender)||void 0===r?void 0:r.id),f=String(u)===String(e);return{type:"direct",id:t.id,amount:Number(t.amount),duration:Number(null!==(a=t.months)&&void 0!==a?a:t.duration),interestRate:Number(null!==(o=t.apr)&&void 0!==o?o:t.interestRate),createdAt:t.createdAt||null,borrowerId:u,borrowerName:(null===t||void 0===t||null===(i=t.borrower)||void 0===i?void 0:i.name)||(f?"You":""),lenderId:d,lenderName:(null===t||void 0===t||null===(l=t.lender)||void 0===l?void 0:l.name)||(f?"":"You"),counterpartyName:f?(null===t||void 0===t||null===(s=t.lender)||void 0===s?void 0:s.name)||"Lender":(null===t||void 0===t||null===(c=t.borrower)||void 0===c?void 0:c.name)||"Borrower",role:f?"Borrowing":"Lending",status:t.status||"PENDING"}})}catch(t){return[]}},[]),_=(0,r.useCallback)(async()=>{if(localStorage.getItem("token")){a(!0);try{const e=await Ua("/api/users/my-money-summary");let n=[],r=[];if(e.ok){const t=await e.json();n=Array.isArray(t.loansGiven)?t.loansGiven:Array.isArray(t.loansAsLender)?t.loansAsLender:[],r=Array.isArray(t.loansReceived)?t.loansReceived:Array.isArray(t.loansAsBorrower)?t.loansAsBorrower:[]}const[a,o]=await Promise.all([E(),C()]);t({loansGiven:Ma(n),loansReceived:Ma(r),myOpenRequests:[...a,...o]})}catch(e){console.error("Error fetching money summary:",e),t({loansGiven:[],loansReceived:[],myOpenRequests:[]})}finally{a(!1)}}},[E,C]);(0,r.useEffect)(()=>{_()},[_]);const P=async e=>{y(t=>gt(gt({},t),{},{[e]:!0}));try{const t=await Ua("/api/loans/".concat(e,"/offers")),n=t.ok?await t.json():[];h(t=>gt(gt({},t),{},{[e]:Array.isArray(n)?n:[]}))}catch(Fo){console.error("loadOffers error",Fo),h(t=>gt(gt({},t),{},{[e]:[]}))}finally{y(t=>gt(gt({},t),{},{[e]:!1}))}};async function R(e,t,n){const r={headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0};let a=null;for(const o of e)try{const e=await Ua(t,gt({method:o},r));if(e.ok)return e;const n=await e.text().catch(()=>"");a=new Error("".concat(e.status," ").concat(e.statusText).concat(n?" \u2022 ".concat(n):""))}catch(Fo){a=Fo}throw a||new Error("All methods failed")}const[O,T]=(0,r.useState)({}),A=e=>{const t=!!m[e],n=p[e]||[];return(0,bt.jsxs)("div",{className:"mt-8",children:[(0,bt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,bt.jsx)("strong",{children:"Active Offers"}),(0,bt.jsx)("button",{className:"action-btn xs",onClick:()=>P(e),disabled:t,title:"Refresh offers",children:t?"Refreshing\u2026":"Refresh"})]}),t?(0,bt.jsx)("p",{className:"ms-muted",children:"Loading offers\u2026"}):0===n.length?(0,bt.jsx)("p",{className:"ms-muted",children:"No offers yet\u2014be the first!"}):(0,bt.jsx)("div",{style:{display:"grid",gap:8},children:n.map(e=>{var t;return(0,bt.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:10,padding:"8px 10px",display:"grid",gridTemplateColumns:"minmax(160px,1fr) 120px 120px 120px auto",gap:8,alignItems:"center"},children:[(0,bt.jsx)("div",{style:{fontWeight:600},children:(null===e||void 0===e||null===(t=e.lender)||void 0===t?void 0:t.name)||"Lender"}),(0,bt.jsx)("div",{children:Da(Number(e.amount)||0)}),(0,bt.jsx)("div",{children:Number.isFinite(e.duration)?"".concat(e.duration," mo"):"\u2014"}),(0,bt.jsx)("div",{children:Number.isFinite(e.interestRate)?"".concat(e.interestRate,"%"):"\u2014"}),(0,bt.jsx)("div",{style:{justifySelf:"end",display:"flex",gap:6},children:(0,bt.jsx)("button",{className:"action-btn xs primary",onClick:()=>(async e=>{g(t=>gt(gt({},t),{},{[e.id]:!0}));try{var t;if(!await N())return S(!0),void g(t=>gt(gt({},t),{},{[e.id]:!1}));const n=await Ua("/api/loans/offers/".concat(e.id,"/accept"),{method:"POST",headers:{"Content-Type":"application/json"}}),r=n.ok?await n.json():null;if(!n.ok||null===r||void 0===r||null===(t=r.loan)||void 0===t||!t.id){const e=n.ok?"":await n.text().catch(()=>"");throw new Error(e||(null===r||void 0===r?void 0:r.error)||"Failed to accept offer")}console.log("\u2705 Offer accepted response:",r),await _(),alert("Loan accepted and contract saved. Waiting for lender to fund from their PeerFund wallet.")}catch(Fo){console.error(Fo),alert("Action failed:\n".concat(Fo.message||Fo))}finally{g(t=>gt(gt({},t),{},{[e.id]:!1}))}})(e),disabled:!!v[e.id],children:v[e.id]?"Working\u2026":"Accept"})}),e.message?(0,bt.jsxs)("div",{style:{gridColumn:"1 / -1",color:"#334155",fontSize:13},children:[(0,bt.jsx)("strong",{children:"Message:"})," ",e.message]}):null]},e.id)})})]})},L=(e,t,n)=>{const r=(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e._id)||String(n),a=e.id||e._id,l=!!o[r],s=t?e.borrowerName:e.lenderName,c=(e.status||"").toUpperCase(),u=Ba(e),d=!t,p=u?"ms-badge ms-badge--muted":"FUNDED"===c?"ms-badge ms-badge--ok":"ms-badge ms-badge--warn",h="ms-card".concat(u?" ms-card--paid-off":"");return(0,bt.jsxs)("div",{className:h,children:[(0,bt.jsxs)("div",{className:"ms-card-row",style:za,children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"ms-label",children:t?"Borrower":"Lender"}),(0,bt.jsx)("div",{className:"ms-value-strong",children:s||"Unknown"})]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"ms-label",children:"Amount"}),(0,bt.jsx)("div",{className:"ms-value-strong",children:Da(e.amount)})]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"ms-label",children:"Status"}),(0,bt.jsx)("div",{className:"ms-value-strong",children:(0,bt.jsx)("span",{className:p,children:e.status||"\u2014"})})]}),(0,bt.jsxs)("div",{style:{justifySelf:"end",display:"flex",gap:8},children:[(0,bt.jsx)("button",{onClick:()=>f(a),className:"action-btn sm",title:"Open conversation",children:"\ud83d\udcac Messages"}),(0,bt.jsx)("button",{onClick:()=>i(e=>gt(gt({},e),{},{[r]:!l})),className:"action-btn sm",title:"View contract",children:l?"\ud83d\udd3d Hide":"\ud83d\udcc4 View"})]})]}),l&&(0,bt.jsxs)("div",{className:"ms-details",children:[e.status&&(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Status:"})," ",e.status]}),(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Interest Rate:"})," ","number"===typeof e.interestRate?"".concat(e.interestRate,"%"):"\u2014"]}),(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Duration:"})," ","number"===typeof e.duration?"".concat(e.duration," months"):"\u2014"]}),(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Next Due Date:"})," ",e.nextDueDate?new Date(e.nextDueDate).toLocaleDateString():"\u2014"]}),(0,bt.jsxs)("p",{className:"mt-6",children:[(0,bt.jsx)("strong",{children:"Installment (this period):"})," ",Da(e.installmentAmount)]}),u&&(0,bt.jsxs)("p",{className:"mt-6 ms-muted",children:[(0,bt.jsx)("strong",{children:"Repayment:"})," Loan fully repaid. No further installments."]}),d&&!u&&(0,bt.jsx)("div",{className:"mt-8",children:(0,bt.jsx)(Fa,{loanId:a,onPaid:_})}),t&&!u&&"ACCEPTED"===c&&(0,bt.jsxs)("div",{className:"mt-8",style:{display:"flex",gap:8},children:[(0,bt.jsx)("button",{className:"action-btn sm primary",onClick:()=>(async e=>{if(e){T(t=>gt(gt({},t),{},{[e]:!0}));try{const t=await Ua("/api/loans/".concat(e,"/fund"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.text().catch(()=>"");return console.error("Fund loan failed:",t.status,e),void alert("Funding failed (".concat(t.status,").\n").concat(e||"Check backend logs for details."))}const n=await t.json().catch(()=>({}));console.log("\u2705 Loan funded response:",n),alert("Loan successfully funded from your PeerFund wallet."),await _()}catch(t){console.error("Fund loan error:",t),alert("Funding error:\n".concat(t.message||t))}finally{T(t=>gt(gt({},t),{},{[e]:!1}))}}})(a),disabled:!!O[a],children:O[a]?"Funding\u2026":"Fund from PeerFund wallet"}),(0,bt.jsx)("span",{className:"ms-muted",style:{alignSelf:"center"},children:"Requires enough wallet balance"})]})]})]},r)};if(n)return(0,bt.jsx)("p",{className:"ms-loading ms-container",children:"Loading money summary..."});const F=Array.isArray(e.loansGiven)?e.loansGiven:[],I=Array.isArray(e.loansReceived)?e.loansReceived:[],D=Array.isArray(e.myOpenRequests)?e.myOpenRequests:[];return(0,bt.jsxs)("div",{className:"ms-container",children:[(0,bt.jsx)("h2",{className:"ms-heading",children:"\ud83d\udcb5 My Money Summary"}),(0,bt.jsxs)("div",{className:"ms-section",children:[(0,bt.jsxs)("button",{className:"ms-section-head",onClick:()=>s(e=>gt(gt({},e),{},{open:!e.open})),"aria-expanded":l.open,children:[(0,bt.jsx)("div",{className:"ms-subheading",children:"My Open Loan Requests"}),(0,bt.jsx)("div",{className:"ms-caret",children:l.open?"\u25be":"\u25b8"})]}),l.open&&(0,bt.jsx)("div",{className:"ms-section-body",children:0===D.length?(0,bt.jsx)("p",{className:"ms-empty",children:"You have no open requests."}):D.map(e=>(0,bt.jsx)(qa,{req:e,isExpanded:!!o[e.id],onToggle:()=>(async e=>{i(t=>{const n=Object.keys(t).reduce((e,t)=>gt(gt({},e),{},{[t]:!1}),{});return gt(gt({},n),{},{[e.id]:!t[e.id]})}),"market"===e.type&&"Borrowing"===e.role&&(p[e.id]||m[e.id]||await P(e.id))})(e),actionLoading:c,offersContent:"market"===e.type&&"Borrowing"===e.role?A(e.id):void 0,onMakeOffer:"market"===e.type&&"Lending"===e.role?()=>x(e.id):void 0,onAcceptDirect:"direct"===e.type?()=>(async e=>{u(t=>gt(gt({},t),{},{[e.id]:!0}));try{const t=["/api/direct-requests/".concat(e.id,"/approve"),"/api/direct-requests/".concat(e.id,"/accept"),"/api/direct-requests/".concat(e.id,"/respond?action=ACCEPT")];let n=!1,r=null;for(const e of t)try{await R(["POST","PUT","PATCH"],e),n=!0;break}catch(Fo){r=Fo}if(!n)throw r||new Error("Approve failed");await _()}catch(Fo){console.error(Fo),alert("Action failed:\n".concat(Fo.message||Fo))}finally{u(t=>gt(gt({},t),{},{[e.id]:!1}))}})(e):void 0,onDeclineDirect:"direct"===e.type?()=>(async e=>{u(t=>gt(gt({},t),{},{[e.id]:!0}));try{const t=["/api/direct-requests/".concat(e.id,"/decline"),"/api/direct-requests/".concat(e.id,"/reject"),"/api/direct-requests/".concat(e.id,"/respond?action=DECLINE")];let n=!1,r=null;for(const e of t)try{await R(["POST","PUT","PATCH"],e),n=!0;break}catch(Fo){r=Fo}if(!n)throw r||new Error("Decline failed");await _()}catch(Fo){console.error(Fo),alert("Action failed:\n".concat(Fo.message||Fo))}finally{u(t=>gt(gt({},t),{},{[e.id]:!1}))}})(e):void 0},e.id))})]}),(0,bt.jsxs)("div",{className:"ms-section",children:[(0,bt.jsxs)("button",{className:"ms-section-head",onClick:()=>s(e=>gt(gt({},e),{},{given:!e.given})),"aria-expanded":l.given,children:[(0,bt.jsx)("div",{className:"ms-subheading",children:"Loans Given (I'm the Lender)"}),(0,bt.jsx)("div",{className:"ms-caret",children:l.given?"\u25be":"\u25b8"})]}),l.given&&(0,bt.jsx)("div",{className:"ms-section-body",children:0===F.length?(0,bt.jsx)("p",{className:"ms-empty",children:"No loans given yet."}):F.map((e,t)=>L(e,!0,t))})]}),(0,bt.jsxs)("div",{className:"ms-section",children:[(0,bt.jsxs)("button",{className:"ms-section-head",onClick:()=>s(e=>gt(gt({},e),{},{received:!e.received})),"aria-expanded":l.received,children:[(0,bt.jsx)("div",{className:"ms-subheading",children:"Loans Received (I'm the Borrower)"}),(0,bt.jsx)("div",{className:"ms-caret",children:l.received?"\u25be":"\u25b8"})]}),l.received&&(0,bt.jsx)("div",{className:"ms-section-body",children:0===I.length?(0,bt.jsx)("p",{className:"ms-empty",children:"No loans received yet."}):I.map((e,t)=>L(e,!1,t))})]}),d&&(0,bt.jsx)(_a,{loanId:d,onClose:()=>f(null)}),b&&(0,bt.jsx)(Aa,{loanId:b,onClose:()=>x(null)}),(0,bt.jsx)(Wa,{open:k,onClose:()=>S(!1)})]})}function Va(e){const t=Number(e);return Number.isFinite(t)?t<0?0:t>100?100:Math.round(100*t)/100:0}function Ha(e){const t=Number(e);return!Number.isFinite(t)||t<=0?0:Math.round(100*t)/100}function Ka(){return Math.random().toString(36).slice(2,9)}function Ya(){const[e,t]=(0,r.useState)(!0),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[c,u]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{t(!0),i("");const n=await fetch("/api/users/me/lending-terms",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!n.ok)throw new Error(await n.text());const r=await n.json(),a=(null===r||void 0===r?void 0:r.lendingTerms)||{},o=Object.entries(a).map(e=>{let[t,n]=e;return{id:Ka(),amount:Ha(t),enabled:!(null===n||void 0===n||!n.enabled),rate:Va(null===n||void 0===n?void 0:n.rate)}});o.sort((e,t)=>e.amount-t.amount),e&&u(o)}catch(Fo){console.error(Fo),e&&i("Failed to load lending terms.")}finally{e&&t(!1)}})(),()=>{e=!1}},[]);const d=(0,r.useMemo)(()=>{const e=new Map;for(const t of c){const n=String(t.amount);e.set(n,(e.get(n)||0)+1)}return new Set([...e.entries()].filter(e=>{let[,t]=e;return t>1}).map(e=>{let[t]=e;return t}))},[c]);function f(e,t){u(n=>n.map(n=>n.id===e?gt(gt({},n),t):n))}return e?(0,bt.jsx)("section",{className:"lt-card",children:"Loading lending terms\u2026"}):(0,bt.jsxs)("section",{className:"lt-card",children:[(0,bt.jsxs)("header",{className:"lt-header",children:[(0,bt.jsx)("div",{className:"lt-eyebrow",children:"Lending preferences"}),(0,bt.jsx)("h3",{className:"lt-title",children:"Lending Terms"}),(0,bt.jsx)("p",{className:"lt-subtitle",children:"Add the amounts you\u2019re willing to fund and the APR you\u2019ll charge. Toggle tiers on or off as your risk appetite changes."})]}),o&&(0,bt.jsx)("div",{className:"lt-alert lt-alert--err",children:o}),l&&(0,bt.jsx)("div",{className:"lt-alert lt-alert--ok",children:l}),(0,bt.jsxs)("div",{className:"lt-body",children:[0===c.length&&(0,bt.jsx)("div",{className:"lt-empty",children:"You don\u2019t have any lending tiers yet. Add one to get started."}),c.map(e=>{const t=d.has(String(e.amount));return(0,bt.jsxs)("div",{className:"lt-row",children:[(0,bt.jsx)("button",{type:"button",className:"lt-toggle-pill ".concat(e.enabled?"lt-toggle-pill--on":"lt-toggle-pill--off"),onClick:()=>f(e.id,{enabled:!e.enabled}),children:e.enabled?"Active":"Paused"}),(0,bt.jsxs)("div",{className:"lt-row-fields",children:[(0,bt.jsxs)("div",{className:"lt-field",children:[(0,bt.jsx)("label",{className:"lt-field-label",children:"Amount"}),(0,bt.jsxs)("div",{className:"lt-input-shell lt-input-shell--prefix",children:[(0,bt.jsx)("span",{className:"lt-prefix",children:"$"}),(0,bt.jsx)("input",{type:"number",min:"1",step:"1",value:Number.isFinite(e.amount)?e.amount:"",onChange:t=>f(e.id,{amount:Ha(t.target.value)}),className:t?"lt-input lt-input--error":"lt-input",placeholder:"e.g. 1,000"})]}),t&&(0,bt.jsx)("div",{className:"lt-hint-error",children:"Duplicate amount"})]}),(0,bt.jsxs)("div",{className:"lt-field",children:[(0,bt.jsx)("label",{className:"lt-field-label",children:"APR"}),(0,bt.jsxs)("div",{className:"lt-input-shell lt-input-shell--suffix",children:[(0,bt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.25",value:e.rate,onChange:t=>f(e.id,{rate:Va(t.target.value)}),disabled:!e.enabled,className:"lt-input",placeholder:"10"}),(0,bt.jsx)("span",{className:"lt-suffix",children:"% APR"})]})]})]}),(0,bt.jsx)("button",{type:"button",className:"lt-remove",onClick:()=>{return t=e.id,void u(e=>e.filter(e=>e.id!==t));var t},title:"Remove tier",children:"Remove"})]},e.id)})]}),(0,bt.jsxs)("footer",{className:"lt-footer",children:[(0,bt.jsx)("button",{type:"button",className:"btn btn--soft btn--lg",onClick:function(){u(e=>[...e,{id:Ka(),amount:50,enabled:!0,rate:10}])},children:"+ Add Tier"}),(0,bt.jsx)("button",{type:"button",className:"btn btn--primary btn--lg",onClick:async function(){if(c.find(e=>!Number.isFinite(e.amount)||e.amount<=0))return i("Amounts must be positive numbers."),void s("");if(d.size>0)return i("Duplicate amounts detected. Each tier must be unique."),void s("");const e=Object.fromEntries(c.slice().sort((e,t)=>e.amount-t.amount).map(e=>[String(e.amount),{enabled:!!e.enabled,rate:Va(e.rate)}]));try{a(!0),i(""),s("");const t=await fetch("/api/users/me/lending-terms",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({lendingTerms:e})});if(!t.ok)throw new Error(await t.text());s("Lending terms saved.")}catch(Fo){console.error(Fo),i("Failed to save lending terms.")}finally{a(!1)}},disabled:n,children:n?"Saving\u2026":"Save Terms"})]})]})}function Ja(){const e=Z(),[t,n]=(0,r.useState)(!0),[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)({name:"",location:"",maxLoan:"",summary:""});(0,r.useEffect)(()=>{(async()=>{try{var e,t,r,a;const n=await fetch("/api/users/profile",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!n.ok)throw new Error("Failed to fetch profile");const o=await n.json();l({name:null!==(e=o.name)&&void 0!==e?e:"",location:null!==(t=o.location)&&void 0!==t?t:"",maxLoan:null!==(r=o.maxLoan)&&void 0!==r?r:"",summary:null!==(a=o.summary)&&void 0!==a?a:""})}catch(Fo){console.error("Profile load error:",Fo)}finally{n(!1)}})()},[]);const s=e=>l(t=>gt(gt({},t),{},{[e.target.name]:e.target.value}));return t?(0,bt.jsx)("div",{className:"up-shell",children:(0,bt.jsx)("div",{className:"up-card up-card--loading",children:"Loading profile\u2026"})}):(0,bt.jsxs)("div",{className:"up-shell",children:[(0,bt.jsxs)("header",{className:"up-header",children:[(0,bt.jsx)("div",{className:"up-eyebrow",children:"Account"}),(0,bt.jsx)("h2",{className:"up-title",children:"Edit Profile"}),(0,bt.jsx)("p",{className:"up-subtitle",children:"This is what borrowers and lenders see on your PeerFund profile. Keep it short, clear, and up to date."})]}),(0,bt.jsxs)("form",{className:"up-card",onSubmit:async t=>{t.preventDefault();try{o(!0);const t=gt(gt({},i),{},{maxLoan:""===i.maxLoan||null===i.maxLoan?null:Number(i.maxLoan)}),n=await fetch("/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(t)});if(!n.ok)throw new Error(await n.text()||"Save failed");await n.json(),alert("Profile updated successfully!"),e("/dashboard")}catch(n){console.error("Save failed:",n),alert("There was an error updating your profile.")}finally{o(!1)}},children:[(0,bt.jsxs)("div",{className:"up-grid",children:[(0,bt.jsxs)("div",{className:"up-field",children:[(0,bt.jsxs)("div",{className:"up-label-row",children:[(0,bt.jsx)("label",{htmlFor:"name",children:"Name"}),(0,bt.jsx)("span",{className:"up-label-meta",children:"Required"})]}),(0,bt.jsx)("input",{id:"name",name:"name",type:"text",value:i.name,onChange:s,required:!0,placeholder:"Your full name"})]}),(0,bt.jsxs)("div",{className:"up-field",children:[(0,bt.jsxs)("div",{className:"up-label-row",children:[(0,bt.jsx)("label",{htmlFor:"location",children:"Location"}),(0,bt.jsx)("span",{className:"up-label-meta",children:"Optional"})]}),(0,bt.jsx)("input",{id:"location",name:"location",type:"text",value:i.location,onChange:s,placeholder:"City, State"})]})]}),(0,bt.jsxs)("div",{className:"up-field up-field--full",children:[(0,bt.jsxs)("div",{className:"up-label-row",children:[(0,bt.jsx)("label",{htmlFor:"summary",children:"Personal summary"}),(0,bt.jsx)("span",{className:"up-label-meta",children:"Public"})]}),(0,bt.jsx)("textarea",{id:"summary",name:"summary",rows:5,value:i.summary,onChange:s,placeholder:"Share a short intro\u2014what you do, why you're here, and what matters to you."}),(0,bt.jsx)("div",{className:"up-hint",children:"Clear, specific summaries build trust and attract better loan partners."})]}),(0,bt.jsx)("div",{className:"up-divider"}),(0,bt.jsxs)("div",{className:"up-actions",children:[(0,bt.jsx)("button",{type:"button",className:"btn btn--ghost",onClick:()=>e(-1),children:"\u2190 Back"}),(0,bt.jsx)("button",{type:"submit",className:"btn btn--primary btn--lg",disabled:a,children:a?"Saving\u2026":"Save Profile"})]})]}),(0,bt.jsx)("section",{className:"up-section",children:(0,bt.jsx)(Ya,{})})]})}const Qa=()=>{const e=Z(),[t,n]=(0,r.useState)({amount:"",duration:"",interestRate:"",purpose:""}),[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/users/profile",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();o((null===t||void 0===t?void 0:t.isSuperUser)||!1)}catch(e){console.error("Failed to fetch user status",e)}finally{l(!1)}})()},[]);const s=e=>{const{name:t,value:r}=e.target;n(e=>gt(gt({},e),{},{[t]:r}))};return i?(0,bt.jsx)("div",{className:"cl-shell",children:(0,bt.jsx)("div",{className:"cl-card cl-card--loading",children:"Loading loan form\u2026"})}):(0,bt.jsxs)("div",{className:"cl-shell",children:[(0,bt.jsxs)("header",{className:"cl-header",children:[(0,bt.jsx)("div",{className:"cl-eyebrow",children:"Borrow"}),(0,bt.jsx)("h2",{className:"cl-title",children:"Create a New Loan Request"}),(0,bt.jsx)("p",{className:"cl-subtitle",children:"Set the amount, duration, and rate that work for you. Lenders will review your request and send offers directly in PeerFund."})]}),a?(0,bt.jsxs)("div",{className:"cl-alert cl-alert--success",children:[(0,bt.jsx)("span",{className:"cl-alert-icon",children:"\ud83d\udc8e"}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"cl-alert-title",children:"SuperUser perks unlocked"}),(0,bt.jsx)("div",{className:"cl-alert-text",children:"The 3% PeerFund platform fee is waived on principal and payments. A 3% banking fee still applies."})]})]}):(0,bt.jsxs)("div",{className:"cl-alert cl-alert--warn",children:[(0,bt.jsx)("span",{className:"cl-alert-icon",children:"\u26a0\ufe0f"}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{className:"cl-alert-title",children:"Standard fees apply"}),(0,bt.jsx)("div",{className:"cl-alert-text",children:"A 3% PeerFund platform fee applies to principal and payments. Upgrade to SuperUser to waive the PeerFund fee (a 3% banking fee still applies)."})]})]}),(0,bt.jsxs)("form",{className:"cl-card",onSubmit:async n=>{n.preventDefault();const r={amount:parseFloat(t.amount),duration:parseInt(t.duration,10),interestRate:parseFloat(t.interestRate),purpose:(t.purpose||"").trim(),isSuperUser:a};try{const t=await fetch("/api/loans",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(r)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to create loan request")}const n=await t.json();console.log("Loan submitted:",n),alert("Loan request submitted successfully!"),e("/dashboard")}catch(o){console.error("Error submitting loan request:",o.message),alert("There was a problem submitting your loan request: ".concat(o.message))}},children:[(0,bt.jsxs)("div",{className:"cl-grid",children:[(0,bt.jsxs)("div",{className:"cl-field",children:[(0,bt.jsxs)("div",{className:"cl-label-row",children:[(0,bt.jsx)("label",{htmlFor:"amount",children:"Loan amount"}),(0,bt.jsx)("span",{className:"cl-label-meta",children:"USD \xb7 Required"})]}),(0,bt.jsx)("input",{id:"amount",type:"number",name:"amount",value:t.amount,onChange:s,required:!0,min:"0",max:"250000",step:"1",placeholder:"e.g. 2,500"}),(0,bt.jsx)("div",{className:"cl-hint",children:"Max $250,000"})]}),(0,bt.jsxs)("div",{className:"cl-field",children:[(0,bt.jsxs)("div",{className:"cl-label-row",children:[(0,bt.jsx)("label",{htmlFor:"duration",children:"Duration"}),(0,bt.jsx)("span",{className:"cl-label-meta",children:"Months"})]}),(0,bt.jsx)("input",{id:"duration",type:"number",name:"duration",value:t.duration,onChange:s,required:!0,min:"1",max:"36",placeholder:"e.g. 12"}),(0,bt.jsx)("div",{className:"cl-hint",children:"Typical requests are 6\u201324 months."})]}),(0,bt.jsxs)("div",{className:"cl-field",children:[(0,bt.jsxs)("div",{className:"cl-label-row",children:[(0,bt.jsx)("label",{htmlFor:"interestRate",children:"Interest rate"}),(0,bt.jsx)("span",{className:"cl-label-meta",children:"APR"})]}),(0,bt.jsx)("input",{id:"interestRate",type:"number",name:"interestRate",step:"0.01",value:t.interestRate,onChange:s,required:!0,min:"0",max:"25",placeholder:"e.g. 9.5"}),(0,bt.jsx)("div",{className:"cl-hint",children:"Max 25%. Be realistic to attract lenders."})]})]}),(0,bt.jsxs)("div",{className:"cl-field cl-field--full",children:[(0,bt.jsxs)("div",{className:"cl-label-row",children:[(0,bt.jsx)("label",{htmlFor:"purpose",children:"Purpose"}),(0,bt.jsx)("span",{className:"cl-label-meta optional",children:"Optional"})]}),(0,bt.jsx)("textarea",{id:"purpose",name:"purpose",rows:4,value:t.purpose,onChange:s,placeholder:"Tell lenders briefly why you need this loan and how you plan to repay it."}),(0,bt.jsx)("div",{className:"cl-hint",children:"Strong, specific descriptions get better offers."})]}),(0,bt.jsx)("div",{className:"cl-divider"}),(0,bt.jsxs)("div",{className:"cl-actions",children:[(0,bt.jsx)("button",{type:"button",className:"btn btn--ghost",onClick:()=>e(-1),children:"\u2190 Back"}),(0,bt.jsx)("button",{type:"submit",className:"btn btn--primary btn--lg",children:"Post Loan Request"})]})]})]})};function Ga(e){const t=Number(e||0);return Number.isFinite(t)?"$".concat(t.toFixed(2)):"\u2014"}function Xa(e){var t,n,a,o,i,l,s,c;let{userId:u,onClose:d}=e;const[f,p]=(0,r.useState)(!0),[h,m]=(0,r.useState)(""),[y,v]=(0,r.useState)(null);if((0,r.useEffect)(()=>{if(!u)return;const e=document.body.style.overflow;document.body.style.overflow="hidden";const t=e=>{"Escape"===e.key&&(null===d||void 0===d||d())};return window.addEventListener("keydown",t),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t)}},[u,d]),(0,r.useEffect)(()=>{if(!u)return;let e=!0;return(async()=>{try{p(!0),m("");const t=localStorage.getItem("token")||"",n=await fetch("/api/users/".concat(u,"/profile"),{headers:t?{Authorization:"Bearer ".concat(t)}:{}});if(!n.ok)throw new Error(await n.text());const r=await n.json();e&&v(r)}catch(Fo){console.error(Fo),e&&m("Failed to load profile.")}finally{e&&p(!1)}})(),()=>{e=!1}},[u]),!u)return null;const g=((null===y||void 0===y?void 0:y.name)||"").split(" ").map(e=>e[0]).filter(Boolean).join("").slice(0,2).toUpperCase()||"U";return(0,bt.jsx)("div",{className:"pfm-backdrop",onClick:d,"aria-hidden":"true",children:(0,bt.jsxs)("div",{className:"pfm-modal pfm-animate-in",role:"dialog","aria-modal":"true","aria-labelledby":"pfm-title",onClick:e=>e.stopPropagation(),children:[(0,bt.jsx)("button",{className:"pfm-close",onClick:d,"aria-label":"Close",children:"\u2715"}),f?(0,bt.jsx)("div",{className:"pfm-body pfm-center",children:(0,bt.jsx)("div",{className:"pfm-spinner"})}):h?(0,bt.jsx)("div",{className:"pfm-body pfm-error",children:h}):(0,bt.jsxs)("div",{className:"pfm-body",children:[(0,bt.jsxs)("header",{className:"pfm-header",children:[(0,bt.jsx)("div",{className:"pfm-avatar","aria-hidden":"true",children:g}),(0,bt.jsxs)("div",{className:"pfm-header-meta",children:[(0,bt.jsxs)("h2",{id:"pfm-title",className:"pfm-name",children:[(null===y||void 0===y?void 0:y.name)||"Unknown",(null===y||void 0===y?void 0:y.isSuperUser)&&(0,bt.jsx)("span",{className:"pfm-badge",children:"SuperUser"})]}),(0,bt.jsxs)("div",{className:"pfm-sub",children:[null!==y&&void 0!==y&&y.location?(0,bt.jsxs)("span",{children:[y.location," \u2022 "]}):null,"Member since:"," ",null!==y&&void 0!==y&&y.signupDate?new Date(y.signupDate).toLocaleDateString():"\u2014"]}),(null===y||void 0===y?void 0:y.lastActiveAt)&&(0,bt.jsxs)("div",{className:"pfm-last-active",children:["Last active: ",new Date(y.lastActiveAt).toLocaleString()]})]})]}),(null===y||void 0===y?void 0:y.summary)&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)("div",{className:"pfm-section-title",children:"About"}),(0,bt.jsx)("p",{className:"pfm-summary",children:y.summary})]}),(0,bt.jsx)("div",{className:"pfm-section-title",children:"Stats"}),(0,bt.jsxs)("div",{className:"pfm-stats",children:[(0,bt.jsxs)("div",{className:"pfm-stat",children:[(0,bt.jsx)("div",{className:"pfm-stat-label",children:"Loans Given"}),(0,bt.jsx)("div",{className:"pfm-stat-value",children:null!==(t=null===y||void 0===y||null===(n=y.stats)||void 0===n?void 0:n.loansGivenCount)&&void 0!==t?t:0}),(0,bt.jsx)("div",{className:"pfm-stat-sub",children:Ga(null===y||void 0===y||null===(a=y.stats)||void 0===a?void 0:a.totalLent)})]}),(0,bt.jsxs)("div",{className:"pfm-stat",children:[(0,bt.jsx)("div",{className:"pfm-stat-label",children:"Loans Received"}),(0,bt.jsx)("div",{className:"pfm-stat-value",children:null!==(o=null===y||void 0===y||null===(i=y.stats)||void 0===i?void 0:i.loansReceivedCount)&&void 0!==o?o:0}),(0,bt.jsx)("div",{className:"pfm-stat-sub",children:Ga(null===y||void 0===y||null===(l=y.stats)||void 0===l?void 0:l.totalBorrowed)})]}),(0,bt.jsxs)("div",{className:"pfm-stat",children:[(0,bt.jsx)("div",{className:"pfm-stat-label",children:"Open Requests"}),(0,bt.jsx)("div",{className:"pfm-stat-value",children:null!==(s=null===y||void 0===y||null===(c=y.stats)||void 0===c?void 0:c.openRequestsCount)&&void 0!==s?s:0}),(0,bt.jsx)("div",{className:"pfm-stat-sub",children:"currently open"})]})]})]})]})})}function Za(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[o,i]=(0,r.useState)(""),[l,s]=(0,r.useState)({amount:"",purpose:"",duration:""}),[c,u]=(0,r.useState)({}),[d,f]=(0,r.useState)(null),[p,h]=(0,r.useState)(null),m=function(){const e=localStorage.getItem("token");if(!e)return null;try{var t;const n=JSON.parse(atob(e.split(".")[1]||""));return null!==(t=null===n||void 0===n?void 0:n.userId)&&void 0!==t?t:null}catch(n){return null}}();(0,r.useEffect)(()=>{(async()=>{try{var e;a(!0),i("");const n=await Na.get("/api/loans/open",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),r=Array.isArray(n.data)?n.data:(null===(e=n.data)||void 0===e?void 0:e.items)||[];t(r)}catch(n){console.error("Error fetching loan requests:",n),i("Failed to load open loan requests. Please try again."),t([])}finally{a(!1)}})()},[]);const y=e=>s(t=>gt(gt({},t),{},{[e.target.name]:e.target.value})),v=(0,r.useMemo)(()=>e.filter(e=>{var t;const n=(null===(t=e.borrower)||void 0===t?void 0:t.id)||e.borrowerId;return!m||!n||n!==m}).filter(e=>{const t=Number(e.amount),n=!l.amount||Number.isFinite(t)&&t>=Number(l.amount),r=!l.purpose||(e.purpose||"").toLowerCase().includes(l.purpose.toLowerCase()),a=!l.duration||Number(e.duration)===Number(l.duration);return n&&r&&a}),[e,l,m]);return(0,bt.jsxs)("div",{className:"lm-container",children:[(0,bt.jsx)("h2",{className:"lm-heading",children:"Open Loan Marketplace"}),(0,bt.jsxs)("div",{className:"lm-filters",children:[(0,bt.jsxs)("label",{className:"lm-filter",children:[(0,bt.jsx)("span",{children:"Min Amount"}),(0,bt.jsx)("input",{type:"number",name:"amount",value:l.amount,onChange:y,placeholder:"e.g. 75"})]}),(0,bt.jsxs)("label",{className:"lm-filter",children:[(0,bt.jsx)("span",{children:"Duration (months)"}),(0,bt.jsx)("input",{type:"number",name:"duration",value:l.duration,onChange:y,placeholder:"e.g. 2"})]})]}),o&&(0,bt.jsx)("div",{className:"lm-error",children:o}),n?(0,bt.jsx)("div",{className:"lm-skeleton-grid",children:[...Array(6)].map((e,t)=>(0,bt.jsx)("div",{className:"lm-card lm-skeleton"},t))}):0===v.length?(0,bt.jsx)("p",{className:"lm-empty",children:"No open loan requests match your filters."}):(0,bt.jsx)("div",{className:"lm-grid",children:v.map(e=>{var t,n,r;const a=e.borrower||{},o=a.id||a._id||e.borrowerId,i=a.name||a.fullName||"Unknown",l=Number(e.duration),s=null!=e.interestRate?"".concat(e.interestRate,"%"):"\u2014",u=Number(e.amount)||0,d=!!c[e.id],p=null!==(t="number"===typeof e.offerCount&&e.offerCount)&&void 0!==t?t:null!==(n=null===(r=e._count)||void 0===r?void 0:r.loanOffers)&&void 0!==n?n:Array.isArray(e.loanOffers)?e.loanOffers.length:0;return(0,bt.jsxs)("div",{className:"lm-card",children:[(0,bt.jsxs)("div",{className:"lm-card-header",children:[(0,bt.jsxs)("div",{className:"lm-header-left",children:[(0,bt.jsx)("button",{type:"button",className:"pf-linklike",onClick:()=>o&&f(o),title:"View profile",children:(0,bt.jsx)("div",{className:"lm-title",children:i})}),(0,bt.jsx)("div",{className:"lm-subtitle",children:"Borrower"})]}),(0,bt.jsxs)("div",{className:"lm-header-right",children:[(0,bt.jsx)("div",{className:"lm-amount-label",children:"Amount"}),(0,bt.jsx)("div",{className:"lm-amount-value",children:(m=u,"number"!==typeof m||Number.isNaN(m)?"\u2014":"$".concat(m.toFixed(2)))})]}),(0,bt.jsxs)("div",{className:"lm-header-right",children:[(0,bt.jsx)("div",{style:{fontSize:".75rem",color:"#64748b"},children:"Duration"}),(0,bt.jsx)("div",{style:{fontWeight:600},children:Number.isFinite(l)?"".concat(l," months"):"\u2014"})]}),(0,bt.jsxs)("div",{className:"lm-header-right",children:[(0,bt.jsx)("div",{style:{fontSize:".75rem",color:"#64748b"},children:"Interest"}),(0,bt.jsx)("div",{style:{fontWeight:600},children:s})]}),(0,bt.jsxs)("div",{className:"lm-header-right",children:[(0,bt.jsx)("div",{style:{fontSize:".75rem",color:"#64748b"},children:"Offers"}),(0,bt.jsx)("div",{style:{fontWeight:600},children:p})]}),(0,bt.jsx)("div",{className:"lm-actions-top",style:{gap:".5rem",flexWrap:"wrap"},children:(0,bt.jsx)("button",{className:"action-btn primary",onClick:()=>h(e.id),children:"\ud83d\udcac View Convo / \ud83d\udcb5 Make Offer"})})]}),d&&(0,bt.jsxs)("div",{id:"loan-details-".concat(e.id),className:"lm-details",role:"region","aria-label":"Loan details for ".concat(i),children:[(0,bt.jsx)("div",{className:"lm-details-grid"}),(0,bt.jsx)(Ra,{threadId:e.id,limit:5,compact:!0,showHeader:!1})]})]},e.id);var m})}),d&&(0,bt.jsx)(Xa,{userId:d,onClose:()=>f(null)}),p&&(0,bt.jsx)(Aa,{loanId:p,onClose:()=>h(null)})]})}const eo=e=>{let{loanId:t,onPaymentSubmitted:n}=e;const[a,o]=(0,r.useState)(null),[i,l]=(0,r.useState)(!0),[s,c]=(0,r.useState)(!1),u=localStorage.getItem("token");if((0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/repayments/".concat(t),{headers:{Authorization:"Bearer ".concat(u)}});if(!e.ok)throw new Error("Failed to load repayments");const n=(await e.json()).find(e=>"PENDING"===e.status);if(!n)return void o(null);o(n)}catch(e){console.error("Error fetching repayment info:",e),alert("\u26a0\ufe0f Could not load repayment details.")}finally{l(!1)}})()},[t,u]),i)return(0,bt.jsx)("p",{children:"Loading repayment form..."});if(!a)return(0,bt.jsx)("p",{children:"\u2705 All repayments are complete!"});const{id:d,basePayment:f=0,platformFee:p=0,bankFee:h=0,dueDate:m}=a,y=(Number(f)+Number(p||0)+Number(h||0)).toFixed(2);return(0,bt.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,bt.jsx)("h4",{children:"Make a Repayment"}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Due Date:"})," ",new Date(m).toLocaleDateString()]}),(0,bt.jsxs)("ul",{children:[(0,bt.jsxs)("li",{children:["Principal + Interest: $",Number(f).toFixed(2)]}),(0,bt.jsxs)("li",{children:["Banking Fee (1%): $",Number(h).toFixed(2)]}),(0,bt.jsxs)("li",{children:["PeerFund Fee (1%): $",Number(p).toFixed(2)," ",0===Number(p)&&(0,bt.jsx)("em",{children:"(Waived for SuperUsers \ud83d\udc8e)"})]}),(0,bt.jsxs)("li",{children:[(0,bt.jsx)("strong",{children:"Total Due:"})," $",y]})]}),(0,bt.jsxs)("label",{children:["Amount Charged ($):",(0,bt.jsx)("input",{type:"number",value:y,readOnly:!0})]}),(0,bt.jsx)("br",{}),(0,bt.jsx)("button",{type:"button",onClick:async()=>{try{c(!0);const e=await fetch("/api/payments/repayment-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({loanId:t,repaymentId:d})});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.error||"Could not create checkout session")}const n=await e.json();if(null===n||void 0===n||!n.url)throw new Error("No checkout URL returned");window.location.href=n.url}catch(e){console.error("Start checkout error:",e),alert("\u26a0\ufe0f There was a problem starting checkout. Please try again."),c(!1)}},disabled:s,style:{marginTop:"0.5rem"},children:s?"Starting checkout\u2026":"Pay with Card"})]})},to=e=>{var t;let{offer:n,borrower:r,onConfirm:a,onCancel:o}=e;return n&&r?(0,bt.jsxs)("div",{style:{position:"fixed",top:"10%",left:"10%",width:"80%",backgroundColor:"white",border:"2px solid black",padding:"2rem",zIndex:1e3},children:[(0,bt.jsx)("h2",{children:"Loan Contract Agreement"}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Borrower:"})," ",r.name]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Lender:"})," ",(null===(t=n.lender)||void 0===t?void 0:t.name)||"Unknown"]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Amount:"})," $",n.amount]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Duration:"})," ",n.duration," months"]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Interest Rate:"})," ",n.interestRate,"%"]}),(0,bt.jsx)("p",{children:"This agreement is legally binding and outlines the repayment obligations."}),(0,bt.jsx)("button",{onClick:a,style:{marginRight:"1rem"},children:"Sign & Finalize"}),(0,bt.jsx)("button",{onClick:o,children:"Cancel"})]}):null};function no(e){let{onLinked:t}=e;const n=Ge(),[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)("");return(0,bt.jsxs)("div",{style:{marginTop:10},children:[(0,bt.jsx)("button",{onClick:async()=>{try{var e;o(!0),l(""),await fetch("/api/stripe/ensure-customer",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});const r=await fetch("/api/stripe/create-bank-setup-intent",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),a=await r.json();if(!a.client_secret)throw new Error("Missing client secret from SetupIntent");const i=await n.collectBankAccountForSetup({clientSecret:a.client_secret,params:{payment_method_type:"us_bank_account"}});if(i.error)throw i.error;const s=await n.confirmBankAccountSetup(a.client_secret);if(s.error)throw s.error;const c=null===s||void 0===s||null===(e=s.setupIntent)||void 0===e?void 0:e.payment_method;if(!c)throw new Error("No paymentMethod returned from Stripe");const u=await fetch("/api/stripe/save-loan-payment-method",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethodId:c})}),d=await u.json();if(!d.success)throw new Error(d.error||"Failed to save loan PM");t&&t(c),alert("\u2705 Bank linked for loan funding successfully!")}catch(r){console.error("Loan bank linking error:",r),l(r.message||"Failed to link bank for loan funding")}finally{o(!1)}},disabled:a||!n,style:{background:"#4f46e5",color:"white",padding:"8px 12px",borderRadius:6,cursor:a?"not-allowed":"pointer"},children:a?"Linking\u2026":"Link Bank for Loan Funding"}),i&&(0,bt.jsx)("div",{style:{color:"red",marginTop:8},children:i})]})}function ro(){const e=function(){let e=localStorage.getItem("token")||"";return e=e.replace(/^"|"$/g,""),e.toLowerCase().startsWith("bearer ")&&(e=e.slice(7)),e||null}();return e?{Authorization:"Bearer ".concat(e)}:{}}function ao(e){let{loan:t,walletAvailableCents:n,onWalletSynced:a,onNeedMoreFunds:o,onFunded:i}=e;const[l,s]=(0,r.useState)("number"===typeof n?n:null),[c,u]=(0,r.useState)(!n),[d,f]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),[m,y]=(0,r.useState)(""),v="number"===typeof t.principalCents&&t.principalCents>0?t.principalCents:Math.round(100*(t.amount||0)),g=(v/100).toFixed(2),b="number"===typeof l?(l/100).toFixed(2):null,x="number"===typeof l&&l>=v;return(0,r.useEffect)(()=>{if("number"===typeof n)return;let e=!1;return async function(){u(!0),h("");try{const t=await fetch("/api/wallet/me",{headers:gt({"Content-Type":"application/json"},ro())});if(!t.ok)throw new Error(await t.text()||"Failed to load wallet.");const n=await t.json(),r="number"===typeof n.availableCents?n.availableCents:Math.round(100*(n.available||0));e||(s(r),null===a||void 0===a||a(r))}catch(Fo){e||h(Fo.message||"Could not load wallet balance.")}finally{e||u(!1)}}(),()=>{e=!0}},[]),(0,bt.jsxs)("section",{style:{marginTop:16,padding:16,borderRadius:12,border:"1px solid #e2e8f0",background:"#ffffff",maxWidth:520},children:[(0,bt.jsx)("h3",{style:{marginTop:0,marginBottom:8},children:"Fund this Loan"}),(0,bt.jsxs)("p",{style:{margin:"4px 0",color:"#475569",fontSize:14},children:["Loan amount:"," ",(0,bt.jsxs)("strong",{children:["$",g]})]}),(0,bt.jsxs)("p",{style:{margin:"4px 0 12px",color:"#475569",fontSize:14},children:["Your PeerFund balance:"," ",c?(0,bt.jsx)("span",{children:"Loading\u2026"}):(0,bt.jsxs)("strong",{children:["$",null!==b&&void 0!==b?b:"0.00"]})]}),(0,bt.jsxs)("div",{style:{display:"flex",gap:8,marginTop:6},children:[(0,bt.jsx)("button",{type:"button",onClick:async function(){if(h(""),y(""),x){f(!0);try{const n=await fetch("/api/loans/".concat(t.id,"/fund"),{method:"POST",headers:gt({"Content-Type":"application/json"},ro()),body:JSON.stringify({})});if(!n.ok){const e=await n.text().catch(()=>"");throw new Error(e||"Failed to fund loan.")}const r=await n.json().catch(()=>({}));y("Loan funded successfully from your PeerFund balance.");try{const e=await fetch("/api/wallet/me",{headers:gt({"Content-Type":"application/json"},ro())});if(e.ok){const t=await e.json(),n="number"===typeof t.availableCents?t.availableCents:Math.round(100*(t.available||0));s(n),null===a||void 0===a||a(n)}}catch(e){}null===i||void 0===i||i(r.loan||t)}catch(Fo){h(Fo.message||"Could not fund loan.")}finally{f(!1)}}else null===o||void 0===o||o()},disabled:d||c,style:{background:x?"#4f46e5":"#9ca3af",color:"#fff",border:"1px solid transparent",padding:"8px 14px",borderRadius:8,fontWeight:600,cursor:d||c?"not-allowed":"pointer",fontSize:14},children:d?"Funding\u2026":x?"Fund from wallet":"Fund from wallet (add funds)"}),(0,bt.jsx)("button",{type:"button",onClick:()=>null===o||void 0===o?void 0:o(),style:{background:"#ffffff",color:"#4b5563",border:"1px solid #d1d5db",padding:"8px 14px",borderRadius:8,fontWeight:500,cursor:"pointer",fontSize:14},children:"Add funds / update bank"})]}),p&&(0,bt.jsx)("div",{style:{marginTop:10,fontSize:13,color:"#b91c1c",background:"#fee2e2",border:"1px solid #fecaca",borderRadius:6,padding:"6px 8px"},children:p}),m&&(0,bt.jsx)("div",{style:{marginTop:10,fontSize:13,color:"#166534",background:"#dcfce7",border:"1px solid #bbf7d0",borderRadius:6,padding:"6px 8px"},children:m})]})}function oo(e){let{onClose:t,onBalanceUpdated:n}=e;const[a,o]=(0,r.useState)("25.00"),[i,l]=(0,r.useState)(!1),s=Math.max(1,Number((a||"").replace(/[^0-9.]/g,""))||0);return(0,bt.jsxs)("div",{className:"wallet-panel",children:[(0,bt.jsx)("h3",{children:"Add funds"}),(0,bt.jsxs)("div",{className:"row",children:[(0,bt.jsx)("label",{children:"Amount"}),(0,bt.jsxs)("div",{className:"input-wrap",children:[(0,bt.jsx)("span",{children:"$"}),(0,bt.jsx)("input",{value:a,onChange:e=>o(e.target.value),inputMode:"decimal",placeholder:"25.00"})]})]}),(0,bt.jsxs)("div",{className:"row right",style:{marginTop:16},children:[(0,bt.jsx)("button",{className:"btn",onClick:t,disabled:i,children:"Cancel"}),(0,bt.jsx)("button",{className:"btn primary",onClick:async function(){try{l(!0),await async function(e){let{amountDollars:t}=e;const n=localStorage.getItem("token"),r=await fetch("/api/wallet/deposit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({amountDollars:t})}),a=await r.json().catch(()=>({}));if(!r.ok||!1===a.ok)throw new Error(a.error||"Failed to create deposit");return a}({amountDollars:s});const e=await jt();null===n||void 0===n||n(e.availableCents),null===t||void 0===t||t()}catch(Fo){console.error("Deposit failed:",Fo),alert(Fo.message||"Deposit failed")}finally{l(!1)}},disabled:i,children:i?"Processing\u2026":"Continue"})]})]})}const io=()=>{var e,t,n,a;const{loanId:o}=te(),i=Z(),[l]=Mt(),[s,c]=(0,r.useState)(null),[u,d]=(0,r.useState)([]),[f,p]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null),[g,b]=(0,r.useState)(!1),[x,w]=(0,r.useState)(!1),[j,k]=(0,r.useState)({}),[S,N]=(0,r.useState)({amount:"",duration:"",interestRate:"",message:""}),[E,C]=(0,r.useState)(null),[_,P]=(0,r.useState)(!1),R=localStorage.getItem("token"),O=R?JSON.parse(atob(R.split(".")[1])).userId:null,T=async()=>{try{var e;const n=await fetch("/api/loans/".concat(o),{headers:{Authorization:"Bearer ".concat(R)}}),r=await n.json();if(c(r),d(r.messages||[]),(null===(e=r.borrower)||void 0===e?void 0:e.id)===O)try{const e=await fetch("/api/stripe/has-loan-payment-method",{headers:{Authorization:"Bearer ".concat(R)}});if(e.ok){const t=await e.json();w(!!t.hasLoanPaymentMethod)}else w(!1)}catch(t){console.warn("Error checking loan payment method:",t),w(!1)}}catch(t){console.error("Error fetching loan details:",t)}};(0,r.useEffect)(()=>{T()},[o]),(0,r.useEffect)(()=>{var e,t;s&&N({amount:Number(s.amount||0),duration:Number(s.duration||1),interestRate:Number(null!==(e=null!==(t=s.interestRate)&&void 0!==t?t:s.apr)&&void 0!==e?e:0),message:""})},[s]),(0,r.useEffect)(()=>{"discussion"===l.get("tab")&&s&&setTimeout(()=>{const e=document.getElementById("discussion-thread");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},0)},[l,s]);const A=O===(null===s||void 0===s||null===(e=s.borrower)||void 0===e?void 0:e.id),L=!(null===s||void 0===s||null===(t=s.loanOffers)||void 0===t||!t.some(e=>{var t;return String(null===(t=e.lender)||void 0===t?void 0:t.id)===String(O)&&"ACCEPTED"===(e.status||"OPEN").toUpperCase()}));if(!s)return(0,bt.jsx)("p",{children:"Loading loan details..."});const F=(s.status||"").toUpperCase(),I={margin:"12px 0",padding:"10px 12px",borderRadius:8,border:"1px solid #e2e8f0",background:"FUNDED"===F?"#ecfdf5":"PROCESSING"===F?"#eff6ff":"FAILED"===F?"#fef2f2":"#f8fafc",color:"#0f172a"};return(0,bt.jsxs)("div",{style:{padding:"2rem",position:"relative"},children:[(0,bt.jsxs)("h2",{children:["Loan Request by ",(null===(n=s.borrower)||void 0===n?void 0:n.name)||"Unknown User"]}),(0,bt.jsx)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start",marginBottom:"1rem"},children:(0,bt.jsx)(Xa,{user:s.borrower})}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Amount:"})," $",s.amount]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Duration:"})," ",s.duration," months"]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Reason:"})," ",s.purpose]}),(0,bt.jsxs)("div",{style:I,children:[(0,bt.jsx)("strong",{children:"Status:"})," ",s.status,"FAILED"===F&&(0,bt.jsx)("span",{style:{marginLeft:6,color:"#b91c1c"},children:"(You can retry disbursement once issues are resolved.)"}),"PROCESSING"===F&&(0,bt.jsx)("span",{style:{marginLeft:6,color:"#334155"},children:"Transfer in progress \u2014 refresh shortly to see the final state."})]}),L&&["ACCEPTED","PROCESSING"].includes(F)&&(0,bt.jsx)(ao,{loan:s,walletAvailableCents:E,onWalletSynced:e=>C(e),onNeedMoreFunds:()=>P(!0),onFunded:async()=>{await T()}}),(0,bt.jsx)("hr",{}),(0,bt.jsx)("h3",{children:"Offers"}),(null===(a=s.loanOffers)||void 0===a?void 0:a.length)>0?s.loanOffers.map(e=>{var t;const n=!!j[e.id],r="ACCEPTED"===(e.status||"").toUpperCase()?"Accepted":"Pending",a="Accepted"===r?{background:"#dcfce7",color:"#166534",borderColor:"#86efac"}:{background:"#fef3c7",color:"#92400e",borderColor:"#fde68a"};return(0,bt.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:12,background:"#fff",marginBottom:12,overflow:"hidden"},children:[(0,bt.jsxs)("button",{onClick:()=>{return t=e.id,k(e=>gt(gt({},e),{},{[t]:!e[t]}));var t},"aria-expanded":n,style:{width:"100%",textAlign:"left",background:"#f8fafc",border:0,padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[(0,bt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,bt.jsx)("span",{style:{width:8,height:8,borderRadius:999,background:"#6366f1",display:"inline-block"}}),(0,bt.jsxs)("span",{style:{fontWeight:700,color:"#0f172a"},children:["Offer from ",(null===(t=e.lender)||void 0===t?void 0:t.name)||"Unknown"]})]}),(0,bt.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",color:"#334155",fontSize:14},children:[(0,bt.jsxs)("span",{children:["$",Number(e.amount||0).toFixed(2)]}),(0,bt.jsxs)("span",{children:[e.interestRate,"%"]}),(0,bt.jsxs)("span",{children:[e.duration," mo"]}),(0,bt.jsx)("span",{style:gt({borderRadius:999,padding:"2px 8px",fontSize:12,fontWeight:700,border:"1px solid"},a),children:r}),(0,bt.jsx)("span",{style:{fontSize:18,color:"#64748b"},children:n?"\u25be":"\u25b8"})]})]}),n&&(0,bt.jsxs)("div",{style:{padding:"12px 14px 14px",borderTop:"1px solid #e2e8f0"},children:[(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Message:"})," ",e.message||"\u2014"]}),"OPEN"===F&&A&&(0,bt.jsx)("button",{onClick:()=>(e=>{v(e),b(!0)})(e),style:{background:"#4f46e5",border:"1px solid #4f46e5",color:"#fff",fontWeight:700,padding:"8px 12px",borderRadius:10,cursor:"pointer"},children:"Accept Offer"})]})]},e.id)}):(0,bt.jsx)("p",{children:"No offers yet."}),"ACCEPTED"===F&&A&&!x&&(0,bt.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",border:"1px solid #e2e8f0",borderRadius:10,background:"#f8fafc"},children:[(0,bt.jsx)("h3",{style:{marginTop:0},children:"Before we disburse your loan\u2026"}),(0,bt.jsx)("p",{style:{color:"#334155"},children:"You must link a bank account in order to receive your loan funds."}),(0,bt.jsx)(no,{onLinked:()=>w(!0)})]}),"FUNDED"===F&&A&&(0,bt.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,bt.jsx)("h3",{children:"Repayments"}),(0,bt.jsx)("button",{onClick:()=>m(!0),children:"Make a Payment"}),(0,bt.jsx)("button",{onClick:()=>i("/loan/".concat(s.id,"/repayments")),children:"View Repayment Tracker"}),h&&(0,bt.jsx)(eo,{loanId:s.id})]}),(0,bt.jsx)("hr",{}),(0,bt.jsxs)("div",{id:"discussion-thread",style:{marginTop:"1.5rem"},children:[(0,bt.jsx)("h3",{children:"Public Discussion"}),0===u.length?(0,bt.jsx)("p",{children:"No messages yet. Start the conversation!"}):u.map(e=>{var t;return(0,bt.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",padding:"8px 0"},children:[(0,bt.jsxs)("strong",{children:[(null===(t=e.user)||void 0===t?void 0:t.name)||"User",":"]})," ",e.content]},e.id)}),(0,bt.jsxs)("div",{style:{display:"flex",gap:8,marginTop:8},children:[(0,bt.jsx)("textarea",{placeholder:"Write your message\u2026",value:f,onChange:e=>p(e.target.value),style:{flex:1,padding:8,border:"1px solid #e5e7eb",borderRadius:8}}),(0,bt.jsx)("button",{onClick:async()=>{if(f.trim())try{const e=await fetch("/api/loans/".concat(o,"/messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(R)},body:JSON.stringify({content:f})}),t=await e.json();d(e=>[...e,t]),p("")}catch(e){console.error("Error sending message:",e)}},style:{background:"#4f46e5",border:"1px solid #4f46e5",color:"#fff",fontWeight:700,padding:"8px 12px",borderRadius:10,cursor:"pointer",height:40,alignSelf:"center"},children:"Send"})]})]}),g&&y&&(0,bt.jsx)(to,{offer:y,borrower:s.borrower,onConfirm:async()=>{try{const e=await fetch("/api/loans/offers/".concat(y.id,"/accept"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(R)}});if(!e.ok){const t=await e.text();return void alert("\u274c ".concat(t||"Something went wrong"))}await e.json(),alert("\u2705 Loan contract created and saved!"),b(!1),i("/dashboard")}catch(e){console.error("\u274c Error finalizing contract:",e),alert("Network or server error occurred.")}},onCancel:()=>b(!1)}),_&&(0,bt.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:40},children:(0,bt.jsx)("div",{style:{background:"#ffffff",borderRadius:12,padding:16,minWidth:320,maxWidth:420,boxShadow:"0 10px 15px -3px rgba(15, 23, 42, 0.2), 0 4px 6px -2px rgba(15, 23, 42, 0.1)"},children:(0,bt.jsx)(oo,{onClose:()=>P(!1),onBalanceUpdated:e=>{C(e),P(!1)}})})})]})},lo=()=>{const{loanId:e}=te(),t=Z(),[n,a]=(0,r.useState)([]),[o,i]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!e||"undefined"===e)return void console.warn("Loan ID is undefined. Skipping fetch.");(async()=>{try{const t=await fetch("/api/loans/".concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to load messages");const n=await t.json();a(n)}catch(t){console.error("Error loading messages:",t.message)}})()},[e]);return(0,bt.jsxs)("div",{style:{padding:"2rem"},children:[(0,bt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,bt.jsx)("button",{onClick:()=>t("/create-loan"),children:"Request a Loan"}),(0,bt.jsx)("button",{onClick:()=>t("/loan-marketplace"),children:"View Open Loans"}),(0,bt.jsx)("button",{onClick:()=>t("/money-summary"),children:"My Money Summary"}),(0,bt.jsx)("button",{onClick:()=>t("/messages"),children:"My Messages"}),(0,bt.jsx)("button",{onClick:()=>t("/history"),children:"History"}),(0,bt.jsx)("button",{onClick:()=>t("/profile"),children:"Edit Profile"}),(0,bt.jsx)("button",{onClick:()=>t("/payment-method"),children:"My Payment Method"}),(0,bt.jsx)("button",{onClick:()=>t("/documents"),children:"My Documents"})]}),(0,bt.jsxs)("h2",{children:["\ud83d\udce8 Direct Messaging ",e?"for Loan #".concat(e):"(No Loan Selected)"]}),(0,bt.jsx)("div",{style:{border:"1px solid #ccc",padding:"1rem",height:"300px",overflowY:"scroll"},children:0===n.length?(0,bt.jsx)("p",{children:"No messages yet."}):n.map((e,t)=>{var n;return(0,bt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,bt.jsxs)("strong",{children:[(null===(n=e.sender)||void 0===n?void 0:n.name)||"Unknown",":"]})," ",e.text]},t)})}),(0,bt.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,bt.jsx)("input",{type:"text",placeholder:"Type your message...",value:o,onChange:e=>i(e.target.value),style:{width:"70%"}}),(0,bt.jsx)("button",{onClick:async()=>{if(o.trim()&&e&&"undefined"!==e)try{const t=await fetch("/api/loans/".concat(e,"/messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({text:o})});if(!t.ok)throw new Error("Failed to send message");const n=await t.json();a(e=>[...e,n]),i("")}catch(t){console.error("Error sending message:",t.message),alert("Failed to send message.")}},style:{marginLeft:"1rem"},disabled:!e||"undefined"===e,children:"Send"})]})]})},so=()=>{const{loanId:e}=te(),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(""),[i,l]=(0,r.useState)(!0),s=async()=>{try{const t=await fetch("/api/loans/".concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to load messages");const r=await t.json();n(r)}catch(t){console.error("Error fetching messages:",t)}finally{l(!1)}};return(0,r.useEffect)(()=>{s()},[e]),(0,bt.jsxs)("div",{style:{padding:"2rem",maxWidth:"700px",margin:"auto"},children:[(0,bt.jsx)("h2",{children:"\ud83d\udcac Loan Messages"}),i?(0,bt.jsx)("p",{children:"Loading messages..."}):(0,bt.jsx)("div",{style:{marginBottom:"2rem"},children:0===t.length?(0,bt.jsx)("p",{children:"No messages yet. Start the conversation!"}):t.map(e=>{var t;return(0,bt.jsxs)("div",{style:{marginBottom:"1rem",padding:"1rem",borderRadius:"8px",backgroundColor:e.senderId===e.currentUserId?"#e8f5e9":"#f1f1f1"},children:[(0,bt.jsxs)("strong",{children:[(null===(t=e.sender)||void 0===t?void 0:t.name)||"User",":"]}),(0,bt.jsx)("p",{children:e.content}),(0,bt.jsx)("small",{children:new Date(e.createdAt).toLocaleString()})]},e.id)})}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("textarea",{rows:"3",style:{width:"100%",marginBottom:"1rem"},placeholder:"Type your message...",value:a,onChange:e=>o(e.target.value)}),(0,bt.jsx)("button",{onClick:async()=>{if(a.trim())try{if(!(await fetch("/api/loans/".concat(e,"/messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({content:a})})).ok)throw new Error("Failed to send message");o(""),s()}catch(t){console.error("Error sending message:",t)}},children:"Send Message"})]})]})},co=()=>{const{loanId:e}=te(),[t,n]=(0,r.useState)([]),a=localStorage.getItem("token");return(0,r.useEffect)(()=>{(async()=>{try{const t=await fetch("/api/loans/".concat(e,"/repayments"),{headers:{Authorization:"Bearer ".concat(a)}});if(!t.ok)throw new Error("Failed to fetch repayments");const r=await t.json();n(r)}catch(t){console.error("Error fetching repayments:",t)}})()},[e,a]),(0,bt.jsxs)("div",{style:{padding:"2rem"},children:[(0,bt.jsx)("h2",{children:"Repayment History"}),0===t.length?(0,bt.jsx)("p",{children:"No repayments found."}):(0,bt.jsxs)("table",{children:[(0,bt.jsx)("thead",{children:(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("th",{children:"Due Date"}),(0,bt.jsx)("th",{children:"Amount"}),(0,bt.jsx)("th",{children:"Amount Paid"}),(0,bt.jsx)("th",{children:"Status"}),(0,bt.jsx)("th",{children:"Paid At"})]})}),(0,bt.jsx)("tbody",{children:t.map(e=>(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("td",{children:new Date(e.dueDate).toLocaleDateString()}),(0,bt.jsxs)("td",{children:["$",e.amount.toFixed(2)]}),(0,bt.jsxs)("td",{children:["$",e.amountPaid.toFixed(2)]}),(0,bt.jsx)("td",{children:e.status}),(0,bt.jsx)("td",{children:e.paidAt?new Date(e.paidAt).toLocaleDateString():"\u2014"})]},e.id))})]})]})},uo=()=>{const{documentId:e}=te(),t=Z(),[n,a]=(0,r.useState)(!0),[o,i]=(0,r.useState)(""),[l,s]=(0,r.useState)(null),[c,u]=(0,r.useState)("");if((0,r.useEffect)(()=>{let n=!0;return(async()=>{try{a(!0),i("");const r=localStorage.getItem("token");if(!r)return void t("/login",{replace:!0});const o=await fetch("/api/documents/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});if(401===o.status)return void t("/login",{replace:!0});if(!o.ok){const e=await o.text();throw new Error(e||"Failed to load document")}const l=await o.json();if(!n)return;if(s(l),null!==l&&void 0!==l&&l.base64&&null!==l&&void 0!==l&&l.mimeType){const e=atob(l.base64),t=new Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);const n=new Uint8Array(t),r=new Blob([n],{type:l.mimeType}),a=URL.createObjectURL(r);u(a)}}catch(Fo){console.error("DocumentViewer load error:",Fo),n&&i(Fo.message||"Error: Document not found")}finally{n&&a(!1)}})(),()=>{n=!1,c&&URL.revokeObjectURL(c)}},[e]),n)return(0,bt.jsx)("div",{style:{padding:16},children:"Loading\u2026"});if(o)return(0,bt.jsxs)("div",{style:{padding:16},children:["Error: ",o]});if(!l)return(0,bt.jsx)("div",{style:{padding:16},children:"Error: Document not found"});const d=l.mimeType||"",f=d.startsWith("image/"),p="application/pdf"===d;return(0,bt.jsxs)("div",{style:{padding:16},children:[(0,bt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[(0,bt.jsx)("h2",{style:{margin:0},children:l.title||l.fileName||"Document"}),(0,bt.jsx)("button",{onClick:()=>t(-1),children:"\u2190 Back"})]}),(0,bt.jsxs)("div",{style:{marginTop:12,color:"#64748b"},children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("b",{children:"Type:"})," ",l.type||"\u2014"]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("b",{children:"File:"})," ",l.fileName||"\u2014"]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("b",{children:"MIME:"})," ",l.mimeType||"\u2014"]})]}),(0,bt.jsx)("hr",{style:{margin:"16px 0"}}),c?f?(0,bt.jsx)("img",{src:c,alt:l.title||l.fileName||"Uploaded document",style:{maxWidth:"100%",borderRadius:12,border:"1px solid #e5e7eb"}}):p?(0,bt.jsx)("iframe",{title:"PDF Preview",src:c,style:{width:"100%",height:"80vh",border:"1px solid #e5e7eb",borderRadius:12}}):(0,bt.jsxs)("div",{children:[(0,bt.jsx)("p",{children:"This file type can\u2019t be previewed here."}),(0,bt.jsx)("a",{href:c,download:l.fileName||"document",children:"Download file"})]}):(0,bt.jsx)("div",{children:"No preview available."})]})},fo=()=>{const e=Z(),[t,n]=(0,r.useState)([]),a=localStorage.getItem("userId");return(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/messages/thread",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Failed to load threads");const t=await e.json();n(t)}catch(e){console.error("Error fetching message threads:",e.message)}})()},[]),(0,bt.jsxs)("div",{style:{padding:"2rem"},children:[(0,bt.jsx)("h2",{children:"\ud83d\udcec Your Inbox"}),0===t.length?(0,bt.jsx)("p",{children:"No conversations yet."}):(0,bt.jsx)("ul",{style:{listStyle:"none",padding:0},children:t.map(t=>{var n;const r=t.participants.find(e=>e.id!==a),o=(null===(n=t.messages[0])||void 0===n?void 0:n.content)||"(No messages yet)",i=t.loanId||"N/A";return(0,bt.jsxs)("li",{style:{marginBottom:"1rem",cursor:"pointer"},onClick:()=>e("/loan/".concat(i,"/messages")),children:[(0,bt.jsxs)("strong",{children:["Chat with ",(null===r||void 0===r?void 0:r.name)||"Unknown"]}),(0,bt.jsx)("br",{}),(0,bt.jsxs)("small",{children:["Loan ID: ",i]}),(0,bt.jsx)("br",{}),(0,bt.jsxs)("em",{children:["Last message: ",o]})]},t.id)})})]})};function po(){var e,t,n,a,o,i;const l=Z(),{lenderId:s}=te(),[c]=Mt(),{state:u}=G(),d=Number(null!==(e=null!==(t=c.get("amount"))&&void 0!==t?t:null===u||void 0===u?void 0:u.amount)&&void 0!==e?e:0),f=Number(null!==(n=null!==(a=c.get("rate"))&&void 0!==a?a:null===u||void 0===u?void 0:u.rate)&&void 0!==n?n:0),p=Number(null!==(o=null!==(i=c.get("months"))&&void 0!==i?i:null===u||void 0===u?void 0:u.months)&&void 0!==o?o:0),[h,m]=(0,r.useState)(!1),y=(0,r.useMemo)(()=>s&&Number.isFinite(d)&&d>0&&Number.isFinite(f)&&p>0,[s,d,f,p]);return(0,bt.jsx)("div",{className:"auth-wrap",children:(0,bt.jsxs)("div",{className:"auth-card",style:{maxWidth:520},children:[(0,bt.jsxs)("div",{className:"auth-header",children:[(0,bt.jsx)("div",{className:"auth-logo",children:"PF"}),(0,bt.jsx)("div",{className:"auth-title",children:"Confirm Direct Loan Request"})]}),(0,bt.jsx)("div",{className:"auth-sub",children:"Review and confirm your request."}),(0,bt.jsxs)("div",{style:{marginTop:12},children:[(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Lender ID:"})," ",s]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Amount:"})," $",d.toFixed(2)]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"APR:"})," ",f,"%"]}),(0,bt.jsxs)("p",{children:[(0,bt.jsx)("strong",{children:"Months:"})," ",p]})]}),(0,bt.jsxs)("div",{className:"auth-actions",style:{marginTop:16},children:[(0,bt.jsx)("button",{className:"auth-btn",onClick:()=>l(-1),disabled:h,children:"Back"}),(0,bt.jsx)("button",{className:"auth-btn primary",onClick:async()=>{if(y)try{m(!0);const e=localStorage.getItem("token")||"",t=await fetch("/api/direct-requests",{method:"POST",headers:gt({"Content-Type":"application/json"},e?{Authorization:"Bearer ".concat(e)}:{}),body:JSON.stringify({lenderId:s,amount:d,months:p,apr:f})}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((null===n||void 0===n?void 0:n.error)||"Failed to submit request");alert("Direct loan request sent!"),l("/money-summary")}catch(Fo){alert(Fo.message)}finally{m(!1)}},disabled:h||!y,children:h?"Submitting\u2026":"Confirm & Send"})]})]})})}function ho(e){var t;let{onSaved:n}=e;const a=Ge(),o=qe("calls useElements()").elements,[i,l]=(0,r.useState)(!1),s=(null===(t=localStorage.getItem("token"))||void 0===t?void 0:t.replace(/^"|"$/g,""))||"";return(0,bt.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,bt.jsx)("h3",{children:"Funding card"}),(0,bt.jsx)("p",{style:{fontSize:14,color:"#4b5563"},children:"This card will be used for deposits, repayments, and SuperUser fees."}),(0,bt.jsx)("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:10,margin:"8px 0 12px",background:"#fff"},children:(0,bt.jsx)(Xe,{options:{hidePostalCode:!1}})}),(0,bt.jsx)("button",{onClick:async()=>{if(a&&o)try{l(!0);const e=await fetch("/api/billing/card/setup-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});if(!e.ok)throw new Error(await e.text());const{clientSecret:t}=await e.json(),r=o.getElement(Xe),{error:i,setupIntent:c}=await a.confirmCardSetup(t,{payment_method:{card:r}});if(i)throw i;const u=c.payment_method,d=await fetch("/api/billing/card/set-funding-method",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({paymentMethodId:u})});if(!d.ok)throw new Error(await d.text());alert("Funding card saved!"),null===n||void 0===n||n()}catch(Fo){console.error(Fo),alert(Fo.message||"Failed to save card")}finally{l(!1)}},disabled:i||!a,style:{background:"#4f46e5",border:"1px solid #4f46e5",color:"#fff",fontWeight:600,padding:"8px 14px",borderRadius:999,cursor:i?"not-allowed":"pointer"},children:i?"Saving\u2026":"Save funding card"})]})}function mo(e){let{onClose:t,onBalanceUpdated:n,maxDollars:a}=e;const[o,i]=(0,r.useState)("25.00"),[l,s]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),d=(o||"").replace(/[^0-9.]/g,""),f=Number(d||0),p=Number.isFinite(f)&&f>0?f:0,h="number"===typeof a&&p>a+1e-6,m=!l&&p>0&&!h;return(0,bt.jsxs)("div",{className:"withdraw-panel",children:[(0,bt.jsx)("h3",{children:"Withdraw funds"}),"number"===typeof a&&(0,bt.jsxs)("p",{style:{fontSize:13,color:"#6b7280",marginTop:4},children:["Available to withdraw: ",(0,bt.jsxs)("strong",{children:["$",a.toFixed(2)]})]}),c&&(0,bt.jsx)("div",{style:{marginTop:8,background:"#fef2f2",border:"1px solid #fecaca",color:"#7f1d1d",borderRadius:8,padding:"8px 10px"},children:c}),(0,bt.jsxs)("div",{className:"row",style:{marginTop:12},children:[(0,bt.jsx)("label",{children:"Amount"}),(0,bt.jsxs)("div",{className:"input-wrap",style:{display:"flex",gap:4},children:[(0,bt.jsx)("span",{style:{padding:"6px 10px",borderRadius:8,border:"1px solid #e2e8f0",background:"#f9fafb",fontSize:14},children:"$"}),(0,bt.jsx)("input",{value:o,onChange:e=>i(e.target.value),inputMode:"decimal",placeholder:"25.00",style:{flex:1,padding:"6px 10px",borderRadius:8,border:"1px solid #e2e8f0"}})]}),h&&(0,bt.jsx)("div",{style:{marginTop:6,fontSize:12,color:"#b91c1c"},children:"Amount exceeds your available balance."})]}),(0,bt.jsxs)("div",{className:"row right",style:{marginTop:16,textAlign:"right"},children:[(0,bt.jsx)("button",{className:"btn",onClick:t,disabled:l,style:{marginRight:8},children:"Cancel"}),(0,bt.jsx)("button",{className:"btn primary",onClick:async function(){if(m)try{s(!0),u("");const t=await fetch("/api/wallet/withdraw",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({amountDollars:p})});if(!t.ok){let n="Failed to withdraw funds";try{const e=await t.json();null!==e&&void 0!==e&&e.error&&(n=e.error)}catch(e){}throw new Error(n)}await(null===n||void 0===n?void 0:n())}catch(Fo){console.error("Withdraw failed:",Fo),u(Fo.message||"Failed to withdraw funds")}finally{s(!1)}},disabled:!m,style:{padding:"8px 14px",borderRadius:999,border:"1px solid #4f46e5",background:m?"#4f46e5":"#9ca3af",color:"#fff",fontWeight:700,cursor:m?"pointer":"not-allowed"},children:l?"Processing\u2026":"Withdraw"})]})]})}function yo(){var e,t;const[n,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),[l,s]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,f]=(0,r.useState)("");async function p(){try{f("");const e=await jt();a(e)}catch(Fo){console.error("loadWallet error",Fo),f((null===Fo||void 0===Fo?void 0:Fo.message)||"Failed to load wallet.")}finally{i(!1)}}(0,r.useEffect)(()=>{p()},[]);const h=null!==(e=null===n||void 0===n?void 0:n.availableCents)&&void 0!==e?e:0,m=null!==(t=null===n||void 0===n?void 0:n.pendingCents)&&void 0!==t?t:0,y=h/100,v=y.toFixed(2),g=(m/100).toFixed(2),b=l||c;return(0,bt.jsxs)("div",{style:{padding:"2rem"},children:[(0,bt.jsx)("h2",{children:"Wallet"}),d&&(0,bt.jsx)("div",{style:{marginTop:8,background:"#fef2f2",border:"1px solid #fecaca",color:"#7f1d1d",borderRadius:8,padding:"8px 10px"},children:d}),o?(0,bt.jsx)("p",{children:"Loading wallet\u2026"}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)("div",{style:{marginTop:12,padding:"12px 14px",borderRadius:12,border:"1px solid #e2e8f0",background:"#f8fafc",maxWidth:420},children:[(0,bt.jsx)("div",{style:{fontSize:14,color:"#64748b",marginBottom:4},children:"PeerFund balance"}),(0,bt.jsxs)("div",{style:{fontSize:24,fontWeight:700},children:["$",v]}),(0,bt.jsxs)("div",{style:{fontSize:13,color:"#6b7280",marginTop:4},children:["Pending: $",g]}),(0,bt.jsxs)("div",{style:{marginTop:12,display:"flex",gap:8},children:[(0,bt.jsx)("button",{style:{flex:1,padding:"8px 14px",borderRadius:999,border:"1px solid #4f46e5",background:"#4f46e5",color:"#fff",fontWeight:700,cursor:"pointer"},onClick:()=>s(!0),children:"Add funds"}),(0,bt.jsx)("button",{style:{flex:1,padding:"8px 14px",borderRadius:999,border:"1px solid #0f172a",background:"#0f172a",color:"#fff",fontWeight:700,cursor:y>0?"pointer":"not-allowed",opacity:y>0?1:.6},disabled:y<=0,onClick:()=>u(!0),children:"Withdraw"})]})]}),!b&&(0,bt.jsxs)("div",{style:{marginTop:20,padding:"12px 14px",borderRadius:12,border:"1px solid #e2e8f0",background:"#ffffff",maxWidth:420},children:[(0,bt.jsx)("div",{style:{fontSize:14,color:"#64748b",marginBottom:8},children:"Funding card"}),(0,bt.jsx)("p",{style:{fontSize:13,color:"#6b7280",marginBottom:12},children:"This card is used when you deposit to your PeerFund wallet, repay loans, or pay the SuperUser fee."}),(0,bt.jsx)(ho,{})]}),l&&(0,bt.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:(0,bt.jsx)("div",{style:{background:"#fff",borderRadius:16,padding:20,minWidth:320,maxWidth:420,boxShadow:"0 20px 40px rgba(15,23,42,0.25)"},children:(0,bt.jsx)(oo,{onClose:()=>s(!1),onBalanceUpdated:async()=>{s(!1),await p()}})})}),c&&(0,bt.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:(0,bt.jsx)("div",{style:{background:"#fff",borderRadius:16,padding:20,minWidth:320,maxWidth:420,boxShadow:"0 20px 40px rgba(15,23,42,0.25)"},children:(0,bt.jsx)(mo,{maxDollars:y,onClose:()=>u(!1),onBalanceUpdated:async()=>{u(!1),await p()}})})})]})]})}const vo="pk_test_51RqO4fGsm03jYeOaDiZbyYpH4q71OjW1lzwBkiujATF7mJ6KG79KKajvjUDB4zckyLEkjI0DRAAOjdkKZztXDxEc009u803ENm".trim(),go=/^pk_(test|live)_[A-Za-z0-9_]+$/.test(vo)?vo:"";function bo(){const e=function(){let e=localStorage.getItem("token")||"";return e=e.replace(/^"|"$/g,""),e.toLowerCase().startsWith("bearer ")&&(e=e.slice(7)),e||null}();return e?{Authorization:"Bearer ".concat(e)}:{}}let xo;function wo(){return go?(xo||(xo=pt(go)),xo):null}function jo(){const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(!1),[l,s]=(0,r.useState)(""),[c,u]=(0,r.useState)(!0),[d,f]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),m=(0,r.useMemo)(wo,[go]);async function y(e){try{const t=await fetch("/api/payment-method/mine",{headers:gt({},bo()),signal:e});if(!t.ok)return void a(null);const n=await t.json(),r=Array.isArray(null===n||void 0===n?void 0:n.items)?n.items:[],o=r.find(e=>e.isDefault)||r[0]||null;a(o)}catch(t){a(null)}}(0,r.useEffect)(()=>{const e=new AbortController;return(async()=>{try{try{const t=await fetch("/api/users/profile",{headers:gt({},bo()),signal:e.signal});if(t.ok){const e=await t.json();null!==e&&void 0!==e&&e.name&&f(e.name),null!==e&&void 0!==e&&e.email&&h(e.email)}}catch(t){}await y(e.signal)}finally{u(!1)}})(),()=>e.abort()},[]);const v=!!n,g=o||!(!!go&&!!m)||!v&&!d;return(0,bt.jsxs)("div",{style:{maxWidth:720,margin:"0 auto",padding:16},children:[(0,bt.jsx)("h2",{style:{marginTop:0},children:"Payment Method"}),!go&&(0,bt.jsxs)("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#7f1d1d",padding:"10px 12px",borderRadius:8,marginBottom:12},children:["Missing Stripe publishable key. Add"," ",(0,bt.jsx)("code",{children:"REACT_APP_STRIPE_PUBLISHABLE_KEY"})," to your ",(0,bt.jsx)("code",{children:".env"}),"."]}),l&&(0,bt.jsx)("div",{style:{background:"#fff7ed",border:"1px solid #fed7aa",color:"#7c2d12",padding:"10px 12px",borderRadius:8,marginBottom:12},children:l}),(0,bt.jsxs)("section",{style:{border:"1px solid #e2e8f0",borderRadius:12,background:"#fff",padding:14,opacity:c?.7:1},children:[(0,bt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("div",{style:{fontWeight:800,fontSize:16,marginBottom:4},children:v?(null===n||void 0===n?void 0:n.brand)||"Bank account":"No bank account on file"}),(0,bt.jsx)("div",{style:{fontSize:13,color:"#475569",marginBottom:6},children:v?null!==n&&void 0!==n&&n.last4?"\u2022\u2022\u2022\u2022 ".concat(n.last4):"\u2014":"Link your bank to send and receive money on PeerFund."}),v&&(0,bt.jsxs)("small",{style:{color:"#64748b"},children:["Used for ",(0,bt.jsx)("strong",{children:"both"})," funding and payouts. Updating replaces your current bank."]})]}),(0,bt.jsx)("button",{onClick:async function(){i(!0),s("");try{const e=await fetch("/api/stripe/create-bank-setup-intent",{method:"POST",headers:gt({"Content-Type":"application/json"},bo())});if(401===e.status)return void s("Your session expired. Please log in again, then return here.");if(!e.ok)throw new Error(await e.text()||"Failed to create SetupIntent.");const{client_secret:n}=await e.json();if(!n)throw new Error("No client_secret returned from server.");t(n)}catch(Fo){s(Fo.message||"Could not start bank link.")}finally{i(!1)}},disabled:g,style:{background:"#4f46e5",color:"#fff",border:"1px solid #4f46e5",padding:"10px 14px",borderRadius:10,fontWeight:800,cursor:g?"not-allowed":"pointer",whiteSpace:"nowrap"},children:v?o?"Starting\u2026":"Update bank account":o?"Starting\u2026":"Link bank account"})]}),!v&&(0,bt.jsxs)("div",{style:{display:"grid",gap:8,marginTop:12,background:"#fafafa",border:"1px solid #e5e7eb",borderRadius:8,padding:10},children:[(0,bt.jsx)("div",{style:{fontSize:14,color:"#6b7280"},children:"Account holder"}),(0,bt.jsx)("input",{type:"text",value:d,onChange:e=>f(e.target.value),placeholder:"Account holder full name",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:8}}),(0,bt.jsx)("small",{style:{color:"#6b7280"},children:"We pass this to Stripe only to label your bank method."})]})]}),e&&m&&(0,bt.jsx)(We,{stripe:m,children:(0,bt.jsx)(ko,{clientSecret:e,fullName:d,email:p,onSaved:async()=>{t(null),await y()},onError:e=>{t(null),s(e)}})})]})}function ko(e){let{clientSecret:t,fullName:n,email:a,onSaved:o,onError:i}=e;const l=Ge(),[s,c]=(0,r.useState)(!0),u=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{l&&t&&!u.current&&(n?(u.current=!0,(async()=>{try{const{error:e}=await l.collectBankAccountForSetup({clientSecret:t,params:{payment_method_type:"us_bank_account",payment_method_data:{billing_details:gt({name:n},a?{email:a}:{})}}});if(e)throw e;const{setupIntent:r,error:i}=await l.confirmUsBankAccountSetup(t);if(i)throw i;const s=null===r||void 0===r?void 0:r.payment_method;if(!s)throw new Error("Missing payment method id from Stripe.");await async function(e){const t=await fetch("/api/payment-method/save",{method:"POST",headers:gt({"Content-Type":"application/json"},bo()),body:JSON.stringify({paymentMethodId:e,makeDefault:!0,useForLoans:!0})});if(!t.ok){const e=await t.text().catch(()=>"");throw new Error(e||"Failed to save payment method to your PeerFund account.")}}(s),null===o||void 0===o||o()}catch(Fo){null===i||void 0===i||i((null===Fo||void 0===Fo?void 0:Fo.message)||"Failed to link bank account.")}finally{c(!1)}})()):null===i||void 0===i||i("Please enter the account holder\u2019s full name."))},[l,t,n,a,o,i]),(0,bt.jsx)("div",{style:{marginTop:12,background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:8,padding:"10px 12px",fontSize:14,color:"#334155"},children:s?"Opening secure bank link\u2026":"Done."})}const So=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(!0),[o,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=localStorage.getItem("token");if(!e)return a(!1),void i(!1);(async()=>{try{const t=await fetch("/api/users/profile",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to load profile");"ADMIN"===(await t.json()).role?i(!0):i(!1)}catch(t){console.error("RequireAdmin error:",t),i(!1)}finally{a(!1)}})()},[]),n?(0,bt.jsx)("div",{style:{padding:"1rem"},children:"Checking admin access\u2026"}):o?t:(0,bt.jsx)(ye,{to:"/dashboard",replace:!0})},No=()=>{const e=Z(),[t,n]=(0,r.useState)("users"),[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(""),[s,c]=(0,r.useState)([]),[u,d]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),h="undefined"!==typeof window?localStorage.getItem("token"):null,m=h?{Authorization:"Bearer ".concat(h)}:{},y=async()=>{try{l(""),o(!0);const e=await fetch("/api/admin/users",{headers:m});if(!e.ok)throw new Error(await e.text());const t=await e.json();c(Array.isArray(t)?t:t.users||[])}catch(Fo){console.error("loadUsers error:",Fo),l(Fo.message||"Failed to load users")}finally{o(!1)}};(0,r.useEffect)(()=>{h&&(y(),(async()=>{try{l(""),o(!0);const e=await fetch("/api/admin/verification/pending",{headers:m});if(!e.ok)throw new Error(await e.text());const t=await e.json();d(Array.isArray(t)?t:t.items||[])}catch(Fo){console.error("loadPendingVerifications error:",Fo),l(Fo.message||"Failed to load pending verifications")}finally{o(!1)}})())},[h]);return(0,bt.jsxs)("div",{className:"admin-shell",children:[(0,bt.jsx)("header",{className:"admin-header",children:(0,bt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:16},children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("h1",{children:"Admin dashboard"}),(0,bt.jsx)("p",{children:"Monitor PeerFund activity and review user verifications."})]}),(0,bt.jsx)("button",{type:"button",onClick:()=>e("/dashboard"),className:"admin-btn",children:"\u2190 Back to app"})]})}),(0,bt.jsxs)("div",{className:"admin-tabs",children:[(0,bt.jsx)("button",{className:"admin-tab ".concat("users"===t?"is-active":""),onClick:()=>n("users"),type:"button",children:"Users"}),(0,bt.jsx)("button",{className:"admin-tab ".concat("verifications"===t?"is-active":""),onClick:()=>n("verifications"),type:"button",children:"Verifications"}),(0,bt.jsx)("button",{className:"admin-tab ".concat("transactions"===t?"is-active":""),onClick:()=>{n("transactions"),0===f.length&&(async()=>{try{l(""),o(!0);const e=await fetch("/api/admin/transactions",{headers:m});if(!e.ok)throw new Error(await e.text());const t=await e.json();p(Array.isArray(t)?t:t.transactions||[])}catch(Fo){console.error("loadTransactions error:",Fo),l(Fo.message||"Failed to load transactions")}finally{o(!1)}})()},type:"button",children:"Transactions"})]}),a&&(0,bt.jsx)("div",{className:"admin-loading",children:"Loading\u2026"}),i&&(0,bt.jsx)("div",{className:"admin-error",children:i}),"users"===t&&(0,bt.jsxs)("div",{className:"admin-card",children:[(0,bt.jsx)("h2",{children:"All users"}),(0,bt.jsx)("p",{style:{marginBottom:12,color:"#64748b"},children:"Quick overview of users, roles, SuperUser status, and verification status."}),(0,bt.jsx)("div",{className:"admin-table-wrapper",children:(0,bt.jsxs)("table",{className:"admin-table",children:[(0,bt.jsx)("thead",{children:(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("th",{children:"Created"}),(0,bt.jsx)("th",{children:"Name"}),(0,bt.jsx)("th",{children:"Email"}),(0,bt.jsx)("th",{children:"Role"}),(0,bt.jsx)("th",{children:"SuperUser"}),(0,bt.jsx)("th",{children:"Verification"})]})}),(0,bt.jsx)("tbody",{children:0===s.length?(0,bt.jsx)("tr",{children:(0,bt.jsx)("td",{colSpan:6,style:{textAlign:"center",padding:16},children:"No users found."})}):s.map(e=>(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("td",{children:e.createdAt?new Date(e.createdAt).toLocaleString():"\u2014"}),(0,bt.jsx)("td",{children:e.name||"\u2014"}),(0,bt.jsx)("td",{children:e.email}),(0,bt.jsx)("td",{children:e.role}),(0,bt.jsx)("td",{children:e.isSuperUser?"Yes":"No"}),(0,bt.jsx)("td",{children:e.verificationStatus||"UNSET"})]},e.id))})]})})]}),"verifications"===t&&(0,bt.jsxs)("div",{className:"admin-card",children:[(0,bt.jsx)("h2",{children:"Pending verifications"}),(0,bt.jsx)("p",{style:{marginBottom:12,color:"#64748b"},children:"Review ID front/back and selfie uploads, then approve or reject."}),(0,bt.jsx)("div",{className:"admin-table-wrapper",children:(0,bt.jsxs)("table",{className:"admin-table",children:[(0,bt.jsx)("thead",{children:(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("th",{children:"Submitted"}),(0,bt.jsx)("th",{children:"Name"}),(0,bt.jsx)("th",{children:"Email"}),(0,bt.jsx)("th",{children:"ID front"}),(0,bt.jsx)("th",{children:"ID back"}),(0,bt.jsx)("th",{children:"Selfie"}),(0,bt.jsx)("th",{children:"Status"}),(0,bt.jsx)("th",{children:"Review"}),(0,bt.jsx)("th",{style:{textAlign:"right"},children:"Actions"})]})}),(0,bt.jsx)("tbody",{children:0===u.length?(0,bt.jsx)("tr",{children:(0,bt.jsx)("td",{colSpan:9,style:{textAlign:"center",padding:16},children:"No pending verifications \ud83c\udf89"})}):u.map(t=>{const n=t.userId||t.id,r=t.name||t.userName||"\u2014",a=t.email||t.userEmail||"\u2014",i=t.verificationStatus||t.status||"PENDING";return(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("td",{children:t.submittedAt||t.createdAt?new Date(t.submittedAt||t.createdAt).toLocaleString():"\u2014"}),(0,bt.jsx)("td",{children:r}),(0,bt.jsx)("td",{children:a}),(0,bt.jsx)("td",{children:t.hasIdFront?"\u2713":"\u2014"}),(0,bt.jsx)("td",{children:t.hasIdBack?"\u2713":"\u2014"}),(0,bt.jsx)("td",{children:t.hasSelfie?"\u2713":"\u2014"}),(0,bt.jsx)("td",{children:i}),(0,bt.jsx)("td",{children:(0,bt.jsx)("button",{className:"admin-btn admin-btn--ghost",type:"button",onClick:()=>e("/admin/verification/".concat(n)),children:"View"})}),(0,bt.jsxs)("td",{style:{textAlign:"right"},children:[(0,bt.jsx)("button",{className:"admin-btn",type:"button",onClick:()=>(async e=>{if(window.confirm("Approve this user for full access?"))try{l(""),o(!0);const t=await fetch("/api/admin/verification/".concat(e,"/approve"),{method:"POST",headers:gt(gt({},m),{},{"Content-Type":"application/json"})});if(!t.ok)throw new Error(await t.text());await t.json().catch(()=>({})),d(t=>t.filter(t=>t.userId!==e&&t.id!==e)),y()}catch(Fo){console.error("handleApprove error:",Fo),l(Fo.message||"Failed to approve user")}finally{o(!1)}})(n),children:"Approve"}),(0,bt.jsx)("button",{className:"admin-btn admin-btn--danger",type:"button",onClick:()=>(async e=>{if(window.confirm("Reject this verification request?"))try{l(""),o(!0);const t=await fetch("/api/admin/verification/".concat(e,"/reject"),{method:"POST",headers:gt(gt({},m),{},{"Content-Type":"application/json"})});if(!t.ok)throw new Error(await t.text());await t.json().catch(()=>({})),d(t=>t.filter(t=>t.userId!==e&&t.id!==e)),y()}catch(Fo){console.error("handleReject error:",Fo),l(Fo.message||"Failed to reject user")}finally{o(!1)}})(n),style:{marginLeft:8},children:"Reject"})]})]},n)})})]})})]}),"transactions"===t&&(0,bt.jsxs)("div",{className:"admin-card",children:[(0,bt.jsx)("h2",{children:"Platform transactions"}),(0,bt.jsx)("p",{style:{marginBottom:12,color:"#64748b"},children:"High-level view of PeerFund fees, bank fees, and SuperUser subscriptions."}),(0,bt.jsx)("div",{className:"admin-table-wrapper",children:(0,bt.jsxs)("table",{className:"admin-table",children:[(0,bt.jsx)("thead",{children:(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("th",{children:"Date"}),(0,bt.jsx)("th",{children:"Type"}),(0,bt.jsx)("th",{children:"Amount"}),(0,bt.jsx)("th",{children:"From"}),(0,bt.jsx)("th",{children:"To"})]})}),(0,bt.jsx)("tbody",{children:0===f.length?(0,bt.jsx)("tr",{children:(0,bt.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:16},children:"No platform transactions yet."})}):f.map(e=>{var t,n;return(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("td",{children:e.timestamp?new Date(e.timestamp).toLocaleString():"\u2014"}),(0,bt.jsx)("td",{children:e.type}),(0,bt.jsxs)("td",{children:["$",Number(e.amount||0).toFixed(2)]}),(0,bt.jsx)("td",{children:(null===(t=e.fromUser)||void 0===t?void 0:t.name)||"\u2014"}),(0,bt.jsx)("td",{children:(null===(n=e.toUser)||void 0===n?void 0:n.name)||"\u2014"})]},e.id)})})]})})]})]})},Eo=()=>{const{userId:e}=te(),t=Z(),[n,a]=(0,r.useState)(!0),[o,i]=(0,r.useState)(""),[l,s]=(0,r.useState)(null),c="undefined"!==typeof window?localStorage.getItem("token"):null,u=c?{Authorization:"Bearer ".concat(c)}:{};if((0,r.useEffect)(()=>{if(!e||!c)return;(async()=>{try{i(""),a(!0);const t=await fetch("/api/admin/verification/".concat(e,"/detail"),{headers:u});if(!t.ok)throw new Error(await t.text());const n=await t.json();s(n)}catch(Fo){console.error("AdminVerificationDetail load error:",Fo),i(Fo.message||"Failed to load verification detail")}finally{a(!1)}})()},[e,c]),!c)return(0,bt.jsx)("div",{className:"admin-shell",children:"Not authenticated."});if(n)return(0,bt.jsx)("div",{className:"admin-shell",children:(0,bt.jsx)("div",{className:"admin-loading",children:"Loading verification detail\u2026"})});if(o)return(0,bt.jsxs)("div",{className:"admin-shell",children:[(0,bt.jsx)("button",{className:"admin-back",onClick:()=>t("/admin"),type:"button",children:"\u2190 Back to admin"}),(0,bt.jsx)("div",{className:"admin-error",children:o})]});if(!l)return(0,bt.jsxs)("div",{className:"admin-shell",children:[(0,bt.jsx)("button",{className:"admin-back",onClick:()=>t("/admin"),type:"button",children:"\u2190 Back to admin"}),(0,bt.jsx)("div",{children:"No detail found."})]});const{user:d,docs:f,checklist:p}=l,h=f.find(e=>"ID_FRONT"===e.type),m=f.find(e=>"ID_BACK"===e.type),y=f.find(e=>"SELFIE"===e.type),v=(e,t)=>t?(0,bt.jsxs)("div",{className:"admin-doc-card",children:[(0,bt.jsx)("h3",{children:e}),(0,bt.jsx)("p",{children:t.title||t.type}),(0,bt.jsxs)("p",{className:"admin-doc-meta",children:[t.mimeType," \u2022"," ",t.createdAt?new Date(t.createdAt).toLocaleString():"unknown time"]}),(0,bt.jsx)("a",{href:"/documents/".concat(t.id),target:"_blank",rel:"noopener noreferrer",className:"admin-btn",children:"Open in viewer"})]}):(0,bt.jsxs)("div",{className:"admin-doc-card admin-doc-card--missing",children:[(0,bt.jsx)("h3",{children:e}),(0,bt.jsx)("p",{children:"Not submitted."})]});return(0,bt.jsxs)("div",{className:"admin-shell",children:[(0,bt.jsxs)("header",{className:"admin-header",children:[(0,bt.jsx)("button",{className:"admin-back",onClick:()=>t("/admin"),type:"button",children:"\u2190 Back to admin"}),(0,bt.jsx)("h1",{children:"Verification detail"}),(0,bt.jsxs)("p",{children:["Reviewing documents for ",(0,bt.jsx)("strong",{children:d.name||d.email}),"."]})]}),(0,bt.jsxs)("section",{className:"admin-card",children:[(0,bt.jsx)("h2",{children:"User info"}),(0,bt.jsxs)("div",{className:"admin-user-info",children:[(0,bt.jsxs)("div",{children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("strong",{children:"Name:"})," ",d.name||"\u2014"]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("strong",{children:"Email:"})," ",d.email]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("strong",{children:"Joined:"})," ",d.createdAt?new Date(d.createdAt).toLocaleString():"\u2014"]})]}),(0,bt.jsxs)("div",{children:[(0,bt.jsxs)("div",{children:[(0,bt.jsx)("strong",{children:"Status:"})," ",d.verificationStatus||(null===p||void 0===p?void 0:p.status)||"UNKNOWN"]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("strong",{children:"ID front:"})," ",null!==p&&void 0!==p&&p.hasIdFront?"\u2713":"\u2014"]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("strong",{children:"ID back:"})," ",null!==p&&void 0!==p&&p.hasIdBack?"\u2713":"\u2014"]}),(0,bt.jsxs)("div",{children:[(0,bt.jsx)("strong",{children:"Selfie:"})," ",null!==p&&void 0!==p&&p.hasSelfie?"\u2713":"\u2014"]})]})]})]}),(0,bt.jsxs)("section",{className:"admin-card",children:[(0,bt.jsx)("h2",{children:"Documents"}),(0,bt.jsxs)("div",{className:"admin-doc-grid",children:[v("ID front",h),v("ID back",m),v("Selfie",y)]})]})]})},Co=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(!0),[o,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=localStorage.getItem("token");if(!e)return a(!1),void i(!1);(async()=>{try{const t={Authorization:"Bearer ".concat(e)},n=await fetch("/api/users/profile",{headers:t});if(!n.ok)throw new Error("Failed to load profile");if("ADMIN"===(await n.json()).role)return i(!0),void a(!1);const r=await fetch("/api/verification/status",{headers:t});if(!r.ok)throw new Error("Failed to load verification status");"APPROVED"===(await r.json()).status?i(!0):i(!1)}catch(t){console.error("VerifiedRoute error:",t),i(!1)}finally{a(!1)}})()},[]),n?(0,bt.jsx)("div",{style:{padding:24},children:"Checking your account status\u2026"}):o?t:(0,bt.jsx)(ye,{to:"/verify",replace:!0})},_o=()=>{const e=Z(),[t,n]=(0,r.useState)("LOADING"),[a,o]=(0,r.useState)(""),[i,l]=(0,r.useState)(null),[s,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(""),h=localStorage.getItem("token"),m=async()=>{if(!h)return c("Not logged in"),void n("ERROR");try{c("");const e=await fetch("/api/verification/status",{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok){const t=await e.text();throw new Error(t||"Failed to load verification status")}const t=await e.json();console.log("[Verification] status response:",t),l(t),n(t.status||"PENDING"),o(t.notes||"")}catch(e){console.error("VerificationPage fetchStatus error:",e),c(e.message||"Failed to load verification status"),n("ERROR")}};(0,r.useEffect)(()=>{m()},[]),(0,r.useEffect)(()=>{"APPROVED"===t&&e("/dashboard",{replace:!0})},[t,e]);const y=async(e,r)=>{if(!h)return void c("Not logged in");const a=document.getElementById(e);if(!a||!a.files||!a.files[0])return void alert("Please choose a file first.");const o=a.files[0],i=new FormData;i.append("file",o);try{d(!0),c(""),p("");const e=await fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(h)},body:i}),a=await e.text();if(!e.ok)throw new Error(a||"Upload failed");let o={};try{o=JSON.parse(a)}catch(s){}console.log("[Verification] upload response:",o),o.checklist?(l(o.checklist),n(o.checklist.status||t)):await m(),alert("Upload successful.")}catch(u){console.error("uploadOne error:",u),c(u.message||"Upload failed")}finally{d(!1)}},v=(null===i||void 0===i?void 0:i.hasIdFront)&&(null===i||void 0===i?void 0:i.hasIdBack)&&(null===i||void 0===i?void 0:i.hasSelfie);return(0,bt.jsx)("div",{className:"verify-shell",children:(0,bt.jsxs)("div",{className:"verify-card",children:[(0,bt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[(0,bt.jsxs)("button",{type:"button",onClick:()=>e("/dashboard"),style:{border:"none",background:"transparent",cursor:"pointer",padding:0,color:"#0f172a",display:"inline-flex",alignItems:"center",gap:4},children:[(0,bt.jsx)("span",{style:{fontSize:18},children:"\u2190"}),(0,bt.jsx)("span",{children:"Back"})]}),(0,bt.jsx)("span",{style:{fontSize:12,color:"#64748b"},children:"Identity check \u2013 required before you can use PeerFund"})]}),(0,bt.jsx)("h1",{children:"Verify your identity"}),(0,bt.jsx)("p",{className:"verify-status",children:"LOADING"===t?"Checking your verification status\u2026":"PENDING"===t?"Your verification is pending. Please make sure all three photos are uploaded.":"REJECTED"===t?(0,bt.jsxs)(bt.Fragment,{children:["Your verification was rejected. Please re-upload clear, readable photos of your ID and selfie.",a?(0,bt.jsxs)("div",{style:{marginTop:8},children:["Admin note: ",a]}):null]}):"APPROVED"===t?"You are verified! Redirecting to dashboard\u2026":"ERROR"===t?"We were unable to load your verification status. Please try again in a moment.":"Unknown status."}),s&&(0,bt.jsx)("div",{className:"verify-error",children:s}),(0,bt.jsxs)("div",{className:"verify-grid",children:[(0,bt.jsxs)("div",{className:"verify-field",children:[(0,bt.jsx)("h3",{children:"Front of ID"}),(0,bt.jsx)("p",{children:"Upload a clear photo of the front of your government-issued ID."}),(0,bt.jsx)("input",{type:"file",id:"idFront",accept:"image/*"}),(0,bt.jsx)("button",{type:"button",onClick:()=>y("idFront","/api/verification/id/front"),disabled:u,children:"Upload front of ID"}),(null===i||void 0===i?void 0:i.hasIdFront)&&(0,bt.jsx)("div",{className:"verify-ok",children:"\u2713 Front of ID on file"})]}),(0,bt.jsxs)("div",{className:"verify-field",children:[(0,bt.jsx)("h3",{children:"Back of ID"}),(0,bt.jsx)("p",{children:"Upload a clear photo of the back of your ID."}),(0,bt.jsx)("input",{type:"file",id:"idBack",accept:"image/*"}),(0,bt.jsx)("button",{type:"button",onClick:()=>y("idBack","/api/verification/id/back"),disabled:u,children:"Upload back of ID"}),(null===i||void 0===i?void 0:i.hasIdBack)&&(0,bt.jsx)("div",{className:"verify-ok",children:"\u2713 Back of ID on file"})]}),(0,bt.jsxs)("div",{className:"verify-field",children:[(0,bt.jsx)("h3",{children:"Selfie"}),(0,bt.jsx)("p",{children:"Upload a selfie. Make sure your face is clearly visible."}),(0,bt.jsx)("input",{type:"file",id:"selfie",accept:"image/*"}),(0,bt.jsx)("button",{type:"button",onClick:()=>y("selfie","/api/verification/selfie"),disabled:u,children:"Upload selfie"}),(null===i||void 0===i?void 0:i.hasSelfie)&&(0,bt.jsx)("div",{className:"verify-ok",children:"\u2713 Selfie on file"})]})]}),(0,bt.jsx)("div",{style:{marginTop:24},children:(0,bt.jsx)("button",{type:"button",onClick:async()=>{await m(),p(v?"Your photos are saved. An admin will review your account shortly. You will get full access once you are approved.":"Please upload front of ID, back of ID, and a selfie before submitting.")},disabled:u,style:{padding:"8px 16px",borderRadius:999,border:"none",cursor:u?"not-allowed":"pointer",background:"#0f172a",color:"#f9fafb",fontWeight:500},children:"Submit for review"})}),f&&(0,bt.jsx)("p",{className:"verify-footnote",style:{marginTop:12},children:f}),(0,bt.jsx)("p",{className:"verify-footnote",children:"Once all three photos are uploaded and submitted, an admin will review your account. You\u2019ll get full access to PeerFund after approval."})]})})},Po="pk_test_51RqO4fGsm03jYeOaDiZbyYpH4q71OjW1lzwBkiujATF7mJ6KG79KKajvjUDB4zckyLEkjI0DRAAOjdkKZztXDxEc009u803ENm".trim(),Ro=/^pk_(test|live)_[A-Za-z0-9_]+$/.test(Po);let Oo;function To(){return Ro?(Oo||(Oo=pt(Po)),Oo):null}function Ao(){return(0,bt.jsxs)(xe,{children:[(0,bt.jsx)(ge,{path:"/",element:(0,bt.jsx)(Ct,{})}),(0,bt.jsx)(ge,{path:"/signup",element:(0,bt.jsx)(qt,{})}),(0,bt.jsx)(ge,{path:"/login",element:(0,bt.jsx)($t,{})}),(0,bt.jsx)(ge,{path:"/loan/:loanId/repayments",element:(0,bt.jsx)(co,{})}),(0,bt.jsx)(ge,{path:"/transaction-history",element:(0,bt.jsx)(Ca,{})}),(0,bt.jsx)(ge,{path:"/verify",element:(0,bt.jsx)(Vt,{children:(0,bt.jsx)(_o,{})})}),(0,bt.jsx)(ge,{path:"/admin",element:(0,bt.jsx)(Vt,{children:(0,bt.jsx)(So,{children:(0,bt.jsx)(No,{})})})}),(0,bt.jsx)(ge,{path:"/admin/verification/:userId",element:(0,bt.jsx)(Vt,{children:(0,bt.jsx)(So,{children:(0,bt.jsx)(Eo,{})})})}),(0,bt.jsxs)(ge,{element:(0,bt.jsx)(Vt,{children:(0,bt.jsx)(Co,{children:(0,bt.jsx)(Et,{})})}),children:[(0,bt.jsx)(ge,{path:"/dashboard",element:(0,bt.jsx)(Jt,{})}),(0,bt.jsx)(ge,{path:"/profile",element:(0,bt.jsx)(Ja,{})}),(0,bt.jsx)(ge,{path:"/create-loan",element:(0,bt.jsx)(Qa,{})}),(0,bt.jsx)(ge,{path:"/loan-marketplace",element:(0,bt.jsx)(Za,{})}),(0,bt.jsx)(ge,{path:"/loan/:loanId",element:(0,bt.jsx)(io,{})}),(0,bt.jsx)(ge,{path:"/messages",element:(0,bt.jsx)(lo,{})}),(0,bt.jsx)(ge,{path:"/inbox",element:(0,bt.jsx)(fo,{})}),(0,bt.jsx)(ge,{path:"/loan/:loanId/messages",element:(0,bt.jsx)(so,{})}),(0,bt.jsx)(ge,{path:"/direct-request/:lenderId",element:(0,bt.jsx)(po,{})}),(0,bt.jsx)(ge,{path:"/wallet",element:(0,bt.jsx)(yo,{})}),(0,bt.jsx)(ge,{path:"/payment-method",element:(0,bt.jsx)(jo,{})}),(0,bt.jsx)(ge,{path:"/history",element:(0,bt.jsx)(Ca,{})}),(0,bt.jsx)(ge,{path:"/money-summary",element:(0,bt.jsx)($a,{})}),(0,bt.jsx)(ge,{path:"/documents",element:(0,bt.jsx)(Xt,{})}),(0,bt.jsx)(ge,{path:"/documents/:documentId",element:(0,bt.jsx)(uo,{})})]})]})}const Lo=()=>{const e=(0,r.useMemo)(To,[]);return Ro?(0,bt.jsx)(We,{stripe:e,children:(0,bt.jsx)(Ao,{})}):(0,bt.jsxs)("div",{style:{maxWidth:720,margin:"40px auto",padding:16,fontFamily:"system-ui, sans-serif"},children:[(0,bt.jsx)("h2",{style:{marginTop:0},children:"Stripe not configured"}),(0,bt.jsxs)("p",{style:{lineHeight:1.6},children:["The publishable key is missing or invalid. Add it to"," ",(0,bt.jsx)("code",{children:".env"})," and restart the dev server."]}),(0,bt.jsx)("pre",{style:{background:"#0f172a",color:"#e2e8f0",padding:12,borderRadius:8,overflowX:"auto"},children:"# .env (CRA)\nREACT_APP_STRIPE_PUBLISHABLE_KEY=pk_test_..."}),(0,bt.jsxs)("p",{style:{color:"#475569",marginTop:12},children:["Tip: If you migrate to Vite later, rename it to"," ",(0,bt.jsx)("code",{children:"VITE_STRIPE_PUBLISHABLE_KEY"})," and update scripts."]}),(0,bt.jsx)(Ao,{})]})};document.body.getAttribute("data-sidebar")||document.body.setAttribute("data-sidebar","closed");o.createRoot(document.getElementById("root")).render((0,bt.jsx)(Ft,{children:(0,bt.jsx)(Lo,{})}))})()})();
//# sourceMappingURL=main.3dfc4fe5.js.map