{"ast":null,"code":"import _objectSpread from\"/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/features/auth/Login.jsx\nimport React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({phone:'',password:''});const[loading,setLoading]=useState(false);const[err,setErr]=useState('');const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setErr('');try{setLoading(true);const res=await fetch('http://localhost:5050/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await res.json();if(res.ok&&data.token){localStorage.setItem('token',data.token);navigate('/dashboard');}else{setErr(data.error||'Login failed');}}catch(error){console.error('Login error:',error);setErr('An error occurred during login');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-wrap\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"auth-card\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-logo\",children:\"PF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-title\",children:\"Welcome Back\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-sub\",children:\"Sign in to continue to your PeerFund account.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"auth-label\",htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",name:\"phone\",className:\"auth-input\",type:\"tel\",autoComplete:\"tel\",value:formData.phone,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"auth-label\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",className:\"auth-input\",type:\"password\",autoComplete:\"current-password\",value:formData.password,onChange:handleChange,required:true})]}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:err}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"auth-btn primary\",type:\"submit\",disabled:loading,children:loading?'Signing in…':'Login'}),/*#__PURE__*/_jsx(Link,{className:\"auth-btn ghost\",to:\"/signup\",children:\"Create account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"auth-link\",onClick:()=>navigate('/'),children:\"\\u2190 Back to Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/reset-password\",className:\"auth-link\",children:\"Forgot Password?\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","phone","password","loading","setLoading","err","setErr","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","token","localStorage","setItem","error","console","className","children","onSubmit","htmlFor","id","type","autoComplete","onChange","required","disabled","to","onClick"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/auth/Login.jsx"],"sourcesContent":["// src/features/auth/Login.jsx\r\nimport React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport './Auth.css';\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    phone: '',\r\n    password: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErr('');\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch('http://localhost:5050/api/auth/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok && data.token) {\r\n        localStorage.setItem('token', data.token);\r\n        navigate('/dashboard');\r\n      } else {\r\n        setErr(data.error || 'Login failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      setErr('An error occurred during login');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-wrap\">\r\n      <form className=\"auth-card\" onSubmit={handleSubmit}>\r\n        <div className=\"auth-header\">\r\n          <div className=\"auth-logo\">PF</div>\r\n          <div className=\"auth-title\">Welcome Back</div>\r\n        </div>\r\n        <div className=\"auth-sub\">\r\n          Sign in to continue to your PeerFund account.\r\n        </div>\r\n\r\n        <div className=\"auth-field\">\r\n          <label className=\"auth-label\" htmlFor=\"phone\">Phone</label>\r\n          <input\r\n            id=\"phone\"\r\n            name=\"phone\"\r\n            className=\"auth-input\"\r\n            type=\"tel\"\r\n            autoComplete=\"tel\"\r\n            value={formData.phone}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"auth-field\">\r\n          <label className=\"auth-label\" htmlFor=\"password\">Password</label>\r\n          <input\r\n            id=\"password\"\r\n            name=\"password\"\r\n            className=\"auth-input\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {err && <div className=\"auth-error\">{err}</div>}\r\n\r\n        <div className=\"auth-actions\">\r\n          <button className=\"auth-btn primary\" type=\"submit\" disabled={loading}>\r\n            {loading ? 'Signing in…' : 'Login'}\r\n          </button>\r\n          <Link className=\"auth-btn ghost\" to=\"/signup\">Create account</Link>\r\n        </div>\r\n\r\n        <div className=\"auth-footer\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"auth-link\"\r\n            onClick={() => navigate('/')}\r\n          >\r\n            ← Back to Home\r\n          </button>\r\n          <Link to=\"/reset-password\" className=\"auth-link\">\r\n            Forgot Password?\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}