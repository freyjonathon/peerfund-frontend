{"ast":null,"code":"var _jsxFileName = \"/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/components/OfferModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/OfferModal.jsx\nimport React, { useEffect, useMemo, useState } from 'react';\nimport './OfferModal.css';\nimport InlineDiscussion from '../features/loans/InlineDiscussion';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst fmtMoney = n => typeof n === 'number' && !Number.isNaN(n) ? `$${n.toFixed(2)}` : '—';\nfunction getToken() {\n  return localStorage.getItem('token') || '';\n}\nfunction getCurrentUserId() {\n  const t = getToken();\n  if (!t) return null;\n  try {\n    var _payload$userId;\n    const payload = JSON.parse(atob(t.split('.')[1] || ''));\n    return (_payload$userId = payload === null || payload === void 0 ? void 0 : payload.userId) !== null && _payload$userId !== void 0 ? _payload$userId : null;\n  } catch {\n    return null;\n  }\n}\nexport default function OfferModal({\n  loanId,\n  onClose\n}) {\n  _s();\n  var _loan$borrower, _loan$loanOffers, _loan$loanOffers2;\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState('');\n  const [loan, setLoan] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n  const [offerForm, setOfferForm] = useState({\n    amount: '',\n    duration: '',\n    interestRate: '',\n    message: ''\n  });\n  const token = getToken();\n  const me = useMemo(() => getCurrentUserId(), []);\n  const isBorrower = (loan === null || loan === void 0 ? void 0 : (_loan$borrower = loan.borrower) === null || _loan$borrower === void 0 ? void 0 : _loan$borrower.id) && loan.borrower.id === me;\n\n  // fetch loan (offers + borrower)\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        setErr('');\n        const res = await fetch(`/api/loans/${loanId}`, {\n          headers: token ? {\n            Authorization: `Bearer ${token}`\n          } : {}\n        });\n        if (!res.ok) throw new Error(await res.text());\n        const data = await res.json();\n        if (alive) setLoan(data);\n      } catch (e) {\n        if (alive) setErr('Failed to load loan/offers.');\n        console.error(e);\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [loanId, token]);\n  const onChange = e => setOfferForm(f => ({\n    ...f,\n    [e.target.name]: e.target.value\n  }));\n  const submitOffer = async () => {\n    if (!offerForm.amount || !offerForm.duration || !offerForm.interestRate) {\n      alert('Please fill amount, duration, and interest rate.');\n      return;\n    }\n    try {\n      setSubmitting(true);\n      const res = await fetch(`/api/loans/${loanId}/offers`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? {\n            Authorization: `Bearer ${token}`\n          } : {})\n        },\n        body: JSON.stringify(offerForm)\n      });\n      if (!res.ok) throw new Error(await res.text());\n      const created = await res.json();\n\n      // optimistic update\n      setLoan(prev => prev ? {\n        ...prev,\n        loanOffers: [created, ...(prev.loanOffers || [])]\n      } : prev);\n      setOfferForm({\n        amount: '',\n        duration: '',\n        interestRate: '',\n        message: ''\n      });\n    } catch (e) {\n      console.error(e);\n      alert('Could not submit offer.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const acceptOffer = async offerId => {\n    if (!window.confirm('Accept this offer and create the loan contract?')) return;\n    try {\n      const res = await fetch(`/api/loans/offers/${offerId}/accept`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? {\n            Authorization: `Bearer ${token}`\n          } : {})\n        }\n      });\n      if (!res.ok) throw new Error(await res.text());\n      await res.json();\n      alert('Offer accepted. Contract created!');\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n    } catch (e) {\n      console.error(e);\n      alert('Failed to accept offer.');\n    }\n  };\n  if (!loanId) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ofm-backdrop\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ofm-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ofm-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ofm-title\",\n          children: \"Offers for this request\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ofm-close\",\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ofm-body\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this) : err ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pf-error\",\n          children: err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this) : !loan ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pf-error\",\n          children: \"Not found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ofm-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ofm-stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ofm-stat-label\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ofm-stat-value\",\n                children: fmtMoney(Number(loan.amount))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ofm-stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ofm-stat-label\",\n                children: \"Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ofm-stat-value\",\n                children: [loan.duration, \" months\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ofm-stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ofm-stat-label\",\n                children: \"Interest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ofm-stat-value\",\n                children: [loan.interestRate, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ofm-section-title\",\n              style: {\n                fontWeight: 700,\n                marginBottom: 6\n              },\n              children: [\"Current Offers (\", ((_loan$loanOffers = loan.loanOffers) === null || _loan$loanOffers === void 0 ? void 0 : _loan$loanOffers.length) || 0, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), (_loan$loanOffers2 = loan.loanOffers) !== null && _loan$loanOffers2 !== void 0 && _loan$loanOffers2.length ? loan.loanOffers.map(o => {\n              var _o$lender;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ofm-offer-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ofm-offer-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ofm-offer-title\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        width: 8,\n                        height: 8,\n                        borderRadius: 999,\n                        background: '#6366f1',\n                        display: 'inline-block'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_o$lender = o.lender) === null || _o$lender === void 0 ? void 0 : _o$lender.name) || 'Lender'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      gap: 12,\n                      alignItems: 'center',\n                      color: '#334155',\n                      fontSize: 14\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: fmtMoney(Number(o.amount))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [o.interestRate, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [o.duration, \" mo\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ofm-offer-badge\",\n                      style: {\n                        background: loan.status === 'FUNDED' ? '#dcfce7' : '#fef3c7',\n                        color: loan.status === 'FUNDED' ? '#166534' : '#92400e',\n                        borderColor: loan.status === 'FUNDED' ? '#86efac' : '#fde68a'\n                      },\n                      children: loan.status === 'FUNDED' ? 'Accepted' : 'Pending'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ofm-offer-body\",\n                  children: [o.message && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginBottom: 8,\n                      color: '#334155'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Message:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 29\n                    }, this), \" \", o.message]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 27\n                  }, this), loan.status === 'OPEN' && isBorrower && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"action-btn primary\",\n                    onClick: () => acceptOffer(o.id),\n                    style: {\n                      background: '#4f46e5',\n                      color: '#fff',\n                      border: '1px solid #4f46e5',\n                      borderRadius: 10,\n                      padding: '6px 10px',\n                      fontWeight: 700,\n                      cursor: 'pointer'\n                    },\n                    children: \"Accept\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 23\n                }, this)]\n              }, o.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#64748b'\n              },\n              children: \"No offers yet\\u2014be the first!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lm-details-grid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(InlineDiscussion, {\n            threadId: loan.id,\n            limit: 5,\n            compact: true,\n            showHeader: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 37\n          }, this), loan.status === 'OPEN' && !isBorrower && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ofm-offer-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ofm-section-title\",\n              style: {\n                fontWeight: 700,\n                marginBottom: 8\n              },\n              children: \"Submit an Offer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(3,minmax(0,1fr))',\n                gap: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Amount ($)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  name: \"amount\",\n                  value: offerForm.amount,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Duration (months)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  name: \"duration\",\n                  value: offerForm.duration,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Interest Rate (%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.01\",\n                  name: \"interestRate\",\n                  value: offerForm.interestRate,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Message (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"message\",\n                rows: 3,\n                value: offerForm.message,\n                onChange: onChange,\n                style: {\n                  resize: 'vertical'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 10\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: submitting,\n                onClick: submitOffer,\n                children: submitting ? 'Submitting…' : 'Submit Offer'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_s(OfferModal, \"JXJIWUwgN1xMzUXSI2gixhYs6Vo=\");\n_c = OfferModal;\nvar _c;\n$RefreshReg$(_c, \"OfferModal\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","InlineDiscussion","jsxDEV","_jsxDEV","Fragment","_Fragment","fmtMoney","n","Number","isNaN","toFixed","getToken","localStorage","getItem","getCurrentUserId","t","_payload$userId","payload","JSON","parse","atob","split","userId","OfferModal","loanId","onClose","_s","_loan$borrower","_loan$loanOffers","_loan$loanOffers2","loading","setLoading","err","setErr","loan","setLoan","submitting","setSubmitting","offerForm","setOfferForm","amount","duration","interestRate","message","token","me","isBorrower","borrower","id","alive","res","fetch","headers","Authorization","ok","Error","text","data","json","e","console","error","onChange","f","target","name","value","submitOffer","alert","method","body","stringify","created","prev","loanOffers","acceptOffer","offerId","window","confirm","className","onClick","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","fontWeight","length","map","o","_o$lender","width","height","borderRadius","background","display","lender","gap","alignItems","color","fontSize","status","borderColor","border","padding","cursor","threadId","limit","compact","showHeader","gridTemplateColumns","type","step","marginTop","rows","resize","disabled","_c","$RefreshReg$"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/components/OfferModal.jsx"],"sourcesContent":["// src/components/OfferModal.jsx\nimport React, { useEffect, useMemo, useState } from 'react';\nimport './OfferModal.css';\nimport InlineDiscussion from '../features/loans/InlineDiscussion';\n\nconst fmtMoney = (n) =>\n  typeof n === 'number' && !Number.isNaN(n) ? `$${n.toFixed(2)}` : '—';\n\nfunction getToken() {\n  return localStorage.getItem('token') || '';\n}\nfunction getCurrentUserId() {\n  const t = getToken();\n  if (!t) return null;\n  try {\n    const payload = JSON.parse(atob(t.split('.')[1] || ''));\n    return payload?.userId ?? null;\n  } catch {\n    return null;\n  }\n}\n\nexport default function OfferModal({ loanId, onClose }) {\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState('');\n  const [loan, setLoan] = useState(null);\n\n  const [submitting, setSubmitting] = useState(false);\n  const [offerForm, setOfferForm] = useState({\n    amount: '',\n    duration: '',\n    interestRate: '',\n    message: '',\n  });\n\n  const token = getToken();\n  const me = useMemo(() => getCurrentUserId(), []);\n  const isBorrower = loan?.borrower?.id && loan.borrower.id === me;\n\n  // fetch loan (offers + borrower)\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        setErr('');\n        const res = await fetch(`/api/loans/${loanId}`, {\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\n        });\n        if (!res.ok) throw new Error(await res.text());\n        const data = await res.json();\n        if (alive) setLoan(data);\n      } catch (e) {\n        if (alive) setErr('Failed to load loan/offers.');\n        console.error(e);\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => { alive = false; };\n  }, [loanId, token]);\n\n  const onChange = (e) =>\n    setOfferForm((f) => ({ ...f, [e.target.name]: e.target.value }));\n\n  const submitOffer = async () => {\n    if (!offerForm.amount || !offerForm.duration || !offerForm.interestRate) {\n      alert('Please fill amount, duration, and interest rate.');\n      return;\n    }\n    try {\n      setSubmitting(true);\n      const res = await fetch(`/api/loans/${loanId}/offers`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\n        },\n        body: JSON.stringify(offerForm),\n      });\n      if (!res.ok) throw new Error(await res.text());\n      const created = await res.json();\n\n      // optimistic update\n      setLoan((prev) =>\n        prev\n          ? { ...prev, loanOffers: [created, ...(prev.loanOffers || [])] }\n          : prev\n      );\n      setOfferForm({ amount: '', duration: '', interestRate: '', message: '' });\n    } catch (e) {\n      console.error(e);\n      alert('Could not submit offer.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const acceptOffer = async (offerId) => {\n    if (!window.confirm('Accept this offer and create the loan contract?')) return;\n    try {\n      const res = await fetch(`/api/loans/offers/${offerId}/accept`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\n        },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      await res.json();\n      alert('Offer accepted. Contract created!');\n      onClose?.();\n    } catch (e) {\n      console.error(e);\n      alert('Failed to accept offer.');\n    }\n  };\n\n  if (!loanId) return null;\n\n  return (\n    <div className=\"ofm-backdrop\" onClick={onClose}>\n      <div className=\"ofm-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"ofm-header\">\n          <div className=\"ofm-title\">Offers for this request</div>\n          <button className=\"ofm-close\" onClick={onClose}>✕</button>\n        </div>\n\n        <div className=\"ofm-body\">\n          {loading ? (\n            <div>Loading…</div>\n          ) : err ? (\n            <div className=\"pf-error\">{err}</div>\n          ) : !loan ? (\n            <div className=\"pf-error\">Not found.</div>\n          ) : (\n            <>\n              {/* Snapshot */}\n              <div className=\"ofm-stats\">\n                <div className=\"ofm-stat\">\n                  <div className=\"ofm-stat-label\">Amount</div>\n                  <div className=\"ofm-stat-value\">{fmtMoney(Number(loan.amount))}</div>\n                </div>\n                <div className=\"ofm-stat\">\n                  <div className=\"ofm-stat-label\">Duration</div>\n                  <div className=\"ofm-stat-value\">{loan.duration} months</div>\n                </div>\n                <div className=\"ofm-stat\">\n                  <div className=\"ofm-stat-label\">Interest</div>\n                  <div className=\"ofm-stat-value\">{loan.interestRate}%</div>\n                </div>\n              </div>\n\n              {/* Offers list */}\n              <div style={{ marginBottom: 12 }}>\n                <div className=\"ofm-section-title\" style={{ fontWeight: 700, marginBottom: 6 }}>\n                  Current Offers ({loan.loanOffers?.length || 0})\n                </div>\n\n                {loan.loanOffers?.length ? (\n                  loan.loanOffers.map((o) => (\n                    <div key={o.id} className=\"ofm-offer-card\">\n                      <div className=\"ofm-offer-header\">\n                        <div className=\"ofm-offer-title\">\n                          <span\n                            style={{\n                              width: 8,\n                              height: 8,\n                              borderRadius: 999,\n                              background: '#6366f1',\n                              display: 'inline-block',\n                            }}\n                          />\n                          <span>{o.lender?.name || 'Lender'}</span>\n                        </div>\n                        <div style={{ display: 'flex', gap: 12, alignItems: 'center', color: '#334155', fontSize: 14 }}>\n                          <span>{fmtMoney(Number(o.amount))}</span>\n                          <span>{o.interestRate}%</span>\n                          <span>{o.duration} mo</span>\n                          <span\n                            className=\"ofm-offer-badge\"\n                            style={{\n                              background: loan.status === 'FUNDED' ? '#dcfce7' : '#fef3c7',\n                              color: loan.status === 'FUNDED' ? '#166534' : '#92400e',\n                              borderColor: loan.status === 'FUNDED' ? '#86efac' : '#fde68a',\n                            }}\n                          >\n                            {loan.status === 'FUNDED' ? 'Accepted' : 'Pending'}\n                          </span>\n                        </div>\n                      </div>\n\n                      <div className=\"ofm-offer-body\">\n                        {o.message && (\n                          <div style={{ marginBottom: 8, color: '#334155' }}>\n                            <strong>Message:</strong> {o.message}\n                          </div>\n                        )}\n\n                        {loan.status === 'OPEN' && isBorrower && (\n                          <button\n                            className=\"action-btn primary\"\n                            onClick={() => acceptOffer(o.id)}\n                            style={{\n                              background: '#4f46e5',\n                              color: '#fff',\n                              border: '1px solid #4f46e5',\n                              borderRadius: 10,\n                              padding: '6px 10px',\n                              fontWeight: 700,\n                              cursor: 'pointer',\n                            }}\n                          >\n                            Accept\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div style={{ color: '#64748b' }}>No offers yet—be the first!</div>\n                )}\n              </div>\n\n                <div className=\"lm-details-grid\" />\n                                    {/* Inline public discussion */}\n                                    <InlineDiscussion threadId={loan.id} limit={5} compact showHeader={false} />\n                                  \n\n              {/* Submit offer (for lenders) */}\n              {loan.status === 'OPEN' && (!isBorrower) && (\n                <div className=\"ofm-offer-form\">\n                  <div className=\"ofm-section-title\" style={{ fontWeight: 700, marginBottom: 8 }}>\n                    Submit an Offer\n                  </div>\n\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3,minmax(0,1fr))', gap: 10 }}>\n                    <div>\n                      <label>Amount ($)</label>\n                      <input\n                        type=\"number\"\n                        name=\"amount\"\n                        value={offerForm.amount}\n                        onChange={onChange}\n                      />\n                    </div>\n                    <div>\n                      <label>Duration (months)</label>\n                      <input\n                        type=\"number\"\n                        name=\"duration\"\n                        value={offerForm.duration}\n                        onChange={onChange}\n                      />\n                    </div>\n                    <div>\n                      <label>Interest Rate (%)</label>\n                      <input\n                        type=\"number\"\n                        step=\"0.01\"\n                        name=\"interestRate\"\n                        value={offerForm.interestRate}\n                        onChange={onChange}\n                      />\n                    </div>\n                  </div>\n\n                  <div style={{ marginTop: 8 }}>\n                    <label>Message (optional)</label>\n                    <textarea\n                      name=\"message\"\n                      rows={3}\n                      value={offerForm.message}\n                      onChange={onChange}\n                      style={{ resize: 'vertical' }}\n                    />\n                  </div>\n\n                  <div style={{ marginTop: 10 }}>\n                    <button\n                      disabled={submitting}\n                      onClick={submitOffer}\n                    >\n                      {submitting ? 'Submitting…' : 'Submit Offer'}\n                    </button>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}