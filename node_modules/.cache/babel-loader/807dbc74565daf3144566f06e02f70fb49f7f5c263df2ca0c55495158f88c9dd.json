{"ast":null,"code":"var _jsxFileName = \"/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/wallet/WalletPage.jsx\",\n  _s = $RefreshSig$();\n// src/features/wallet/WalletPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport WalletPanel from './WalletPanel';\nimport { fetchWallet } from './walletApi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function WalletPage() {\n  _s();\n  var _wallet$availableCent, _wallet$pendingCents;\n  const [wallet, setWallet] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showPanel, setShowPanel] = useState(false);\n  const [error, setError] = useState('');\n  async function loadWallet() {\n    try {\n      setError('');\n      const w = await fetchWallet();\n      setWallet(w);\n    } catch (e) {\n      console.error('loadWallet error', e);\n      setError((e === null || e === void 0 ? void 0 : e.message) || 'Failed to load wallet.');\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    loadWallet();\n  }, []);\n  const availableDollars = (((_wallet$availableCent = wallet === null || wallet === void 0 ? void 0 : wallet.availableCents) !== null && _wallet$availableCent !== void 0 ? _wallet$availableCent : 0) / 100).toFixed(2);\n  const pendingDollars = (((_wallet$pendingCents = wallet === null || wallet === void 0 ? void 0 : wallet.pendingCents) !== null && _wallet$pendingCents !== void 0 ? _wallet$pendingCents : 0) / 100).toFixed(2);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Wallet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8,\n        background: '#fef2f2',\n        border: '1px solid #fecaca',\n        color: '#7f1d1d',\n        borderRadius: 8,\n        padding: '8px 10px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading wallet\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          padding: '12px 14px',\n          borderRadius: 12,\n          border: '1px solid #e2e8f0',\n          background: '#f8fafc',\n          maxWidth: 420\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 14,\n            color: '#64748b',\n            marginBottom: 4\n          },\n          children: \"PeerFund balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 24,\n            fontWeight: 700\n          },\n          children: [\"$\", availableDollars]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 13,\n            color: '#6b7280',\n            marginTop: 4\n          },\n          children: [\"Pending: $\", pendingDollars]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginTop: 12,\n            padding: '8px 14px',\n            borderRadius: 999,\n            border: '1px solid #4f46e5',\n            background: '#4f46e5',\n            color: '#fff',\n            fontWeight: 700,\n            cursor: 'pointer'\n          },\n          onClick: () => setShowPanel(true),\n          children: \"Add funds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), showPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          inset: 0,\n          background: 'rgba(15,23,42,0.45)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 50\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fff',\n            borderRadius: 16,\n            padding: 20,\n            minWidth: 320,\n            maxWidth: 420,\n            boxShadow: '0 20px 40px rgba(15,23,42,0.25)'\n          },\n          children: /*#__PURE__*/_jsxDEV(WalletPanel, {\n            onClose: () => setShowPanel(false),\n            onBalanceUpdated: async () => {\n              setShowPanel(false);\n              await loadWallet();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(WalletPage, \"Bx7c+OJ/3P8lNkCb63rk0JL/BNc=\");\n_c = WalletPage;\nvar _c;\n$RefreshReg$(_c, \"WalletPage\");","map":{"version":3,"names":["React","useEffect","useState","WalletPanel","fetchWallet","jsxDEV","_jsxDEV","Fragment","_Fragment","WalletPage","_s","_wallet$availableCent","_wallet$pendingCents","wallet","setWallet","loading","setLoading","showPanel","setShowPanel","error","setError","loadWallet","w","e","console","message","availableDollars","availableCents","toFixed","pendingDollars","pendingCents","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","background","border","color","borderRadius","maxWidth","fontSize","marginBottom","fontWeight","cursor","onClick","position","inset","display","alignItems","justifyContent","zIndex","minWidth","boxShadow","onClose","onBalanceUpdated","_c","$RefreshReg$"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/wallet/WalletPage.jsx"],"sourcesContent":["// src/features/wallet/WalletPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport WalletPanel from './WalletPanel';\nimport { fetchWallet } from './walletApi';\n\nexport default function WalletPage() {\n  const [wallet, setWallet] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showPanel, setShowPanel] = useState(false);\n  const [error, setError] = useState('');\n\n  async function loadWallet() {\n    try {\n      setError('');\n      const w = await fetchWallet();\n      setWallet(w);\n    } catch (e) {\n      console.error('loadWallet error', e);\n      setError(e?.message || 'Failed to load wallet.');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadWallet();\n  }, []);\n\n  const availableDollars = ((wallet?.availableCents ?? 0) / 100).toFixed(2);\n  const pendingDollars = ((wallet?.pendingCents ?? 0) / 100).toFixed(2);\n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <h2>Wallet</h2>\n\n      {error && (\n        <div\n          style={{\n            marginTop: 8,\n            background: '#fef2f2',\n            border: '1px solid #fecaca',\n            color: '#7f1d1d',\n            borderRadius: 8,\n            padding: '8px 10px',\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      {loading ? (\n        <p>Loading walletâ€¦</p>\n      ) : (\n        <>\n          <div\n            style={{\n              marginTop: 12,\n              padding: '12px 14px',\n              borderRadius: 12,\n              border: '1px solid #e2e8f0',\n              background: '#f8fafc',\n              maxWidth: 420,\n            }}\n          >\n            <div style={{ fontSize: 14, color: '#64748b', marginBottom: 4 }}>\n              PeerFund balance\n            </div>\n            <div style={{ fontSize: 24, fontWeight: 700 }}>\n              ${availableDollars}\n            </div>\n            <div style={{ fontSize: 13, color: '#6b7280', marginTop: 4 }}>\n              Pending: ${pendingDollars}\n            </div>\n\n            <button\n              style={{\n                marginTop: 12,\n                padding: '8px 14px',\n                borderRadius: 999,\n                border: '1px solid #4f46e5',\n                background: '#4f46e5',\n                color: '#fff',\n                fontWeight: 700,\n                cursor: 'pointer',\n              }}\n              onClick={() => setShowPanel(true)}\n            >\n              Add funds\n            </button>\n          </div>\n\n          {showPanel && (\n            <div\n              style={{\n                position: 'fixed',\n                inset: 0,\n                background: 'rgba(15,23,42,0.45)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                zIndex: 50,\n              }}\n            >\n              <div\n                style={{\n                  background: '#fff',\n                  borderRadius: 16,\n                  padding: 20,\n                  minWidth: 320,\n                  maxWidth: 420,\n                  boxShadow: '0 20px 40px rgba(15,23,42,0.25)',\n                }}\n              >\n                <WalletPanel\n                  onClose={() => setShowPanel(false)}\n                  onBalanceUpdated={async () => {\n                    setShowPanel(false);\n                    await loadWallet();\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}