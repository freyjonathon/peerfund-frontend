{"ast":null,"code":"import _objectSpread from\"/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/features/profile/LendingTermsEditor.jsx\nimport React,{useEffect,useMemo,useState}from'react';import'./LendingTermsEditor.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function clampRate(v){const n=Number(v);if(!Number.isFinite(n))return 0;if(n<0)return 0;if(n>100)return 100;return Math.round(n*100)/100;}function clampAmount(v){const n=Number(v);if(!Number.isFinite(n)||n<=0)return 0;// whole dollars\nreturn Math.round(n*100)/100;}function uid(){return Math.random().toString(36).slice(2,9);}export default function LendingTermsEditor(){const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[err,setErr]=useState('');const[ok,setOk]=useState('');// rows: { id, amount, enabled, rate }\nconst[rows,setRows]=useState([]);// Load existing terms -> rows\nuseEffect(()=>{let alive=true;(async()=>{try{setLoading(true);setErr('');const r=await fetch('/api/users/me/lending-terms',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(!r.ok)throw new Error(await r.text());const d=await r.json();const map=(d===null||d===void 0?void 0:d.lendingTerms)||{};const parsed=Object.entries(map).map(_ref=>{let[k,v]=_ref;return{id:uid(),amount:clampAmount(k),enabled:!!(v!==null&&v!==void 0&&v.enabled),rate:clampRate(v===null||v===void 0?void 0:v.rate)};});parsed.sort((a,b)=>a.amount-b.amount);if(alive)setRows(parsed);}catch(e){console.error(e);if(alive)setErr('Failed to load lending terms.');}finally{if(alive)setLoading(false);}})();return()=>{alive=false;};},[]);// duplicate-amount detection\nconst dupAmounts=useMemo(()=>{const seen=new Map();for(const r of rows){const key=String(r.amount);seen.set(key,(seen.get(key)||0)+1);}return new Set([...seen.entries()].filter(_ref2=>{let[,c]=_ref2;return c>1;}).map(_ref3=>{let[k]=_ref3;return k;}));},[rows]);function addRow(){setRows(rs=>[...rs,{id:uid(),amount:50,enabled:true,rate:10}]);}function removeRow(id){setRows(rs=>rs.filter(r=>r.id!==id));}function updateRow(id,patch){setRows(rs=>rs.map(r=>r.id===id?_objectSpread(_objectSpread({},r),patch):r));}async function save(){// validation\nconst badAmount=rows.find(r=>!Number.isFinite(r.amount)||r.amount<=0);if(badAmount){setErr('Amounts must be positive numbers.');setOk('');return;}if(dupAmounts.size>0){setErr('Duplicate amounts detected. Each tier must be unique.');setOk('');return;}// rows -> map keyed by amount string\nconst map=Object.fromEntries(rows.slice().sort((a,b)=>a.amount-b.amount).map(r=>[String(r.amount),{enabled:!!r.enabled,rate:clampRate(r.rate)}]));try{setSaving(true);setErr('');setOk('');const r=await fetch('/api/users/me/lending-terms',{method:'PUT',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({lendingTerms:map})});if(!r.ok)throw new Error(await r.text());setOk('Lending terms saved.');}catch(e){console.error(e);setErr('Failed to save lending terms.');}finally{setSaving(false);}}if(loading){return/*#__PURE__*/_jsx(\"section\",{className:\"lt-card\",children:\"Loading lending terms\\u2026\"});}return/*#__PURE__*/_jsxs(\"section\",{className:\"lt-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"lt-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lt-eyebrow\",children:\"Lending preferences\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"lt-title\",children:\"Lending Terms\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lt-subtitle\",children:\"Add the amounts you\\u2019re willing to fund and the APR you\\u2019ll charge. Toggle tiers on or off as your risk appetite changes.\"})]}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"lt-alert lt-alert--err\",children:err}),ok&&/*#__PURE__*/_jsx(\"div\",{className:\"lt-alert lt-alert--ok\",children:ok}),/*#__PURE__*/_jsxs(\"div\",{className:\"lt-body\",children:[rows.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"lt-empty\",children:\"You don\\u2019t have any lending tiers yet. Add one to get started.\"}),rows.map(r=>{const isDup=dupAmounts.has(String(r.amount));return/*#__PURE__*/_jsxs(\"div\",{className:\"lt-row\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"lt-toggle-pill \".concat(r.enabled?'lt-toggle-pill--on':'lt-toggle-pill--off'),onClick:()=>updateRow(r.id,{enabled:!r.enabled}),children:r.enabled?'Active':'Paused'}),/*#__PURE__*/_jsxs(\"div\",{className:\"lt-row-fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lt-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"lt-field-label\",children:\"Amount\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lt-input-shell lt-input-shell--prefix\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lt-prefix\",children:\"$\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",step:\"1\",value:Number.isFinite(r.amount)?r.amount:'',onChange:e=>updateRow(r.id,{amount:clampAmount(e.target.value)}),className:isDup?'lt-input lt-input--error':'lt-input',placeholder:\"e.g. 1,000\"})]}),isDup&&/*#__PURE__*/_jsx(\"div\",{className:\"lt-hint-error\",children:\"Duplicate amount\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lt-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"lt-field-label\",children:\"APR\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lt-input-shell lt-input-shell--suffix\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",step:\"0.25\",value:r.rate,onChange:e=>updateRow(r.id,{rate:clampRate(e.target.value)}),disabled:!r.enabled,className:\"lt-input\",placeholder:\"10\"}),/*#__PURE__*/_jsx(\"span\",{className:\"lt-suffix\",children:\"% APR\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"lt-remove\",onClick:()=>removeRow(r.id),title:\"Remove tier\",children:\"Remove\"})]},r.id);})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"lt-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn--soft btn--lg\",onClick:addRow,children:\"+ Add Tier\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn--primary btn--lg\",onClick:save,disabled:saving,children:saving?'Saving…':'Save Terms'})]})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","jsx","_jsx","jsxs","_jsxs","clampRate","v","n","Number","isFinite","Math","round","clampAmount","uid","random","toString","slice","LendingTermsEditor","loading","setLoading","saving","setSaving","err","setErr","ok","setOk","rows","setRows","alive","r","fetch","headers","Authorization","concat","localStorage","getItem","Error","text","d","json","map","lendingTerms","parsed","Object","entries","_ref","k","id","amount","enabled","rate","sort","a","b","e","console","error","dupAmounts","seen","Map","key","String","set","get","Set","filter","_ref2","c","_ref3","addRow","rs","removeRow","updateRow","patch","_objectSpread","save","badAmount","find","size","fromEntries","method","body","JSON","stringify","className","children","length","isDup","has","type","onClick","min","step","value","onChange","target","placeholder","max","disabled","title"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/profile/LendingTermsEditor.jsx"],"sourcesContent":["// src/features/profile/LendingTermsEditor.jsx\nimport React, { useEffect, useMemo, useState } from 'react';\nimport './LendingTermsEditor.css';\n\nfunction clampRate(v) {\n  const n = Number(v);\n  if (!Number.isFinite(n)) return 0;\n  if (n < 0) return 0;\n  if (n > 100) return 100;\n  return Math.round(n * 100) / 100;\n}\n\nfunction clampAmount(v) {\n  const n = Number(v);\n  if (!Number.isFinite(n) || n <= 0) return 0;\n  // whole dollars\n  return Math.round(n * 100) / 100;\n}\n\nfunction uid() {\n  return Math.random().toString(36).slice(2, 9);\n}\n\nexport default function LendingTermsEditor() {\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [err, setErr] = useState('');\n  const [ok, setOk] = useState('');\n\n  // rows: { id, amount, enabled, rate }\n  const [rows, setRows] = useState([]);\n\n  // Load existing terms -> rows\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        setErr('');\n        const r = await fetch('/api/users/me/lending-terms', {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        });\n        if (!r.ok) throw new Error(await r.text());\n        const d = await r.json();\n\n        const map = d?.lendingTerms || {};\n        const parsed = Object.entries(map).map(([k, v]) => ({\n          id: uid(),\n          amount: clampAmount(k),\n          enabled: !!v?.enabled,\n          rate: clampRate(v?.rate),\n        }));\n\n        parsed.sort((a, b) => a.amount - b.amount);\n        if (alive) setRows(parsed);\n      } catch (e) {\n        console.error(e);\n        if (alive) setErr('Failed to load lending terms.');\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, []);\n\n  // duplicate-amount detection\n  const dupAmounts = useMemo(() => {\n    const seen = new Map();\n    for (const r of rows) {\n      const key = String(r.amount);\n      seen.set(key, (seen.get(key) || 0) + 1);\n    }\n    return new Set(\n      [...seen.entries()]\n        .filter(([, c]) => c > 1)\n        .map(([k]) => k)\n    );\n  }, [rows]);\n\n  function addRow() {\n    setRows((rs) => [\n      ...rs,\n      { id: uid(), amount: 50, enabled: true, rate: 10 },\n    ]);\n  }\n\n  function removeRow(id) {\n    setRows((rs) => rs.filter((r) => r.id !== id));\n  }\n\n  function updateRow(id, patch) {\n    setRows((rs) => rs.map((r) => (r.id === id ? { ...r, ...patch } : r)));\n  }\n\n  async function save() {\n    // validation\n    const badAmount = rows.find(\n      (r) => !Number.isFinite(r.amount) || r.amount <= 0\n    );\n    if (badAmount) {\n      setErr('Amounts must be positive numbers.');\n      setOk('');\n      return;\n    }\n    if (dupAmounts.size > 0) {\n      setErr('Duplicate amounts detected. Each tier must be unique.');\n      setOk('');\n      return;\n    }\n\n    // rows -> map keyed by amount string\n    const map = Object.fromEntries(\n      rows\n        .slice()\n        .sort((a, b) => a.amount - b.amount)\n        .map((r) => [\n          String(r.amount),\n          { enabled: !!r.enabled, rate: clampRate(r.rate) },\n        ])\n    );\n\n    try {\n      setSaving(true);\n      setErr('');\n      setOk('');\n      const r = await fetch('/api/users/me/lending-terms', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n        body: JSON.stringify({ lendingTerms: map }),\n      });\n      if (!r.ok) throw new Error(await r.text());\n      setOk('Lending terms saved.');\n    } catch (e) {\n      console.error(e);\n      setErr('Failed to save lending terms.');\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  if (loading) {\n    return <section className=\"lt-card\">Loading lending terms…</section>;\n  }\n\n  return (\n    <section className=\"lt-card\">\n      <header className=\"lt-header\">\n        <div className=\"lt-eyebrow\">Lending preferences</div>\n        <h3 className=\"lt-title\">Lending Terms</h3>\n        <p className=\"lt-subtitle\">\n          Add the amounts you’re willing to fund and the APR you’ll charge.\n          Toggle tiers on or off as your risk appetite changes.\n        </p>\n      </header>\n\n      {err && <div className=\"lt-alert lt-alert--err\">{err}</div>}\n      {ok && <div className=\"lt-alert lt-alert--ok\">{ok}</div>}\n\n      <div className=\"lt-body\">\n        {rows.length === 0 && (\n          <div className=\"lt-empty\">\n            You don’t have any lending tiers yet. Add one to get started.\n          </div>\n        )}\n\n        {rows.map((r) => {\n          const isDup = dupAmounts.has(String(r.amount));\n          return (\n            <div className=\"lt-row\" key={r.id}>\n              {/* pill toggle instead of naked checkbox */}\n              <button\n                type=\"button\"\n                className={`lt-toggle-pill ${\n                  r.enabled ? 'lt-toggle-pill--on' : 'lt-toggle-pill--off'\n                }`}\n                onClick={() => updateRow(r.id, { enabled: !r.enabled })}\n              >\n                {r.enabled ? 'Active' : 'Paused'}\n              </button>\n\n              <div className=\"lt-row-fields\">\n                {/* Amount */}\n                <div className=\"lt-field\">\n                  <label className=\"lt-field-label\">Amount</label>\n                  <div className=\"lt-input-shell lt-input-shell--prefix\">\n                    <span className=\"lt-prefix\">$</span>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      step=\"1\"\n                      value={Number.isFinite(r.amount) ? r.amount : ''}\n                      onChange={(e) =>\n                        updateRow(r.id, {\n                          amount: clampAmount(e.target.value),\n                        })\n                      }\n                      className={\n                        isDup ? 'lt-input lt-input--error' : 'lt-input'\n                      }\n                      placeholder=\"e.g. 1,000\"\n                    />\n                  </div>\n                  {isDup && (\n                    <div className=\"lt-hint-error\">Duplicate amount</div>\n                  )}\n                </div>\n\n                {/* APR */}\n                <div className=\"lt-field\">\n                  <label className=\"lt-field-label\">APR</label>\n                  <div className=\"lt-input-shell lt-input-shell--suffix\">\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"0.25\"\n                      value={r.rate}\n                      onChange={(e) =>\n                        updateRow(r.id, { rate: clampRate(e.target.value) })\n                      }\n                      disabled={!r.enabled}\n                      className=\"lt-input\"\n                      placeholder=\"10\"\n                    />\n                    <span className=\"lt-suffix\">% APR</span>\n                  </div>\n                </div>\n              </div>\n\n              <button\n                type=\"button\"\n                className=\"lt-remove\"\n                onClick={() => removeRow(r.id)}\n                title=\"Remove tier\"\n              >\n                Remove\n              </button>\n            </div>\n          );\n        })}\n      </div>\n\n      <footer className=\"lt-footer\">\n        <button\n          type=\"button\"\n          className=\"btn btn--soft btn--lg\"\n          onClick={addRow}\n        >\n          + Add Tier\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn--primary btn--lg\"\n          onClick={save}\n          disabled={saving}\n        >\n          {saving ? 'Saving…' : 'Save Terms'}\n        </button>\n      </footer>\n    </section>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}