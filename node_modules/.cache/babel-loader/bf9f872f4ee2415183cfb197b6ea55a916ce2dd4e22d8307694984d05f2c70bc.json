{"ast":null,"code":"var _jsxFileName = \"/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/components/UserProfileCard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// components/UserProfileCard.jsx\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './UserProfileCard.css';\n\n// Order we want to display\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AMOUNTS = ['50', '100', '150', '200', '250'];\n\n/* Small inline modal to select months */\nfunction MonthsModal({\n  initialMonths,\n  onCancel,\n  onSubmit\n}) {\n  _s();\n  const [months, setMonths] = useState(initialMonths !== null && initialMonths !== void 0 ? initialMonths : 1);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upc-backdrop\",\n    onClick: onCancel,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upc-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upc-modal-title\",\n        children: \"Choose repayment term\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upc-modal-body\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"upc-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Months\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: months,\n            onChange: e => setMonths(Number(e.target.value)),\n            children: [1, 2, 3, 4, 5, 6, 9, 12].map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: m,\n              children: m\n            }, m, false, {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upc-modal-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn\",\n          onClick: onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn primary\",\n          onClick: () => onSubmit(months),\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n}\n_s(MonthsModal, \"L/jvHhZ1lb3FCcZHMuQDZ8ANdhw=\");\n_c = MonthsModal;\nconst UserProfileCard = ({\n  user,\n  onRequestLoan,\n  onMessage,\n  hideActions = false\n}) => {\n  _s2();\n  var _user$stats$loansGive, _user$stats;\n  const [monthsPicker, setMonthsPicker] = useState(null); // { amount, rate } | null\n\n  const given = (_user$stats$loansGive = user === null || user === void 0 ? void 0 : (_user$stats = user.stats) === null || _user$stats === void 0 ? void 0 : _user$stats.loansGivenCount) !== null && _user$stats$loansGive !== void 0 ? _user$stats$loansGive : Array.isArray(user === null || user === void 0 ? void 0 : user.loansAsLender) ? user.loansAsLender.length : 0;\n  const initials = ((user === null || user === void 0 ? void 0 : user.name) || '').split(' ').map(p => p[0]).filter(Boolean).join('').slice(0, 2).toUpperCase() || 'U';\n\n  // Normalize/shape terms for display\n  const rawTerms = (user === null || user === void 0 ? void 0 : user.lendingTerms) || null;\n  const terms = AMOUNTS.map(a => {\n    const row = rawTerms === null || rawTerms === void 0 ? void 0 : rawTerms[a];\n    if (!row || !row.enabled) return null;\n    const rate = Number(row.rate);\n    if (!Number.isFinite(rate)) return null;\n    return {\n      amount: Number(a),\n      rate\n    };\n  }).filter(Boolean);\n\n  // Open months selector for a chosen preset\n  const handlePickTerm = (amount, rate) => {\n    setMonthsPicker({\n      amount,\n      rate\n    });\n  };\n\n  // Default months suggestion based on amount (tweak as you like)\n  const defaultMonthsFor = amt => amt <= 100 ? 1 : amt <= 200 ? 2 : 3;\n\n  // Submit the request: if parent provided onRequestLoan, delegate to it;\n  // otherwise POST directly to the backend.\n  const submitDirectRequest = async months => {\n    const {\n      amount,\n      rate\n    } = monthsPicker || {};\n    setMonthsPicker(null);\n    const pretty = `$${amount} • ${rate}% APR • ${months} month${months > 1 ? 's' : ''}`;\n    if (!window.confirm(`Submit direct loan request for ${pretty} from ${user === null || user === void 0 ? void 0 : user.name}?`)) return;\n\n    // Parent override\n    if (typeof onRequestLoan === 'function') {\n      onRequestLoan({\n        lenderId: user === null || user === void 0 ? void 0 : user.id,\n        amount,\n        rate,\n        months\n      });\n      return;\n    }\n\n    // Built-in POST\n    try {\n      const token = localStorage.getItem('token') || '';\n      const r = await fetch('/api/direct-requests', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? {\n            Authorization: `Bearer ${token}`\n          } : {})\n        },\n        body: JSON.stringify({\n          lenderId: user === null || user === void 0 ? void 0 : user.id,\n          amount: Number(amount),\n          months: Number(months)\n        })\n      });\n      const d = await r.json();\n      if (!r.ok) throw new Error((d === null || d === void 0 ? void 0 : d.error) || 'Failed to create request');\n      alert('Request sent! It will appear in both users’ “My Open Loan Requests” until approved.');\n    } catch (e) {\n      alert(e.message || 'Failed to create request');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-card__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-card__avatar\",\n        children: initials\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-card__meta\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"user-card__name\",\n          children: [(user === null || user === void 0 ? void 0 : user.name) || 'Unknown', (user === null || user === void 0 ? void 0 : user.isSuperUser) && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-card__badge\",\n            children: \"SuperUser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-card__sub\",\n          children: [user !== null && user !== void 0 && user.location ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [user.location, \" \\u2022 \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 31\n          }, this) : null, \"Member since:\", ' ', user !== null && user !== void 0 && user.signupDate ? new Date(user.signupDate).toLocaleDateString() : '—', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-card__stat-label\",\n            children: [\"Loans Given: \", given]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-card__section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-card__section-title\",\n        children: \"Available Terms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), terms.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-card__terms\",\n          children: terms.map(({\n            amount,\n            rate\n          }) => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"user-card__term\",\n            onClick: () => handlePickTerm(amount, rate),\n            title: `Request $${amount} at ${rate}% APR`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-card__term-amt\",\n              children: [\"$\", amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-card__term-rate\",\n              children: [rate, \"% APR\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)]\n          }, amount, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), monthsPicker && /*#__PURE__*/_jsxDEV(MonthsModal, {\n          initialMonths: defaultMonthsFor(monthsPicker.amount),\n          onCancel: () => setMonthsPicker(null),\n          onSubmit: submitDirectRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-card__muted\",\n        children: \"No preset terms shared.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), !hideActions && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-card__actions\",\n      children: [onMessage && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-btn\",\n        onClick: onMessage,\n        children: \"Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this), onRequestLoan && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-btn primary\",\n        onClick: () => {\n          if (!terms.length) return alert('This user has not shared any preset terms.');\n          // If only one term, open months directly; otherwise ask user to click a chip.\n          if (terms.length === 1) {\n            const t = terms[0];\n            handlePickTerm(t.amount, t.rate);\n          } else {\n            alert('Pick a loan amount above to continue.');\n          }\n        },\n        children: \"Request Loan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n_s2(UserProfileCard, \"m+BjoZ+7kqGBLVDuBKtQsZwUCDQ=\");\n_c2 = UserProfileCard;\nUserProfileCard.propTypes = {\n  user: PropTypes.object.isRequired,\n  onRequestLoan: PropTypes.func,\n  // optional override: ({ lenderId, amount, rate, months }) => void\n  onMessage: PropTypes.func,\n  hideActions: PropTypes.bool\n};\nexport default UserProfileCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"MonthsModal\");\n$RefreshReg$(_c2, \"UserProfileCard\");","map":{"version":3,"names":["React","useState","PropTypes","jsxDEV","_jsxDEV","Fragment","_Fragment","AMOUNTS","MonthsModal","initialMonths","onCancel","onSubmit","_s","months","setMonths","className","onClick","children","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","Number","target","map","m","_c","UserProfileCard","user","onRequestLoan","onMessage","hideActions","_s2","_user$stats$loansGive","_user$stats","monthsPicker","setMonthsPicker","given","stats","loansGivenCount","Array","isArray","loansAsLender","length","initials","name","split","p","filter","Boolean","join","slice","toUpperCase","rawTerms","lendingTerms","terms","a","row","enabled","rate","isFinite","amount","handlePickTerm","defaultMonthsFor","amt","submitDirectRequest","pretty","window","confirm","lenderId","id","token","localStorage","getItem","r","fetch","method","headers","Authorization","body","JSON","stringify","d","json","ok","Error","error","alert","message","isSuperUser","location","signupDate","Date","toLocaleDateString","type","title","t","_c2","propTypes","object","isRequired","func","bool","$RefreshReg$"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/components/UserProfileCard.jsx"],"sourcesContent":["// components/UserProfileCard.jsx\r\nimport React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './UserProfileCard.css';\r\n\r\n// Order we want to display\r\nconst AMOUNTS = ['50', '100', '150', '200', '250'];\r\n\r\n/* Small inline modal to select months */\r\nfunction MonthsModal({ initialMonths, onCancel, onSubmit }) {\r\n  const [months, setMonths] = useState(initialMonths ?? 1);\r\n\r\n  return (\r\n    <div className=\"upc-backdrop\" onClick={onCancel}>\r\n      <div className=\"upc-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"upc-modal-title\">Choose repayment term</div>\r\n        <div className=\"upc-modal-body\">\r\n          <label className=\"upc-field\">\r\n            <span>Months</span>\r\n            <select value={months} onChange={(e) => setMonths(Number(e.target.value))}>\r\n              {[1,2,3,4,5,6,9,12].map(m => (\r\n                <option key={m} value={m}>{m}</option>\r\n              ))}\r\n            </select>\r\n          </label>\r\n        </div>\r\n        <div className=\"upc-modal-actions\">\r\n          <button className=\"action-btn\" onClick={onCancel}>Cancel</button>\r\n          <button className=\"action-btn primary\" onClick={() => onSubmit(months)}>Continue</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst UserProfileCard = ({ user, onRequestLoan, onMessage, hideActions = false }) => {\r\n  const [monthsPicker, setMonthsPicker] = useState(null); // { amount, rate } | null\r\n\r\n  const given =\r\n    user?.stats?.loansGivenCount ??\r\n    (Array.isArray(user?.loansAsLender) ? user.loansAsLender.length : 0);\r\n\r\n  const initials =\r\n    (user?.name || '')\r\n      .split(' ')\r\n      .map(p => p[0])\r\n      .filter(Boolean)\r\n      .join('')\r\n      .slice(0, 2)\r\n      .toUpperCase() || 'U';\r\n\r\n  // Normalize/shape terms for display\r\n  const rawTerms = user?.lendingTerms || null;\r\n  const terms = AMOUNTS\r\n    .map(a => {\r\n      const row = rawTerms?.[a];\r\n      if (!row || !row.enabled) return null;\r\n      const rate = Number(row.rate);\r\n      if (!Number.isFinite(rate)) return null;\r\n      return { amount: Number(a), rate };\r\n    })\r\n    .filter(Boolean);\r\n\r\n  // Open months selector for a chosen preset\r\n  const handlePickTerm = (amount, rate) => {\r\n    setMonthsPicker({ amount, rate });\r\n  };\r\n\r\n  // Default months suggestion based on amount (tweak as you like)\r\n  const defaultMonthsFor = (amt) => (amt <= 100 ? 1 : amt <= 200 ? 2 : 3);\r\n\r\n  // Submit the request: if parent provided onRequestLoan, delegate to it;\r\n  // otherwise POST directly to the backend.\r\n  const submitDirectRequest = async (months) => {\r\n    const { amount, rate } = monthsPicker || {};\r\n    setMonthsPicker(null);\r\n\r\n    const pretty = `$${amount} • ${rate}% APR • ${months} month${months > 1 ? 's' : ''}`;\r\n    if (!window.confirm(`Submit direct loan request for ${pretty} from ${user?.name}?`)) return;\r\n\r\n    // Parent override\r\n    if (typeof onRequestLoan === 'function') {\r\n      onRequestLoan({ lenderId: user?.id, amount, rate, months });\r\n      return;\r\n    }\r\n\r\n    // Built-in POST\r\n    try {\r\n      const token = localStorage.getItem('token') || '';\r\n      const r = await fetch('/api/direct-requests', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n        },\r\n        body: JSON.stringify({\r\n          lenderId: user?.id,\r\n          amount: Number(amount),\r\n          months: Number(months),\r\n        }),\r\n      });\r\n      const d = await r.json();\r\n      if (!r.ok) throw new Error(d?.error || 'Failed to create request');\r\n      alert('Request sent! It will appear in both users’ “My Open Loan Requests” until approved.');\r\n    } catch (e) {\r\n      alert(e.message || 'Failed to create request');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-card\">\r\n      <div className=\"user-card__header\">\r\n        <div className=\"user-card__avatar\">{initials}</div>\r\n        <div className=\"user-card__meta\">\r\n          <h2 className=\"user-card__name\">\r\n            {user?.name || 'Unknown'}\r\n            {user?.isSuperUser && <span className=\"user-card__badge\">SuperUser</span>}\r\n          </h2>\r\n          <div className=\"user-card__sub\">\r\n            {user?.location ? <span>{user.location} • </span> : null}\r\n            Member since:{' '}\r\n            {user?.signupDate ? new Date(user.signupDate).toLocaleDateString() : '—'}\r\n            <br />\r\n            <div className=\"user-card__stat-label\">Loans Given: {given}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Available Terms */}\r\n      <div className=\"user-card__section\">\r\n        <div className=\"user-card__section-title\">Available Terms</div>\r\n        {terms.length ? (\r\n          <>\r\n            <div className=\"user-card__terms\">\r\n              {terms.map(({ amount, rate }) => (\r\n                <button\r\n                  key={amount}\r\n                  type=\"button\"\r\n                  className=\"user-card__term\"\r\n                  onClick={() => handlePickTerm(amount, rate)}\r\n                  title={`Request $${amount} at ${rate}% APR`}\r\n                >\r\n                  <div className=\"user-card__term-amt\">${amount}</div>\r\n                  <div className=\"user-card__term-rate\">{rate}% APR</div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {/* months picker modal */}\r\n            {monthsPicker && (\r\n              <MonthsModal\r\n                initialMonths={defaultMonthsFor(monthsPicker.amount)}\r\n                onCancel={() => setMonthsPicker(null)}\r\n                onSubmit={submitDirectRequest}\r\n              />\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"user-card__muted\">No preset terms shared.</div>\r\n        )}\r\n      </div>\r\n\r\n      {!hideActions && (\r\n        <div className=\"user-card__actions\">\r\n          {onMessage && (\r\n            <button className=\"action-btn\" onClick={onMessage}>Message</button>\r\n          )}\r\n          {onRequestLoan && (\r\n            <button\r\n              className=\"action-btn primary\"\r\n              onClick={() => {\r\n                if (!terms.length) return alert('This user has not shared any preset terms.');\r\n                // If only one term, open months directly; otherwise ask user to click a chip.\r\n                if (terms.length === 1) {\r\n                  const t = terms[0];\r\n                  handlePickTerm(t.amount, t.rate);\r\n                } else {\r\n                  alert('Pick a loan amount above to continue.');\r\n                }\r\n              }}\r\n            >\r\n              Request Loan\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nUserProfileCard.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  onRequestLoan: PropTypes.func, // optional override: ({ lenderId, amount, rate, months }) => void\r\n  onMessage: PropTypes.func,\r\n  hideActions: PropTypes.bool,\r\n};\r\n\r\nexport default UserProfileCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}