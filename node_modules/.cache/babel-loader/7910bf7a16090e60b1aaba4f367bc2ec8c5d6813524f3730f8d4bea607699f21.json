{"ast":null,"code":"var _jsxFileName = \"/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/loans/InlineDiscussion.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction getToken() {\n  return localStorage.getItem('token') || '';\n}\nfunction getCurrentUserId() {\n  const t = getToken();\n  if (!t) return null;\n  try {\n    var _payload$userId;\n    const payload = JSON.parse(atob(t.split('.')[1] || ''));\n    return (_payload$userId = payload === null || payload === void 0 ? void 0 : payload.userId) !== null && _payload$userId !== void 0 ? _payload$userId : null;\n  } catch {\n    return null;\n  }\n}\n\n/**\r\n * Inline discussion for a LOAN REQUEST thread (public).\r\n * Props:\r\n *   threadId: string  (loanRequest.id)\r\n *   limit?: number    (default 5 messages)\r\n *   pollMs?: number   (default 5000)\r\n */\nexport default function InlineDiscussion({\n  threadId,\n  limit = 5,\n  pollMs = 5000\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [posting, setPosting] = useState(false);\n  const [err, setErr] = useState('');\n  const bottomRef = useRef(null);\n  const currentUserId = useMemo(() => getCurrentUserId(), []);\n  const baseUrl = `/api/loans/${threadId}/_messages`; // <-- underscore route\n\n  const scrollToBottom = () => {\n    var _bottomRef$current;\n    return (_bottomRef$current = bottomRef.current) === null || _bottomRef$current === void 0 ? void 0 : _bottomRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const fetchMessages = async () => {\n    try {\n      setErr('');\n      const token = getToken();\n      const headers = token ? {\n        Authorization: `Bearer ${token}`\n      } : {};\n      const res = await fetch(baseUrl, {\n        headers\n      });\n      if (!res.ok) throw new Error(await res.text());\n      const data = await res.json();\n\n      // Normalize to what the UI needs; backend returns { user: { id, name }, userId }\n      const normalized = (Array.isArray(data) ? data : []).map(m => {\n        var _m$user;\n        return {\n          ...m,\n          _displayName: (m === null || m === void 0 ? void 0 : (_m$user = m.user) === null || _m$user === void 0 ? void 0 : _m$user.name) || 'User'\n        };\n      });\n      setMessages(normalized);\n    } catch (e) {\n      console.error(e);\n      setErr('Failed to load thread.');\n    } finally {\n      setLoading(false);\n      setTimeout(scrollToBottom, 0);\n    }\n  };\n  const send = async () => {\n    const content = text.trim();\n    if (!content) return;\n    try {\n      const token = getToken();\n      if (!token) {\n        alert('Please log in to post.');\n        return;\n      }\n      setPosting(true);\n      const res = await fetch(baseUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          content\n        })\n      });\n      if (!res.ok) throw new Error(await res.text());\n      const saved = await res.json();\n      setMessages(prev => {\n        var _saved$user;\n        return [...prev, {\n          ...saved,\n          _displayName: (saved === null || saved === void 0 ? void 0 : (_saved$user = saved.user) === null || _saved$user === void 0 ? void 0 : _saved$user.name) || 'You'\n        }];\n      });\n      setText('');\n      setTimeout(scrollToBottom, 0);\n    } catch (e) {\n      console.error(e);\n      alert('Failed to send message.');\n    } finally {\n      setPosting(false);\n    }\n  };\n  useEffect(() => {\n    fetchMessages();\n    const id = setInterval(fetchMessages, pollMs);\n    return () => clearInterval(id);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [threadId]);\n  const last = messages.slice(-limit);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lm-thread\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lm-thread-header\",\n      children: \"Public Discussion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lm-thread-error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lm-thread-loading\",\n      children: \"Loading\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [last.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lm-thread-empty\",\n        children: \"No messages yet. Start the conversation!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lm-thread-list\",\n        children: [last.map(m => {\n          var _m$user2;\n          const mine = m.userId && currentUserId && m.userId === currentUserId || ((_m$user2 = m.user) === null || _m$user2 === void 0 ? void 0 : _m$user2.id) && currentUserId && m.user.id === currentUserId;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `lm-msg ${mine ? 'mine' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lm-msg-name\",\n              children: m._displayName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lm-msg-body\",\n              children: m.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lm-msg-time\",\n              children: m.createdAt ? new Date(m.createdAt).toLocaleString() : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 21\n            }, this)]\n          }, m.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 19\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: bottomRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lm-thread-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: 2,\n          placeholder: \"Write your message\\u2026\",\n          value: text,\n          onChange: e => setText(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn primary\",\n          onClick: send,\n          disabled: posting,\n          children: posting ? 'Sending…' : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(InlineDiscussion, \"XisfQOqUhQfxk82ezybluLLpZXo=\");\n_c = InlineDiscussion;\nvar _c;\n$RefreshReg$(_c, \"InlineDiscussion\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","getToken","localStorage","getItem","getCurrentUserId","t","_payload$userId","payload","JSON","parse","atob","split","userId","InlineDiscussion","threadId","limit","pollMs","_s","messages","setMessages","text","setText","loading","setLoading","posting","setPosting","err","setErr","bottomRef","currentUserId","baseUrl","scrollToBottom","_bottomRef$current","current","scrollIntoView","behavior","fetchMessages","token","headers","Authorization","res","fetch","ok","Error","data","json","normalized","Array","isArray","map","m","_m$user","_displayName","user","name","e","console","error","setTimeout","send","content","trim","alert","method","body","stringify","saved","prev","_saved$user","id","setInterval","clearInterval","last","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","_m$user2","mine","createdAt","Date","toLocaleString","ref","rows","placeholder","value","onChange","target","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/loans/InlineDiscussion.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\n\r\nfunction getToken() {\r\n  return localStorage.getItem('token') || '';\r\n}\r\nfunction getCurrentUserId() {\r\n  const t = getToken();\r\n  if (!t) return null;\r\n  try {\r\n    const payload = JSON.parse(atob(t.split('.')[1] || ''));\r\n    return payload?.userId ?? null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Inline discussion for a LOAN REQUEST thread (public).\r\n * Props:\r\n *   threadId: string  (loanRequest.id)\r\n *   limit?: number    (default 5 messages)\r\n *   pollMs?: number   (default 5000)\r\n */\r\nexport default function InlineDiscussion({ threadId, limit = 5, pollMs = 5000 }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [text, setText] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [posting, setPosting] = useState(false);\r\n  const [err, setErr] = useState('');\r\n  const bottomRef = useRef(null);\r\n\r\n  const currentUserId = useMemo(() => getCurrentUserId(), []);\r\n\r\n  const baseUrl = `/api/loans/${threadId}/_messages`; // <-- underscore route\r\n\r\n  const scrollToBottom = () =>\r\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n\r\n  const fetchMessages = async () => {\r\n    try {\r\n      setErr('');\r\n      const token = getToken();\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n      const res = await fetch(baseUrl, { headers });\r\n      if (!res.ok) throw new Error(await res.text());\r\n      const data = await res.json();\r\n\r\n      // Normalize to what the UI needs; backend returns { user: { id, name }, userId }\r\n      const normalized = (Array.isArray(data) ? data : []).map((m) => ({\r\n        ...m,\r\n        _displayName: m?.user?.name || 'User',\r\n      }));\r\n      setMessages(normalized);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErr('Failed to load thread.');\r\n    } finally {\r\n      setLoading(false);\r\n      setTimeout(scrollToBottom, 0);\r\n    }\r\n  };\r\n\r\n  const send = async () => {\r\n    const content = text.trim();\r\n    if (!content) return;\r\n\r\n    try {\r\n      const token = getToken();\r\n      if (!token) {\r\n        alert('Please log in to post.');\r\n        return;\r\n      }\r\n      setPosting(true);\r\n      const res = await fetch(baseUrl, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ content }),\r\n      });\r\n      if (!res.ok) throw new Error(await res.text());\r\n      const saved = await res.json();\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { ...saved, _displayName: saved?.user?.name || 'You' },\r\n      ]);\r\n      setText('');\r\n      setTimeout(scrollToBottom, 0);\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Failed to send message.');\r\n    } finally {\r\n      setPosting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMessages();\r\n    const id = setInterval(fetchMessages, pollMs);\r\n    return () => clearInterval(id);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [threadId]);\r\n\r\n  const last = messages.slice(-limit);\r\n\r\n  return (\r\n    <div className=\"lm-thread\">\r\n      <div className=\"lm-thread-header\">Public Discussion</div>\r\n      {err && <div className=\"lm-thread-error\">{err}</div>}\r\n      {loading ? (\r\n        <div className=\"lm-thread-loading\">Loading…</div>\r\n      ) : (\r\n        <>\r\n          {last.length === 0 ? (\r\n            <div className=\"lm-thread-empty\">No messages yet. Start the conversation!</div>\r\n          ) : (\r\n            <div className=\"lm-thread-list\">\r\n              {last.map((m) => {\r\n                const mine =\r\n                  (m.userId && currentUserId && m.userId === currentUserId) ||\r\n                  (m.user?.id && currentUserId && m.user.id === currentUserId);\r\n                return (\r\n                  <div key={m.id} className={`lm-msg ${mine ? 'mine' : ''}`}>\r\n                    <div className=\"lm-msg-name\">{m._displayName}</div>\r\n                    <div className=\"lm-msg-body\">{m.content}</div>\r\n                    <div className=\"lm-msg-time\">\r\n                      {m.createdAt ? new Date(m.createdAt).toLocaleString() : ''}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              <div ref={bottomRef} />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"lm-thread-input\">\r\n            <textarea\r\n              rows={2}\r\n              placeholder=\"Write your message…\"\r\n              value={text}\r\n              onChange={(e) => setText(e.target.value)}\r\n            />\r\n            <button className=\"action-btn primary\" onClick={send} disabled={posting}>\r\n              {posting ? 'Sending…' : 'Send'}\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}