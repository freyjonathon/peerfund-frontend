{"ast":null,"code":"var _jsxFileName = \"/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/loans/LoanFundingPanel.jsx\",\n  _s = $RefreshSig$();\n// src/features/loans/LoanFundingPanel.jsx\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\n/* ------------ auth helpers (same pattern as other screens) ------------ */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getToken() {\n  let t = localStorage.getItem('token') || '';\n  t = t.replace(/^\"|\"$/g, '');\n  if (t.toLowerCase().startsWith('bearer ')) t = t.slice(7);\n  return t || null;\n}\nfunction authHeaders() {\n  const t = getToken();\n  return t ? {\n    Authorization: `Bearer ${t}`\n  } : {};\n}\n\n/**\n * LoanFundingPanel\n *\n * Lets the lender fund a specific loan *from their wallet balance*.\n * - Shows wallet balance + loan amount\n * - Calls POST /api/loans/:loanId/fund\n * - If balance is too low, calls onNeedMoreFunds() so parent can open WalletPanel\n */\nexport default function LoanFundingPanel({\n  loan,\n  walletAvailableCents,\n  onWalletSynced,\n  onNeedMoreFunds,\n  onFunded\n}) {\n  _s();\n  const [availableCents, setAvailableCents] = useState(typeof walletAvailableCents === 'number' ? walletAvailableCents : null);\n  const [loading, setLoading] = useState(!walletAvailableCents);\n  const [busy, setBusy] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  const [successMsg, setSuccessMsg] = useState('');\n  const principalCents = typeof loan.principalCents === 'number' && loan.principalCents > 0 ? loan.principalCents : Math.round((loan.amount || 0) * 100);\n  const loanAmountDollars = (principalCents / 100).toFixed(2);\n  const availDollars = typeof availableCents === 'number' ? (availableCents / 100).toFixed(2) : null;\n  const hasEnough = typeof availableCents === 'number' && availableCents >= principalCents;\n\n  /* ----------------------------- load wallet ---------------------------- */\n  useEffect(() => {\n    if (typeof walletAvailableCents === 'number') return; // parent already synced\n    let cancelled = false;\n    async function loadWallet() {\n      setLoading(true);\n      setErrorMsg('');\n      try {\n        const res = await fetch('/api/wallet/me', {\n          headers: {\n            'Content-Type': 'application/json',\n            ...authHeaders()\n          }\n        });\n        if (!res.ok) {\n          throw new Error((await res.text()) || 'Failed to load wallet.');\n        }\n        const data = await res.json();\n        const cents = typeof data.availableCents === 'number' ? data.availableCents : Math.round((data.available || 0) * 100);\n        if (!cancelled) {\n          setAvailableCents(cents);\n          onWalletSynced === null || onWalletSynced === void 0 ? void 0 : onWalletSynced(cents);\n        }\n      } catch (e) {\n        if (!cancelled) {\n          setErrorMsg(e.message || 'Could not load wallet balance.');\n        }\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    }\n    loadWallet();\n    return () => {\n      cancelled = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /* -------------------------- fund from wallet -------------------------- */\n  async function handleFund() {\n    setErrorMsg('');\n    setSuccessMsg('');\n    if (!hasEnough) {\n      onNeedMoreFunds === null || onNeedMoreFunds === void 0 ? void 0 : onNeedMoreFunds();\n      return;\n    }\n    setBusy(true);\n    try {\n      const res = await fetch(`/api/loans/${loan.id}/fund`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify({})\n      });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => '');\n        throw new Error(txt || 'Failed to fund loan.');\n      }\n      const payload = await res.json().catch(() => ({}));\n      setSuccessMsg('Loan funded successfully from your PeerFund balance.');\n\n      // re-sync wallet after funding\n      try {\n        const wRes = await fetch('/api/wallet/me', {\n          headers: {\n            'Content-Type': 'application/json',\n            ...authHeaders()\n          }\n        });\n        if (wRes.ok) {\n          const wData = await wRes.json();\n          const cents = typeof wData.availableCents === 'number' ? wData.availableCents : Math.round((wData.available || 0) * 100);\n          setAvailableCents(cents);\n          onWalletSynced === null || onWalletSynced === void 0 ? void 0 : onWalletSynced(cents);\n        }\n      } catch {\n        // soft-fail; not critical\n      }\n      onFunded === null || onFunded === void 0 ? void 0 : onFunded(payload.loan || loan);\n    } catch (e) {\n      setErrorMsg(e.message || 'Could not fund loan.');\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  /* --------------------------------- UI -------------------------------- */\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    style: {\n      marginTop: 16,\n      padding: 16,\n      borderRadius: 12,\n      border: '1px solid #e2e8f0',\n      background: '#ffffff',\n      maxWidth: 520\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 0,\n        marginBottom: 8\n      },\n      children: \"Fund this Loan\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: '4px 0',\n        color: '#475569',\n        fontSize: 14\n      },\n      children: [\"Loan amount:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"$\", loanAmountDollars]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: '4px 0 12px',\n        color: '#475569',\n        fontSize: 14\n      },\n      children: [\"Your PeerFund balance:\", ' ', loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Loading\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"$\", availDollars !== null && availDollars !== void 0 ? availDollars : '0.00']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        marginTop: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleFund,\n        disabled: busy || loading,\n        style: {\n          background: hasEnough ? '#4f46e5' : '#9ca3af',\n          color: '#fff',\n          border: '1px solid transparent',\n          padding: '8px 14px',\n          borderRadius: 8,\n          fontWeight: 600,\n          cursor: busy || loading ? 'not-allowed' : 'pointer',\n          fontSize: 14\n        },\n        children: busy ? 'Funding…' : hasEnough ? 'Fund from wallet' : 'Fund from wallet (add funds)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => onNeedMoreFunds === null || onNeedMoreFunds === void 0 ? void 0 : onNeedMoreFunds(),\n        style: {\n          background: '#ffffff',\n          color: '#4b5563',\n          border: '1px solid #d1d5db',\n          padding: '8px 14px',\n          borderRadius: 8,\n          fontWeight: 500,\n          cursor: 'pointer',\n          fontSize: 14\n        },\n        children: \"Add funds / update bank\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10,\n        fontSize: 13,\n        color: '#b91c1c',\n        background: '#fee2e2',\n        border: '1px solid #fecaca',\n        borderRadius: 6,\n        padding: '6px 8px'\n      },\n      children: errorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), successMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10,\n        fontSize: 13,\n        color: '#166534',\n        background: '#dcfce7',\n        border: '1px solid #bbf7d0',\n        borderRadius: 6,\n        padding: '6px 8px'\n      },\n      children: successMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n_s(LoanFundingPanel, \"tJ6zFh8cPVk2hKjqQp0GmbPebDc=\");\n_c = LoanFundingPanel;\nLoanFundingPanel.propTypes = {\n  loan: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    principalCents: PropTypes.number,\n    amount: PropTypes.number\n  }).isRequired,\n  walletAvailableCents: PropTypes.number,\n  onWalletSynced: PropTypes.func,\n  onNeedMoreFunds: PropTypes.func,\n  onFunded: PropTypes.func\n};\nvar _c;\n$RefreshReg$(_c, \"LoanFundingPanel\");","map":{"version":3,"names":["React","useEffect","useState","PropTypes","jsxDEV","_jsxDEV","getToken","t","localStorage","getItem","replace","toLowerCase","startsWith","slice","authHeaders","Authorization","LoanFundingPanel","loan","walletAvailableCents","onWalletSynced","onNeedMoreFunds","onFunded","_s","availableCents","setAvailableCents","loading","setLoading","busy","setBusy","errorMsg","setErrorMsg","successMsg","setSuccessMsg","principalCents","Math","round","amount","loanAmountDollars","toFixed","availDollars","hasEnough","cancelled","loadWallet","res","fetch","headers","ok","Error","text","data","json","cents","available","e","message","handleFund","id","method","body","JSON","stringify","txt","catch","payload","wRes","wData","style","marginTop","padding","borderRadius","border","background","maxWidth","children","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","margin","color","fontSize","display","gap","type","onClick","disabled","fontWeight","cursor","_c","propTypes","shape","string","isRequired","number","func","$RefreshReg$"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/loans/LoanFundingPanel.jsx"],"sourcesContent":["// src/features/loans/LoanFundingPanel.jsx\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\n/* ------------ auth helpers (same pattern as other screens) ------------ */\nfunction getToken() {\n  let t = localStorage.getItem('token') || '';\n  t = t.replace(/^\"|\"$/g, '');\n  if (t.toLowerCase().startsWith('bearer ')) t = t.slice(7);\n  return t || null;\n}\nfunction authHeaders() {\n  const t = getToken();\n  return t ? { Authorization: `Bearer ${t}` } : {};\n}\n\n/**\n * LoanFundingPanel\n *\n * Lets the lender fund a specific loan *from their wallet balance*.\n * - Shows wallet balance + loan amount\n * - Calls POST /api/loans/:loanId/fund\n * - If balance is too low, calls onNeedMoreFunds() so parent can open WalletPanel\n */\nexport default function LoanFundingPanel({\n  loan,\n  walletAvailableCents,\n  onWalletSynced,\n  onNeedMoreFunds,\n  onFunded,\n}) {\n  const [availableCents, setAvailableCents] = useState(\n    typeof walletAvailableCents === 'number' ? walletAvailableCents : null\n  );\n  const [loading, setLoading] = useState(!walletAvailableCents);\n  const [busy, setBusy] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  const [successMsg, setSuccessMsg] = useState('');\n\n  const principalCents =\n    typeof loan.principalCents === 'number' && loan.principalCents > 0\n      ? loan.principalCents\n      : Math.round((loan.amount || 0) * 100);\n\n  const loanAmountDollars = (principalCents / 100).toFixed(2);\n  const availDollars =\n    typeof availableCents === 'number' ? (availableCents / 100).toFixed(2) : null;\n\n  const hasEnough =\n    typeof availableCents === 'number' && availableCents >= principalCents;\n\n  /* ----------------------------- load wallet ---------------------------- */\n  useEffect(() => {\n    if (typeof walletAvailableCents === 'number') return; // parent already synced\n    let cancelled = false;\n\n    async function loadWallet() {\n      setLoading(true);\n      setErrorMsg('');\n      try {\n        const res = await fetch('/api/wallet/me', {\n          headers: { 'Content-Type': 'application/json', ...authHeaders() },\n        });\n        if (!res.ok) {\n          throw new Error((await res.text()) || 'Failed to load wallet.');\n        }\n        const data = await res.json();\n        const cents =\n          typeof data.availableCents === 'number'\n            ? data.availableCents\n            : Math.round((data.available || 0) * 100);\n\n        if (!cancelled) {\n          setAvailableCents(cents);\n          onWalletSynced?.(cents);\n        }\n      } catch (e) {\n        if (!cancelled) {\n          setErrorMsg(e.message || 'Could not load wallet balance.');\n        }\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    }\n\n    loadWallet();\n    return () => {\n      cancelled = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /* -------------------------- fund from wallet -------------------------- */\n  async function handleFund() {\n    setErrorMsg('');\n    setSuccessMsg('');\n\n    if (!hasEnough) {\n      onNeedMoreFunds?.();\n      return;\n    }\n\n    setBusy(true);\n    try {\n      const res = await fetch(`/api/loans/${loan.id}/fund`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', ...authHeaders() },\n        body: JSON.stringify({}),\n      });\n\n      if (!res.ok) {\n        const txt = await res.text().catch(() => '');\n        throw new Error(txt || 'Failed to fund loan.');\n      }\n\n      const payload = await res.json().catch(() => ({}));\n      setSuccessMsg('Loan funded successfully from your PeerFund balance.');\n\n      // re-sync wallet after funding\n      try {\n        const wRes = await fetch('/api/wallet/me', {\n          headers: { 'Content-Type': 'application/json', ...authHeaders() },\n        });\n        if (wRes.ok) {\n          const wData = await wRes.json();\n          const cents =\n            typeof wData.availableCents === 'number'\n              ? wData.availableCents\n              : Math.round((wData.available || 0) * 100);\n          setAvailableCents(cents);\n          onWalletSynced?.(cents);\n        }\n      } catch {\n        // soft-fail; not critical\n      }\n\n      onFunded?.(payload.loan || loan);\n    } catch (e) {\n      setErrorMsg(e.message || 'Could not fund loan.');\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  /* --------------------------------- UI -------------------------------- */\n  return (\n    <section\n      style={{\n        marginTop: 16,\n        padding: 16,\n        borderRadius: 12,\n        border: '1px solid #e2e8f0',\n        background: '#ffffff',\n        maxWidth: 520,\n      }}\n    >\n      <h3 style={{ marginTop: 0, marginBottom: 8 }}>Fund this Loan</h3>\n\n      <p style={{ margin: '4px 0', color: '#475569', fontSize: 14 }}>\n        Loan amount:{' '}\n        <strong>${loanAmountDollars}</strong>\n      </p>\n\n      <p style={{ margin: '4px 0 12px', color: '#475569', fontSize: 14 }}>\n        Your PeerFund balance:{' '}\n        {loading ? (\n          <span>Loading…</span>\n        ) : (\n          <strong>${availDollars ?? '0.00'}</strong>\n        )}\n      </p>\n\n      <div style={{ display: 'flex', gap: 8, marginTop: 6 }}>\n        <button\n          type=\"button\"\n          onClick={handleFund}\n          disabled={busy || loading}\n          style={{\n            background: hasEnough ? '#4f46e5' : '#9ca3af',\n            color: '#fff',\n            border: '1px solid transparent',\n            padding: '8px 14px',\n            borderRadius: 8,\n            fontWeight: 600,\n            cursor: busy || loading ? 'not-allowed' : 'pointer',\n            fontSize: 14,\n          }}\n        >\n          {busy ? 'Funding…' : hasEnough ? 'Fund from wallet' : 'Fund from wallet (add funds)'}\n        </button>\n\n        <button\n          type=\"button\"\n          onClick={() => onNeedMoreFunds?.()}\n          style={{\n            background: '#ffffff',\n            color: '#4b5563',\n            border: '1px solid #d1d5db',\n            padding: '8px 14px',\n            borderRadius: 8,\n            fontWeight: 500,\n            cursor: 'pointer',\n            fontSize: 14,\n          }}\n        >\n          Add funds / update bank\n        </button>\n      </div>\n\n      {errorMsg && (\n        <div\n          style={{\n            marginTop: 10,\n            fontSize: 13,\n            color: '#b91c1c',\n            background: '#fee2e2',\n            border: '1px solid #fecaca',\n            borderRadius: 6,\n            padding: '6px 8px',\n          }}\n        >\n          {errorMsg}\n        </div>\n      )}\n\n      {successMsg && (\n        <div\n          style={{\n            marginTop: 10,\n            fontSize: 13,\n            color: '#166534',\n            background: '#dcfce7',\n            border: '1px solid #bbf7d0',\n            borderRadius: 6,\n            padding: '6px 8px',\n          }}\n        >\n          {successMsg}\n        </div>\n      )}\n    </section>\n  );\n}\n\nLoanFundingPanel.propTypes = {\n  loan: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    principalCents: PropTypes.number,\n    amount: PropTypes.number,\n  }).isRequired,\n  walletAvailableCents: PropTypes.number,\n  onWalletSynced: PropTypes.func,\n  onNeedMoreFunds: PropTypes.func,\n  onFunded: PropTypes.func,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}