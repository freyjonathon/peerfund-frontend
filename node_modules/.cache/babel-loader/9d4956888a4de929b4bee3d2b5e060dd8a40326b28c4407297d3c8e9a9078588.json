{"ast":null,"code":"// src/features/dashboard/Dashboard.jsx\nimport React,{useEffect,useRef,useState}from'react';import{useNavigate}from'react-router-dom';import TopLenders from'../../components/TopLenders';import UserProfileCard from'../../components/UserProfileCard';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const navigate=useNavigate();const[posts,setPosts]=useState([]);const[newPost,setNewPost]=useState('');const[userName,setUserName]=useState('User');const[superUser,setSuperUser]=useState(false);const[loading,setLoading]=useState(true);// profile modal\nconst[showProfile,setShowProfile]=useState(false);const[profileLoading,setProfileLoading]=useState(false);const[profileErr,setProfileErr]=useState('');const[profileUser,setProfileUser]=useState(null);// --- Superuser popover state (must be before any early return) ---\nconst[supOpen,setSupOpen]=useState(false);const supBtnRef=useRef(null);const supPopRef=useRef(null);const toggleSup=()=>setSupOpen(v=>!v);const closeSup=()=>setSupOpen(false);// close on outside click / ESC\nuseEffect(()=>{if(!supOpen)return;const onClick=e=>{var _supPopRef$current,_supBtnRef$current;if((_supPopRef$current=supPopRef.current)!==null&&_supPopRef$current!==void 0&&_supPopRef$current.contains(e.target))return;if((_supBtnRef$current=supBtnRef.current)!==null&&_supBtnRef$current!==void 0&&_supBtnRef$current.contains(e.target))return;closeSup();};const onEsc=e=>{if(e.key==='Escape')closeSup();};window.addEventListener('click',onClick);window.addEventListener('keydown',onEsc);return()=>{window.removeEventListener('click',onClick);window.removeEventListener('keydown',onEsc);};},[supOpen]);useEffect(()=>{const init=async()=>{const token=localStorage.getItem('token');if(!token)return navigate('/login');try{const res=await fetch('/api/users/profile',{headers:{Authorization:\"Bearer \".concat(token)}});if(!res.ok)throw new Error('Failed to fetch user');const data=await res.json();setUserName(data.name||'User');setSuperUser(!!data.isSuperUser);}catch(err){console.error('Failed to fetch user profile:',err);navigate('/login');}finally{setLoading(false);}fetchPosts();};init();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const fetchPosts=async()=>{try{const res=await fetch('/api/posts',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(!res.ok)throw new Error('Failed to load posts');const data=await res.json();setPosts(data);}catch(err){console.error('Error fetching posts:',err);}};const handlePost=async()=>{if(!newPost.trim())return;try{const res=await fetch('/api/posts',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({content:newPost})});if(!res.ok)throw new Error('Failed to create post');setNewPost('');fetchPosts();}catch(err){console.error('Error posting:',err);alert('Failed to post.');}};const handleUpgrade=async()=>{try{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}// 1) Check they have a funding card on file\nconst pmRes=await fetch('/api/billing/has-loan-payment-method',{headers:{Authorization:\"Bearer \".concat(token)}});let hasPayment=false;if(pmRes.ok){const pmData=await pmRes.json().catch(()=>({}));hasPayment=!!(pmData!==null&&pmData!==void 0&&pmData.hasLoanPaymentMethod);}if(!hasPayment){const go=window.confirm('To upgrade to SuperUser, please save a funding card in your Wallet first.\\n\\nGo to Wallet now?');if(go)navigate('/wallet');return;}// 2) Call your SuperUser upgrade endpoint (wallet or card, per our plan)\nconst res=await fetch('/api/users/superuser/upgrade',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}});if(!res.ok){const txt=await res.text().catch(()=>'');throw new Error(txt||'Upgrade failed');}await res.json().catch(()=>({}));setSuperUser(true);alert('ðŸŽ‰ Youâ€™re now a SuperUser! Your monthly $1 fee will use your saved funding card.');}catch(err){console.error('Upgrade error:',err);alert(\"Failed to upgrade:\\n\".concat(err.message||err));}};const getToday=()=>{const days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];return days[new Date().getDay()];};/* ---------- Profile modal helpers ---------- */const openProfile=async userId=>{if(!userId)return;setShowProfile(true);setProfileLoading(true);setProfileErr('');setProfileUser(null);try{const token=localStorage.getItem('token')||'';const res=await fetch(\"/api/users/\".concat(userId,\"/profile\"),{headers:token?{Authorization:\"Bearer \".concat(token)}:{}});if(!res.ok)throw new Error(await res.text());const data=await res.json();setProfileUser(data);}catch(e){console.error(e);setProfileErr('Failed to load profile.');}finally{setProfileLoading(false);}};const closeProfile=()=>{setShowProfile(false);setProfileUser(null);setProfileErr('');};const handleRequestFromCard=_ref=>{let{amount,rate,lenderId}=_ref;if(!amount||!rate){const amtStr=window.prompt('Amount (50, 100, 150, 200, 250):');const amt=parseInt(amtStr,10);if(![50,100,150,200,250].includes(amt))return;const rateStr=window.prompt('APR (%) offered by this lender:');const r=Number(rateStr);if(!Number.isFinite(r))return;amount=amt;rate=r;}const monthsStr=window.prompt(\"How many months for $\".concat(amount,\" at \").concat(rate,\"% APR? (1\\u201324)\"));const months=Math.max(1,Math.min(24,parseInt(monthsStr||'0',10)));if(!months)return;const ok=window.confirm(\"Send request for $\".concat(amount,\" at \").concat(rate,\"% APR over \").concat(months,\" months?\"));if(!ok)return;navigate(\"/direct-request/\".concat(lenderId,\"?amount=\").concat(amount,\"&rate=\").concat(rate,\"&months=\").concat(months));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"db-shell center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"db-loader\",children:\"Loading your dashboard\\u2026\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"db-shell\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"db-hero card-glass\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"db-hero-text\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"db-title\",children:[\"Hey \",userName,\", Happy \",getToday(),\"!\"]}),superUser&&/*#__PURE__*/_jsx(\"p\",{className:\"db-subtitle\",children:\"You\\u2019re a SuperUser \\u2013 platform fees are waived on your repayments. \\uD83C\\uDF89\"})]}),!superUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"db-cta\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{ref:supBtnRef,type:\"button\",className:\"chip chip--clickable\",onClick:toggleSup,\"aria-haspopup\":\"dialog\",\"aria-expanded\":supOpen,\"aria-controls\":\"sup-popover\",title:\"Learn about Superuser\",children:\"Become a Superuser\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"db-cta-text\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Skip platform fee for \",/*#__PURE__*/_jsx(\"strong\",{children:\"$1/mo\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Support PeerFund and unlock a few nice perks.\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn primary\",onClick:handleUpgrade,children:\"Upgrade now\"}),supOpen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sup-popover\",id:\"sup-popover\",role:\"dialog\",\"aria-modal\":\"false\",ref:supPopRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"sup-popover__head\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sup-popover__title\",children:\"Superuser benefits\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"sup-popover__list\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Skip the 3% platform fee\"}),\" on repayments.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"SuperUser badge\"}),\" on your profile and posts.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Priority support\"}),\" & early access to new features.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sup-popover__actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:closeSup,children:\"Maybe later\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleUpgrade,children:\"Upgrade for $1/mo\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sup-popover__overlay\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"db-grid\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card-panel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel-head\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Share with the community\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"composer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"What\\u2019s on your mind?\",value:newPost,onChange:e=>setNewPost(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handlePost,children:\"Post\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"section-label\",children:\"\\uD83D\\uDCE2 PeerFeed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"feed\",children:posts.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty\",children:\"No posts yet. Be the first to say hi!\"}):posts.map(post=>{var _post$user,_post$user2;const authorId=(post===null||post===void 0?void 0:(_post$user=post.user)===null||_post$user===void 0?void 0:_post$user.id)||(post===null||post===void 0?void 0:post.userId);const authorName=(post===null||post===void 0?void 0:(_post$user2=post.user)===null||_post$user2===void 0?void 0:_post$user2.name)||'Unknown';return/*#__PURE__*/_jsxs(\"article\",{className:\"feed-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feed-top\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"link\",onClick:()=>openProfile(authorId),disabled:!authorId,title:authorId?'View profile':undefined,children:authorName}),/*#__PURE__*/_jsx(\"time\",{className:\"time\",children:new Date(post.createdAt).toLocaleString()})]}),/*#__PURE__*/_jsx(\"p\",{className:\"content\",children:post.content})]},post.id||post._id);})})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"card-panel side\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel-head\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Top 10 Lenders\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"side-card\",children:/*#__PURE__*/_jsx(TopLenders,{})})]})]}),showProfile&&/*#__PURE__*/_jsx(\"div\",{className:\"pfm-backdrop\",onClick:closeProfile,children:/*#__PURE__*/_jsxs(\"div\",{className:\"pfm-modal\",onClick:e=>e.stopPropagation(),role:\"dialog\",\"aria-modal\":\"true\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pfm-close\",onClick:closeProfile,\"aria-label\":\"Close\",children:\"\\u2715\"}),profileLoading?/*#__PURE__*/_jsx(\"div\",{className:\"pfm-body pfm-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pfm-spinner\"})}):profileErr?/*#__PURE__*/_jsx(\"div\",{className:\"pfm-body pfm-error\",children:profileErr}):/*#__PURE__*/_jsx(\"div\",{className:\"pfm-body\",children:/*#__PURE__*/_jsx(UserProfileCard,{user:profileUser,onMessage:()=>navigate(\"/messages?to=\".concat(profileUser===null||profileUser===void 0?void 0:profileUser.id)),onRequest:handleRequestFromCard})})]})})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","TopLenders","UserProfileCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","navigate","posts","setPosts","newPost","setNewPost","userName","setUserName","superUser","setSuperUser","loading","setLoading","showProfile","setShowProfile","profileLoading","setProfileLoading","profileErr","setProfileErr","profileUser","setProfileUser","supOpen","setSupOpen","supBtnRef","supPopRef","toggleSup","v","closeSup","onClick","e","_supPopRef$current","_supBtnRef$current","current","contains","target","onEsc","key","window","addEventListener","removeEventListener","init","token","localStorage","getItem","res","fetch","headers","Authorization","concat","ok","Error","data","json","name","isSuperUser","err","console","error","fetchPosts","handlePost","trim","method","body","JSON","stringify","content","alert","handleUpgrade","pmRes","hasPayment","pmData","catch","hasLoanPaymentMethod","go","confirm","txt","text","message","getToday","days","Date","getDay","openProfile","userId","closeProfile","handleRequestFromCard","_ref","amount","rate","lenderId","amtStr","prompt","amt","parseInt","includes","rateStr","r","Number","isFinite","monthsStr","months","Math","max","min","className","children","ref","type","title","id","role","placeholder","value","onChange","length","map","post","_post$user","_post$user2","authorId","user","authorName","disabled","undefined","createdAt","toLocaleString","_id","stopPropagation","onMessage","onRequest"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/dashboard/Dashboard.jsx"],"sourcesContent":["// src/features/dashboard/Dashboard.jsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport TopLenders from '../../components/TopLenders';\r\nimport UserProfileCard from '../../components/UserProfileCard';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [posts, setPosts] = useState([]);\r\n  const [newPost, setNewPost] = useState('');\r\n  const [userName, setUserName] = useState('User');\r\n  const [superUser, setSuperUser] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // profile modal\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [profileLoading, setProfileLoading] = useState(false);\r\n  const [profileErr, setProfileErr] = useState('');\r\n  const [profileUser, setProfileUser] = useState(null);\r\n\r\n  // --- Superuser popover state (must be before any early return) ---\r\n  const [supOpen, setSupOpen] = useState(false);\r\n  const supBtnRef = useRef(null);\r\n  const supPopRef = useRef(null);\r\n\r\n  const toggleSup = () => setSupOpen(v => !v);\r\n  const closeSup = () => setSupOpen(false);\r\n\r\n  // close on outside click / ESC\r\n  useEffect(() => {\r\n    if (!supOpen) return;\r\n    const onClick = (e) => {\r\n      if (supPopRef.current?.contains(e.target)) return;\r\n      if (supBtnRef.current?.contains(e.target)) return;\r\n      closeSup();\r\n    };\r\n    const onEsc = (e) => { if (e.key === 'Escape') closeSup(); };\r\n    window.addEventListener('click', onClick);\r\n    window.addEventListener('keydown', onEsc);\r\n    return () => {\r\n      window.removeEventListener('click', onClick);\r\n      window.removeEventListener('keydown', onEsc);\r\n    };\r\n  }, [supOpen]);\r\n\r\n  useEffect(() => {\r\n    const init = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return navigate('/login');\r\n\r\n      try {\r\n        const res = await fetch('/api/users/profile', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (!res.ok) throw new Error('Failed to fetch user');\r\n        const data = await res.json();\r\n        setUserName(data.name || 'User');\r\n        setSuperUser(!!data.isSuperUser);\r\n      } catch (err) {\r\n        console.error('Failed to fetch user profile:', err);\r\n        navigate('/login');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n\r\n      fetchPosts();\r\n    };\r\n    init();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const fetchPosts = async () => {\r\n    try {\r\n      const res = await fetch('/api/posts', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      if (!res.ok) throw new Error('Failed to load posts');\r\n      const data = await res.json();\r\n      setPosts(data);\r\n    } catch (err) {\r\n      console.error('Error fetching posts:', err);\r\n    }\r\n  };\r\n\r\n  const handlePost = async () => {\r\n    if (!newPost.trim()) return;\r\n    try {\r\n      const res = await fetch('/api/posts', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n        body: JSON.stringify({ content: newPost }),\r\n      });\r\n      if (!res.ok) throw new Error('Failed to create post');\r\n      setNewPost('');\r\n      fetchPosts();\r\n    } catch (err) {\r\n      console.error('Error posting:', err);\r\n      alert('Failed to post.');\r\n    }\r\n  };\r\n\r\n    const handleUpgrade = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    // 1) Check they have a funding card on file\r\n    const pmRes = await fetch('/api/billing/has-loan-payment-method', {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    let hasPayment = false;\r\n    if (pmRes.ok) {\r\n      const pmData = await pmRes.json().catch(() => ({}));\r\n      hasPayment = !!pmData?.hasLoanPaymentMethod;\r\n    }\r\n\r\n    if (!hasPayment) {\r\n      const go = window.confirm(\r\n        'To upgrade to SuperUser, please save a funding card in your Wallet first.\\n\\nGo to Wallet now?'\r\n      );\r\n      if (go) navigate('/wallet');\r\n      return;\r\n    }\r\n\r\n    // 2) Call your SuperUser upgrade endpoint (wallet or card, per our plan)\r\n    const res = await fetch('/api/users/superuser/upgrade', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const txt = await res.text().catch(() => '');\r\n      throw new Error(txt || 'Upgrade failed');\r\n    }\r\n\r\n    await res.json().catch(() => ({}));\r\n    setSuperUser(true);\r\n    alert('ðŸŽ‰ Youâ€™re now a SuperUser! Your monthly $1 fee will use your saved funding card.');\r\n  } catch (err) {\r\n    console.error('Upgrade error:', err);\r\n    alert(`Failed to upgrade:\\n${err.message || err}`);\r\n  }\r\n};\r\n\r\n  const getToday = () => {\r\n    const days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\r\n    return days[new Date().getDay()];\r\n  };\r\n\r\n  /* ---------- Profile modal helpers ---------- */\r\n  const openProfile = async (userId) => {\r\n    if (!userId) return;\r\n    setShowProfile(true);\r\n    setProfileLoading(true);\r\n    setProfileErr('');\r\n    setProfileUser(null);\r\n    try {\r\n      const token = localStorage.getItem('token') || '';\r\n      const res = await fetch(`/api/users/${userId}/profile`, {\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      });\r\n      if (!res.ok) throw new Error(await res.text());\r\n      const data = await res.json();\r\n      setProfileUser(data);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setProfileErr('Failed to load profile.');\r\n    } finally {\r\n      setProfileLoading(false);\r\n    }\r\n  };\r\n\r\n  const closeProfile = () => {\r\n    setShowProfile(false);\r\n    setProfileUser(null);\r\n    setProfileErr('');\r\n  };\r\n\r\n  const handleRequestFromCard = ({ amount, rate, lenderId }) => {\r\n    if (!amount || !rate) {\r\n      const amtStr = window.prompt('Amount (50, 100, 150, 200, 250):');\r\n      const amt = parseInt(amtStr, 10);\r\n      if (![50, 100, 150, 200, 250].includes(amt)) return;\r\n      const rateStr = window.prompt('APR (%) offered by this lender:');\r\n      const r = Number(rateStr);\r\n      if (!Number.isFinite(r)) return;\r\n      amount = amt; rate = r;\r\n    }\r\n    const monthsStr = window.prompt(`How many months for $${amount} at ${rate}% APR? (1â€“24)`);\r\n    const months = Math.max(1, Math.min(24, parseInt(monthsStr || '0', 10)));\r\n    if (!months) return;\r\n    const ok = window.confirm(`Send request for $${amount} at ${rate}% APR over ${months} months?`);\r\n    if (!ok) return;\r\n    navigate(`/direct-request/${lenderId}?amount=${amount}&rate=${rate}&months=${months}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"db-shell center\">\r\n        <div className=\"db-loader\">Loading your dashboardâ€¦</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"db-shell\">\r\n      {/* Header / greeting + CTA */}\r\n           <header className=\"db-hero card-glass\">\r\n        <div className=\"db-hero-text\">\r\n          <h2 className=\"db-title\">\r\n            Hey {userName}, Happy {getToday()}!\r\n          </h2>\r\n          {superUser && (\r\n            <p className=\"db-subtitle\">\r\n              Youâ€™re a SuperUser â€“ platform fees are waived on your repayments. ðŸŽ‰\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Only show upgrade CTA if not already a SuperUser */}\r\n        {!superUser && (\r\n          <div className=\"db-cta\">\r\n            <div>\r\n              <button\r\n                ref={supBtnRef}\r\n                type=\"button\"\r\n                className=\"chip chip--clickable\"\r\n                onClick={toggleSup}\r\n                aria-haspopup=\"dialog\"\r\n                aria-expanded={supOpen}\r\n                aria-controls=\"sup-popover\"\r\n                title=\"Learn about Superuser\"\r\n              >\r\n                Become a Superuser\r\n              </button>\r\n\r\n              <div className=\"db-cta-text\">\r\n                <h3>\r\n                  Skip platform fee for <strong>$1/mo</strong>\r\n                </h3>\r\n                <p>Support PeerFund and unlock a few nice perks.</p>\r\n              </div>\r\n            </div>\r\n\r\n            <button className=\"action-btn primary\" onClick={handleUpgrade}>\r\n              Upgrade now\r\n            </button>\r\n\r\n            {/* Popover */}\r\n            {supOpen && (\r\n              <>\r\n                <div\r\n                  className=\"sup-popover\"\r\n                  id=\"sup-popover\"\r\n                  role=\"dialog\"\r\n                  aria-modal=\"false\"\r\n                  ref={supPopRef}\r\n                >\r\n                  <div className=\"sup-popover__head\">\r\n                    <div className=\"sup-popover__title\">Superuser benefits</div>\r\n                  </div>\r\n                  <ul className=\"sup-popover__list\">\r\n                    <li>\r\n                      <strong>Skip the 3% platform fee</strong> on repayments.\r\n                    </li>\r\n                    <li>\r\n                      <strong>SuperUser badge</strong> on your profile and posts.\r\n                    </li>\r\n                    <li>\r\n                      <strong>Priority support</strong> &amp; early access to new\r\n                      features.\r\n                    </li>\r\n                  </ul>\r\n                  <div className=\"sup-popover__actions\">\r\n                    <button className=\"btn\" onClick={closeSup}>\r\n                      Maybe later\r\n                    </button>\r\n                    <button className=\"btn-primary\" onClick={handleUpgrade}>\r\n                      Upgrade for $1/mo\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"sup-popover__overlay\" />\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </header>\r\n\r\n\r\n      {/* Two-column content */}\r\n      <div className=\"db-grid\">\r\n        {/* Left: composer + feed */}\r\n        <section className=\"card-panel\">\r\n          <div className=\"panel-head\">\r\n            <h3>Share with the community</h3>\r\n          </div>\r\n\r\n          <div className=\"composer\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Whatâ€™s on your mind?\"\r\n              value={newPost}\r\n              onChange={(e) => setNewPost(e.target.value)}\r\n            />\r\n            <button className=\"btn\" onClick={handlePost}>Post</button>\r\n          </div>\r\n\r\n          <h4 className=\"section-label\">ðŸ“¢ PeerFeed</h4>\r\n          <div className=\"feed\">\r\n            {posts.length === 0 ? (\r\n              <div className=\"empty\">No posts yet. Be the first to say hi!</div>\r\n            ) : (\r\n              posts.map((post) => {\r\n                const authorId = post?.user?.id || post?.userId;\r\n                const authorName = post?.user?.name || 'Unknown';\r\n                return (\r\n                  <article key={post.id || post._id} className=\"feed-item\">\r\n                    <div className=\"feed-top\">\r\n                      <button\r\n                        className=\"link\"\r\n                        onClick={() => openProfile(authorId)}\r\n                        disabled={!authorId}\r\n                        title={authorId ? 'View profile' : undefined}\r\n                      >\r\n                        {authorName}\r\n                      </button>\r\n                      <time className=\"time\">\r\n                        {new Date(post.createdAt).toLocaleString()}\r\n                      </time>\r\n                    </div>\r\n                    <p className=\"content\">{post.content}</p>\r\n                  </article>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </section>\r\n\r\n        {/* Right: leaderboard + actions */}\r\n        <aside className=\"card-panel side\">\r\n          <div className=\"panel-head\"><h3>Top 10 Lenders</h3></div>\r\n          <div className=\"side-card\">\r\n            <TopLenders />\r\n          </div>\r\n        </aside>\r\n      </div>\r\n\r\n      {/* Profile modal */}\r\n      {showProfile && (\r\n        <div className=\"pfm-backdrop\" onClick={closeProfile}>\r\n          <div\r\n            className=\"pfm-modal\"\r\n            onClick={(e) => e.stopPropagation()}\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n          >\r\n            <button className=\"pfm-close\" onClick={closeProfile} aria-label=\"Close\">âœ•</button>\r\n            {profileLoading ? (\r\n              <div className=\"pfm-body pfm-center\"><div className=\"pfm-spinner\" /></div>\r\n            ) : profileErr ? (\r\n              <div className=\"pfm-body pfm-error\">{profileErr}</div>\r\n            ) : (\r\n              <div className=\"pfm-body\">\r\n                <UserProfileCard\r\n                  user={profileUser}\r\n                  onMessage={() => navigate(`/messages?to=${profileUser?.id}`)}\r\n                  onRequest={handleRequestFromCard}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}