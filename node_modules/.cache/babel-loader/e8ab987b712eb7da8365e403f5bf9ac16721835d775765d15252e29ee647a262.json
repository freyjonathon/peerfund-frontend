{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchWallet}from'./walletApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function WalletBadge(){const[cents,setCents]=useState(0);const[loading,setLoading]=useState(false);const refreshBalance=async()=>{try{setLoading(true);const w=await fetchWallet();setCents(w.availableCents||0);}catch(err){console.warn('Failed to refresh wallet',err);}finally{setLoading(false);}};// Initial load\nuseEffect(()=>{refreshBalance();},[]);const dollars=(cents/100).toLocaleString(undefined,{style:'currency',currency:'USD'});return/*#__PURE__*/_jsxs(\"button\",{className:\"balance-pill\",onClick:refreshBalance,children:[/*#__PURE__*/_jsx(\"span\",{className:\"pill-label\",children:\"Balance\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pill-amount\",children:loading?' ...':dollars})]});}","map":{"version":3,"names":["React","useEffect","useState","fetchWallet","jsx","_jsx","jsxs","_jsxs","WalletBadge","cents","setCents","loading","setLoading","refreshBalance","w","availableCents","err","console","warn","dollars","toLocaleString","undefined","style","currency","className","onClick","children"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/wallet/WalletBadge.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchWallet } from './walletApi';\n\nexport default function WalletBadge() {\n  const [cents, setCents] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  const refreshBalance = async () => {\n    try {\n      setLoading(true);\n      const w = await fetchWallet();\n      setCents(w.availableCents || 0);\n    } catch (err) {\n      console.warn('Failed to refresh wallet', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initial load\n  useEffect(() => {\n    refreshBalance();\n  }, []);\n\n  const dollars = (cents / 100).toLocaleString(undefined, {\n    style: 'currency',\n    currency: 'USD',\n  });\n\n  return (\n    <button className=\"balance-pill\" onClick={refreshBalance}>\n      <span className=\"pill-label\">Balance</span>\n      <span className=\"pill-amount\">\n        {loading ? ' ...' : dollars}\n      </span>\n    </button>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CACpC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAW,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACFD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAE,CAAC,CAAG,KAAM,CAAAX,WAAW,CAAC,CAAC,CAC7BO,QAAQ,CAACI,CAAC,CAACC,cAAc,EAAI,CAAC,CAAC,CACjC,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,IAAI,CAAC,0BAA0B,CAAEF,GAAG,CAAC,CAC/C,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACAX,SAAS,CAAC,IAAM,CACdY,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,OAAO,CAAG,CAACV,KAAK,CAAG,GAAG,EAAEW,cAAc,CAACC,SAAS,CAAE,CACtDC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KACZ,CAAC,CAAC,CAEF,mBACEhB,KAAA,WAAQiB,SAAS,CAAC,cAAc,CAACC,OAAO,CAAEZ,cAAe,CAAAa,QAAA,eACvDrB,IAAA,SAAMmB,SAAS,CAAC,YAAY,CAAAE,QAAA,CAAC,SAAO,CAAM,CAAC,cAC3CrB,IAAA,SAAMmB,SAAS,CAAC,aAAa,CAAAE,QAAA,CAC1Bf,OAAO,CAAG,MAAM,CAAGQ,OAAO,CACvB,CAAC,EACD,CAAC,CAEb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}