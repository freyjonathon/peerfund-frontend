{"ast":null,"code":"// src/features/wallet/walletApi.js\nexport async function fetchWallet() {\n  const token = localStorage.getItem('token');\n  const res = await fetch('/api/wallet/me', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  if (!res.ok) throw new Error(await safeErr(res));\n  return res.json();\n}\nexport async function createDepositIntent(amountDollars) {\n  const token = localStorage.getItem('token');\n  const res = await fetch('/api/wallet/deposit-intent', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      amount: amountDollars\n    })\n  });\n  if (!res.ok) throw new Error(await safeErr(res));\n  return res.json(); // { clientSecret, ledgerId } OR { simulated: true, ledgerId }\n}\nexport async function devConfirmDeposit(ledgerId) {\n  const token = localStorage.getItem('token');\n  const res = await fetch('/api/wallet/deposit/confirm', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      ledgerId\n    })\n  });\n  if (!res.ok) throw new Error(await safeErr(res));\n  return res.json(); // { ok: true, available }\n}\nasync function safeErr(res) {\n  try {\n    const j = await res.json();\n    return j.error || j.message || `HTTP ${res.status}`;\n  } catch {\n    return `HTTP ${res.status}`;\n  }\n}","map":{"version":3,"names":["fetchWallet","token","localStorage","getItem","res","fetch","headers","Authorization","ok","Error","safeErr","json","createDepositIntent","amountDollars","method","body","JSON","stringify","amount","devConfirmDeposit","ledgerId","j","error","message","status"],"sources":["/Users/alabamalewis/Desktop/PeerFund/p2p_contract_frontend/src/features/wallet/walletApi.js"],"sourcesContent":["// src/features/wallet/walletApi.js\nexport async function fetchWallet() {\n  const token = localStorage.getItem('token');\n  const res = await fetch('/api/wallet/me', { headers: { Authorization: `Bearer ${token}` } });\n  if (!res.ok) throw new Error(await safeErr(res));\n  return res.json();\n}\n\nexport async function createDepositIntent(amountDollars) {\n  const token = localStorage.getItem('token');\n  const res = await fetch('/api/wallet/deposit-intent', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ amount: amountDollars }),\n  });\n  if (!res.ok) throw new Error(await safeErr(res));\n  return res.json(); // { clientSecret, ledgerId } OR { simulated: true, ledgerId }\n}\n\nexport async function devConfirmDeposit(ledgerId) {\n  const token = localStorage.getItem('token');\n  const res = await fetch('/api/wallet/deposit/confirm', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ ledgerId }),\n  });\n  if (!res.ok) throw new Error(await safeErr(res));\n  return res.json(); // { ok: true, available }\n}\n\nasync function safeErr(res) {\n  try { const j = await res.json(); return j.error || j.message || `HTTP ${res.status}`; }\n  catch { return `HTTP ${res.status}`; }\n}\n"],"mappings":"AAAA;AACA,OAAO,eAAeA,WAAWA,CAAA,EAAG;EAClC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gBAAgB,EAAE;IAAEC,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUN,KAAK;IAAG;EAAE,CAAC,CAAC;EAC5F,IAAI,CAACG,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,MAAMC,OAAO,CAACN,GAAG,CAAC,CAAC;EAChD,OAAOA,GAAG,CAACO,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,mBAAmBA,CAACC,aAAa,EAAE;EACvD,MAAMZ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;IACpDS,MAAM,EAAE,MAAM;IACdR,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAAUN,KAAK;IAChC,CAAC;IACDc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEC,MAAM,EAAEL;IAAc,CAAC;EAChD,CAAC,CAAC;EACF,IAAI,CAACT,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,MAAMC,OAAO,CAACN,GAAG,CAAC,CAAC;EAChD,OAAOA,GAAG,CAACO,IAAI,CAAC,CAAC,CAAC,CAAC;AACrB;AAEA,OAAO,eAAeQ,iBAAiBA,CAACC,QAAQ,EAAE;EAChD,MAAMnB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;IACrDS,MAAM,EAAE,MAAM;IACdR,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAAUN,KAAK;IAChC,CAAC;IACDc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEG;IAAS,CAAC;EACnC,CAAC,CAAC;EACF,IAAI,CAAChB,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,MAAMC,OAAO,CAACN,GAAG,CAAC,CAAC;EAChD,OAAOA,GAAG,CAACO,IAAI,CAAC,CAAC,CAAC,CAAC;AACrB;AAEA,eAAeD,OAAOA,CAACN,GAAG,EAAE;EAC1B,IAAI;IAAE,MAAMiB,CAAC,GAAG,MAAMjB,GAAG,CAACO,IAAI,CAAC,CAAC;IAAE,OAAOU,CAAC,CAACC,KAAK,IAAID,CAAC,CAACE,OAAO,IAAI,QAAQnB,GAAG,CAACoB,MAAM,EAAE;EAAE,CAAC,CACxF,MAAM;IAAE,OAAO,QAAQpB,GAAG,CAACoB,MAAM,EAAE;EAAE;AACvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}